{"version":3,"file":"_restaurantRef_-DR4ohNIs.js","sources":["../../node_modules/lucide-react/dist/esm/icons/check-square.js","../../node_modules/lucide-react/dist/esm/icons/loader-2.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/square-pen.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/services/restaurantService.ts","../../src/services/membershipService.ts","../../node_modules/stripe/esm/net/HttpClient.js","../../node_modules/stripe/esm/net/FetchHttpClient.js","../../node_modules/stripe/esm/crypto/CryptoProvider.js","../../node_modules/stripe/esm/crypto/SubtleCryptoProvider.js","../../node_modules/stripe/esm/platform/PlatformFunctions.js","../../node_modules/stripe/esm/StripeEmitter.js","../../node_modules/stripe/esm/platform/WebPlatformFunctions.js","../../node_modules/stripe/esm/Error.js","../../node_modules/es-errors/type.js","../../__vite-browser-external","../../node_modules/object-inspect/index.js","../../node_modules/side-channel-list/index.js","../../node_modules/es-object-atoms/index.js","../../node_modules/es-errors/index.js","../../node_modules/es-errors/eval.js","../../node_modules/es-errors/range.js","../../node_modules/es-errors/ref.js","../../node_modules/es-errors/syntax.js","../../node_modules/es-errors/uri.js","../../node_modules/math-intrinsics/abs.js","../../node_modules/math-intrinsics/floor.js","../../node_modules/math-intrinsics/max.js","../../node_modules/math-intrinsics/min.js","../../node_modules/math-intrinsics/pow.js","../../node_modules/math-intrinsics/round.js","../../node_modules/math-intrinsics/isNaN.js","../../node_modules/math-intrinsics/sign.js","../../node_modules/gopd/gOPD.js","../../node_modules/gopd/index.js","../../node_modules/es-define-property/index.js","../../node_modules/has-symbols/shams.js","../../node_modules/has-symbols/index.js","../../node_modules/get-proto/Reflect.getPrototypeOf.js","../../node_modules/get-proto/Object.getPrototypeOf.js","../../node_modules/function-bind/implementation.js","../../node_modules/function-bind/index.js","../../node_modules/call-bind-apply-helpers/functionCall.js","../../node_modules/call-bind-apply-helpers/functionApply.js","../../node_modules/call-bind-apply-helpers/reflectApply.js","../../node_modules/call-bind-apply-helpers/actualApply.js","../../node_modules/call-bind-apply-helpers/index.js","../../node_modules/dunder-proto/get.js","../../node_modules/get-proto/index.js","../../node_modules/hasown/index.js","../../node_modules/get-intrinsic/index.js","../../node_modules/call-bound/index.js","../../node_modules/side-channel-map/index.js","../../node_modules/side-channel-weakmap/index.js","../../node_modules/side-channel/index.js","../../node_modules/qs/lib/formats.js","../../node_modules/qs/lib/utils.js","../../node_modules/qs/lib/stringify.js","../../node_modules/qs/lib/parse.js","../../node_modules/qs/lib/index.js","../../node_modules/stripe/esm/utils.js","../../node_modules/stripe/esm/RequestSender.js","../../node_modules/stripe/esm/autoPagination.js","../../node_modules/stripe/esm/StripeMethod.js","../../node_modules/stripe/esm/StripeResource.js","../../node_modules/stripe/esm/Webhooks.js","../../node_modules/stripe/esm/apiVersion.js","../../node_modules/stripe/esm/ResourceNamespace.js","../../node_modules/stripe/esm/resources/FinancialConnections/Accounts.js","../../node_modules/stripe/esm/resources/Entitlements/ActiveEntitlements.js","../../node_modules/stripe/esm/resources/Billing/Alerts.js","../../node_modules/stripe/esm/resources/TestHelpers/Issuing/Authorizations.js","../../node_modules/stripe/esm/resources/Issuing/Authorizations.js","../../node_modules/stripe/esm/resources/Tax/Calculations.js","../../node_modules/stripe/esm/resources/Issuing/Cardholders.js","../../node_modules/stripe/esm/resources/TestHelpers/Issuing/Cards.js","../../node_modules/stripe/esm/resources/Issuing/Cards.js","../../node_modules/stripe/esm/resources/BillingPortal/Configurations.js","../../node_modules/stripe/esm/resources/Terminal/Configurations.js","../../node_modules/stripe/esm/resources/TestHelpers/ConfirmationTokens.js","../../node_modules/stripe/esm/resources/Terminal/ConnectionTokens.js","../../node_modules/stripe/esm/resources/Billing/CreditBalanceSummary.js","../../node_modules/stripe/esm/resources/Billing/CreditBalanceTransactions.js","../../node_modules/stripe/esm/resources/Billing/CreditGrants.js","../../node_modules/stripe/esm/resources/Treasury/CreditReversals.js","../../node_modules/stripe/esm/resources/TestHelpers/Customers.js","../../node_modules/stripe/esm/resources/Treasury/DebitReversals.js","../../node_modules/stripe/esm/resources/Issuing/Disputes.js","../../node_modules/stripe/esm/resources/Radar/EarlyFraudWarnings.js","../../node_modules/stripe/esm/resources/V2/Core/EventDestinations.js","../../node_modules/stripe/esm/resources/V2/Core/Events.js","../../node_modules/stripe/esm/resources/Entitlements/Features.js","../../node_modules/stripe/esm/resources/Treasury/FinancialAccounts.js","../../node_modules/stripe/esm/resources/TestHelpers/Treasury/InboundTransfers.js","../../node_modules/stripe/esm/resources/Treasury/InboundTransfers.js","../../node_modules/stripe/esm/resources/Terminal/Locations.js","../../node_modules/stripe/esm/resources/Billing/MeterEventAdjustments.js","../../node_modules/stripe/esm/resources/V2/Billing/MeterEventAdjustments.js","../../node_modules/stripe/esm/resources/V2/Billing/MeterEventSession.js","../../node_modules/stripe/esm/resources/V2/Billing/MeterEventStream.js","../../node_modules/stripe/esm/resources/Billing/MeterEvents.js","../../node_modules/stripe/esm/resources/V2/Billing/MeterEvents.js","../../node_modules/stripe/esm/resources/Billing/Meters.js","../../node_modules/stripe/esm/resources/Climate/Orders.js","../../node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundPayments.js","../../node_modules/stripe/esm/resources/Treasury/OutboundPayments.js","../../node_modules/stripe/esm/resources/TestHelpers/Treasury/OutboundTransfers.js","../../node_modules/stripe/esm/resources/Treasury/OutboundTransfers.js","../../node_modules/stripe/esm/resources/TestHelpers/Issuing/PersonalizationDesigns.js","../../node_modules/stripe/esm/resources/Issuing/PersonalizationDesigns.js","../../node_modules/stripe/esm/resources/Issuing/PhysicalBundles.js","../../node_modules/stripe/esm/resources/Climate/Products.js","../../node_modules/stripe/esm/resources/TestHelpers/Terminal/Readers.js","../../node_modules/stripe/esm/resources/Terminal/Readers.js","../../node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedCredits.js","../../node_modules/stripe/esm/resources/Treasury/ReceivedCredits.js","../../node_modules/stripe/esm/resources/TestHelpers/Treasury/ReceivedDebits.js","../../node_modules/stripe/esm/resources/Treasury/ReceivedDebits.js","../../node_modules/stripe/esm/resources/TestHelpers/Refunds.js","../../node_modules/stripe/esm/resources/Tax/Registrations.js","../../node_modules/stripe/esm/resources/Reporting/ReportRuns.js","../../node_modules/stripe/esm/resources/Reporting/ReportTypes.js","../../node_modules/stripe/esm/resources/Forwarding/Requests.js","../../node_modules/stripe/esm/resources/Sigma/ScheduledQueryRuns.js","../../node_modules/stripe/esm/resources/Apps/Secrets.js","../../node_modules/stripe/esm/resources/BillingPortal/Sessions.js","../../node_modules/stripe/esm/resources/Checkout/Sessions.js","../../node_modules/stripe/esm/resources/FinancialConnections/Sessions.js","../../node_modules/stripe/esm/resources/Tax/Settings.js","../../node_modules/stripe/esm/resources/Climate/Suppliers.js","../../node_modules/stripe/esm/resources/TestHelpers/TestClocks.js","../../node_modules/stripe/esm/resources/Issuing/Tokens.js","../../node_modules/stripe/esm/resources/Treasury/TransactionEntries.js","../../node_modules/stripe/esm/resources/TestHelpers/Issuing/Transactions.js","../../node_modules/stripe/esm/resources/FinancialConnections/Transactions.js","../../node_modules/stripe/esm/resources/Issuing/Transactions.js","../../node_modules/stripe/esm/resources/Tax/Transactions.js","../../node_modules/stripe/esm/resources/Treasury/Transactions.js","../../node_modules/stripe/esm/resources/Radar/ValueListItems.js","../../node_modules/stripe/esm/resources/Radar/ValueLists.js","../../node_modules/stripe/esm/resources/Identity/VerificationReports.js","../../node_modules/stripe/esm/resources/Identity/VerificationSessions.js","../../node_modules/stripe/esm/resources/Accounts.js","../../node_modules/stripe/esm/resources/AccountLinks.js","../../node_modules/stripe/esm/resources/AccountSessions.js","../../node_modules/stripe/esm/resources/ApplePayDomains.js","../../node_modules/stripe/esm/resources/ApplicationFees.js","../../node_modules/stripe/esm/resources/Balance.js","../../node_modules/stripe/esm/resources/BalanceTransactions.js","../../node_modules/stripe/esm/resources/Charges.js","../../node_modules/stripe/esm/resources/ConfirmationTokens.js","../../node_modules/stripe/esm/resources/CountrySpecs.js","../../node_modules/stripe/esm/resources/Coupons.js","../../node_modules/stripe/esm/resources/CreditNotes.js","../../node_modules/stripe/esm/resources/CustomerSessions.js","../../node_modules/stripe/esm/resources/Customers.js","../../node_modules/stripe/esm/resources/Disputes.js","../../node_modules/stripe/esm/resources/EphemeralKeys.js","../../node_modules/stripe/esm/resources/Events.js","../../node_modules/stripe/esm/resources/ExchangeRates.js","../../node_modules/stripe/esm/resources/FileLinks.js","../../node_modules/stripe/esm/multipart.js","../../node_modules/stripe/esm/resources/Files.js","../../node_modules/stripe/esm/resources/InvoiceItems.js","../../node_modules/stripe/esm/resources/InvoiceRenderingTemplates.js","../../node_modules/stripe/esm/resources/Invoices.js","../../node_modules/stripe/esm/resources/Mandates.js","../../node_modules/stripe/esm/resources/OAuth.js","../../node_modules/stripe/esm/resources/PaymentIntents.js","../../node_modules/stripe/esm/resources/PaymentLinks.js","../../node_modules/stripe/esm/resources/PaymentMethodConfigurations.js","../../node_modules/stripe/esm/resources/PaymentMethodDomains.js","../../node_modules/stripe/esm/resources/PaymentMethods.js","../../node_modules/stripe/esm/resources/Payouts.js","../../node_modules/stripe/esm/resources/Plans.js","../../node_modules/stripe/esm/resources/Prices.js","../../node_modules/stripe/esm/resources/Products.js","../../node_modules/stripe/esm/resources/PromotionCodes.js","../../node_modules/stripe/esm/resources/Quotes.js","../../node_modules/stripe/esm/resources/Refunds.js","../../node_modules/stripe/esm/resources/Reviews.js","../../node_modules/stripe/esm/resources/SetupAttempts.js","../../node_modules/stripe/esm/resources/SetupIntents.js","../../node_modules/stripe/esm/resources/ShippingRates.js","../../node_modules/stripe/esm/resources/Sources.js","../../node_modules/stripe/esm/resources/SubscriptionItems.js","../../node_modules/stripe/esm/resources/SubscriptionSchedules.js","../../node_modules/stripe/esm/resources/Subscriptions.js","../../node_modules/stripe/esm/resources/TaxCodes.js","../../node_modules/stripe/esm/resources/TaxIds.js","../../node_modules/stripe/esm/resources/TaxRates.js","../../node_modules/stripe/esm/resources/Tokens.js","../../node_modules/stripe/esm/resources/Topups.js","../../node_modules/stripe/esm/resources/Transfers.js","../../node_modules/stripe/esm/resources/WebhookEndpoints.js","../../node_modules/stripe/esm/resources.js","../../node_modules/stripe/esm/stripe.core.js","../../node_modules/stripe/esm/stripe.esm.worker.js","../../src/services/BusinessOnboardingService.ts","../../src/components/shared/LoadingStates.tsx","../../src/components/registration/RestaurantForm.tsx","../../src/components/membership-tier-modal.tsx","../../src/components/registration/MembershipTierList.tsx","../../src/components/registration/RegistrationSteps.tsx","../../src/pages/onboarding/[restaurantRef].tsx"],"sourcesContent":["/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckSquare = createLucideIcon(\"CheckSquare\", [\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }],\n  [\"path\", { d: \"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\", key: \"1jnkn4\" }]\n]);\n\nexport { CheckSquare as default };\n//# sourceMappingURL=check-square.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Loader2 = createLucideIcon(\"Loader2\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { Loader2 as default };\n//# sourceMappingURL=loader-2.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquarePen = createLucideIcon(\"SquarePen\", [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\"path\", { d: \"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z\", key: \"1lpok0\" }]\n]);\n\nexport { SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tag = createLucideIcon(\"Tag\", [\n  [\n    \"path\",\n    {\n      d: \"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"vktsd0\"\n    }\n  ],\n  [\"circle\", { cx: \"7.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"kqv944\" }]\n]);\n\nexport { Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trophy = createLucideIcon(\"Trophy\", [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n]);\n\nexport { Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","import { supabase } from '../supabase';\r\nimport type { Restaurant, RestaurantFormData, RestaurantInvitation } from '../types';\r\n\r\nexport const restaurantService = {\r\n  async createRestaurant(data: RestaurantFormData): Promise<Restaurant> {\r\n    // Create restaurant in Supabase\r\n    const { data: restaurant, error } = await supabase\r\n      .from('restaurants')\r\n      .insert([{\r\n        name: data.restaurantName,\r\n        website: data.website || '',\r\n        admin_email: data.email,\r\n        subscription_tier: data.tier || 'basic',\r\n        payment_session_id: data.sessionId || '',\r\n        created_at: new Date().toISOString(),\r\n      }])\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw new Error(`Restaurant creation failed: ${error.message}`);\r\n    return restaurant;\r\n  },\r\n\r\n  async uploadLogo(restaurantId: string, logoFile: File): Promise<string> {\r\n    try {\r\n      // Get file extension\r\n      const fileExt = logoFile.name.split('.').pop();\r\n      const fileName = `${restaurantId}/logo.${fileExt}`;\r\n\r\n      // Upload to Supabase Storage\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('restaurant-logos')\r\n        .upload(fileName, logoFile, {\r\n          cacheControl: '3600',\r\n          upsert: true\r\n        });\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      // Get the public URL\r\n      const { data } = supabase.storage\r\n        .from('restaurant-logos')\r\n        .getPublicUrl(fileName);\r\n\r\n      // Update restaurant with logo URL\r\n      const { error: updateError } = await supabase\r\n        .from('restaurants')\r\n        .update({ logo_url: data.publicUrl })\r\n        .eq('id', restaurantId);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      return data.publicUrl;\r\n    } catch (error) {\r\n      console.error('Logo upload error:', error);\r\n      throw new Error('Failed to upload logo');\r\n    }\r\n  },\r\n  \r\n  async getRestaurantById(id: string): Promise<Restaurant> {\r\n    const { data, error } = await supabase\r\n      .from('restaurants')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n    \r\n    if (error) throw new Error(`Failed to fetch restaurant: ${error.message}`);\r\n    if (!data) throw new Error('Restaurant not found');\r\n    \r\n    return data;\r\n  },\r\n  \r\n  async updateRestaurant(id: string, updateData: Partial<Restaurant>): Promise<Restaurant> {\r\n    const { data, error } = await supabase\r\n      .from('restaurants')\r\n      .update({\r\n        ...updateData,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw new Error(`Failed to update restaurant: ${error.message}`);\r\n    return data;\r\n  },\r\n\r\n  async createInvitation(email: string, restaurantName: string, website?: string, adminName?: string, tier: string = 'standard'): Promise<{ invitationUrl: string, token: string }> {\r\n    try {\r\n      // Check if email already has a pending invitation\r\n      const { data: existingInvitation } = await supabase\r\n        .from('restaurant_invitations')\r\n        .select('token')\r\n        .eq('email', email)\r\n        .eq('status', 'pending')\r\n        .maybeSingle();\r\n\r\n      if (existingInvitation) {\r\n        // Return the existing invitation link\r\n        const baseUrl = window.location.origin;\r\n        return {\r\n          token: existingInvitation.token,\r\n          invitationUrl: `${baseUrl}/onboarding/${existingInvitation.token}`\r\n        };\r\n      }\r\n\r\n      // Generate a secure token (using crypto API)\r\n      const token = crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2);\r\n      \r\n      // Set expiration date (7 days)\r\n      const expiresAt = new Date();\r\n      expiresAt.setDate(expiresAt.getDate() + 7);\r\n\r\n      // Store in Supabase\r\n      const { data, error } = await supabase\r\n        .from('restaurant_invitations')\r\n        .insert([{\r\n          token,\r\n          email,\r\n          restaurant_name: restaurantName,\r\n          website: website || '',\r\n          admin_name: adminName || '',\r\n          tier,\r\n          created_at: new Date().toISOString(),\r\n          expires_at: expiresAt.toISOString(),\r\n          status: 'pending'\r\n        }])\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw new Error(`Failed to create invitation: ${error.message}`);\r\n\r\n      // Generate invitation URL\r\n      const baseUrl = window.location.origin;\r\n      const invitationUrl = `${baseUrl}/onboarding/${token}`;\r\n\r\n      return { token, invitationUrl };\r\n    } catch (error) {\r\n      console.error('Error creating invitation:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getInvitationByToken(token: string): Promise<RestaurantInvitation | null> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('restaurant_invitations')\r\n        .select('*')\r\n        .eq('token', token)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error fetching invitation:', error);\r\n        return null;\r\n      }\r\n\r\n      // Check if invitation has expired\r\n      const now = new Date();\r\n      const expiryDate = new Date(data.expires_at);\r\n\r\n      if (now > expiryDate && data.status === 'pending') {\r\n        // Update the status to expired\r\n        await supabase\r\n          .from('restaurant_invitations')\r\n          .update({ status: 'expired' })\r\n          .eq('id', data.id);\r\n\r\n        return { ...data, status: 'expired' };\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error checking invitation:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  async updateInvitationStatus(token: string, status: 'accepted' | 'paid' | 'completed' | 'expired', restaurantId?: string): Promise<void> {\r\n    try {\r\n      const updateData: any = {\r\n        status,\r\n        updated_at: new Date().toISOString()\r\n      };\r\n\r\n      if (restaurantId) {\r\n        updateData.restaurant_id = restaurantId;\r\n      }\r\n\r\n      const { error } = await supabase\r\n        .from('restaurant_invitations')\r\n        .update(updateData)\r\n        .eq('token', token);\r\n\r\n      if (error) throw new Error(`Failed to update invitation status: ${error.message}`);\r\n    } catch (error) {\r\n      console.error('Error updating invitation status:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};","import { supabase } from '../supabase';\r\nimport { stripeService } from './stripeService';\r\nimport type { MembershipTier } from '../types';\r\n\r\nexport const membershipService = {\r\n  async createMembershipTier(\r\n    tierData: Omit<MembershipTier, 'id'>, \r\n    restaurantId: string\r\n  ): Promise<MembershipTier> {\r\n    try {\r\n      // If we already have stripe IDs (reconnecting scenario), use them\r\n      if (tierData.stripe_product_id && tierData.stripe_price_id) {\r\n        const { data, error } = await supabase\r\n          .from('membership_tiers')\r\n          .insert([{\r\n            name: tierData.name,\r\n            price: tierData.price,\r\n            description: tierData.description || '',\r\n            restaurant_id: restaurantId,\r\n            stripe_product_id: tierData.stripe_product_id,\r\n            stripe_price_id: tierData.stripe_price_id,\r\n            created_at: new Date().toISOString(),\r\n          }])\r\n          .select()\r\n          .single();\r\n          \r\n        if (error) throw new Error(`Tier creation failed: ${error.message}`);\r\n        return data;\r\n      }\r\n\r\n      // Otherwise create new Stripe product & price via API\r\n      const response = await fetch('/api/membership-tiers', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          name: tierData.name,\r\n          price: tierData.price,\r\n          description: tierData.description || '',\r\n          restaurant_id: restaurantId,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to create membership tier');\r\n      }\r\n\r\n      const createdTier = await response.json();\r\n      return createdTier;\r\n    } catch (error: any) {\r\n      console.error('Error creating membership tier:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  async updateMembershipTier(tierData: MembershipTier): Promise<MembershipTier> {\r\n    try {\r\n      // Update through API to ensure Stripe syncing\r\n      const response = await fetch('/api/membership-tiers', {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(tierData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to update membership tier');\r\n      }\r\n\r\n      const updatedTier = await response.json();\r\n      return updatedTier;\r\n    } catch (error: any) {\r\n      console.error('Error updating membership tier:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  async getMembershipTiersByRestaurant(restaurantId: string): Promise<MembershipTier[]> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('membership_tiers')\r\n        .select('*')\r\n        .eq('restaurant_id', restaurantId)\r\n        .order('price', { ascending: true })\r\n        .returns<MembershipTier[]>();\r\n      \r\n      if (error) throw new Error(`Failed to fetch tiers: ${error.message}`);\r\n      return data || [];\r\n    } catch (error: any) {\r\n      console.error('Error fetching membership tiers:', error);\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  async getMembershipTierById(tierId: string): Promise<MembershipTier> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('membership_tiers')\r\n        .select('*')\r\n        .eq('id', tierId)\r\n        .returns<MembershipTier>()\r\n        .single();\r\n      \r\n      if (error) throw new Error(`Failed to fetch tier: ${error.message}`);\r\n      return data;\r\n    } catch (error: any) {\r\n      console.error('Error fetching membership tier:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","/**\n * Encapsulates the logic for issuing a request to the Stripe API.\n *\n * A custom HTTP client should should implement:\n * 1. A response class which extends HttpClientResponse and wraps around their\n *    own internal representation of a response.\n * 2. A client class which extends HttpClient and implements all methods,\n *    returning their own response class when making requests.\n */\nexport class HttpClient {\n    /** The client name used for diagnostics. */\n    getClientName() {\n        throw new Error('getClientName not implemented.');\n    }\n    makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        throw new Error('makeRequest not implemented.');\n    }\n    /** Helper to make a consistent timeout error across implementations. */\n    static makeTimeoutError() {\n        const timeoutErr = new TypeError(HttpClient.TIMEOUT_ERROR_CODE);\n        timeoutErr.code = HttpClient.TIMEOUT_ERROR_CODE;\n        return timeoutErr;\n    }\n}\n// Public API accessible via Stripe.HttpClient\nHttpClient.CONNECTION_CLOSED_ERROR_CODES = ['ECONNRESET', 'EPIPE'];\nHttpClient.TIMEOUT_ERROR_CODE = 'ETIMEDOUT';\nexport class HttpClientResponse {\n    constructor(statusCode, headers) {\n        this._statusCode = statusCode;\n        this._headers = headers;\n    }\n    getStatusCode() {\n        return this._statusCode;\n    }\n    getHeaders() {\n        return this._headers;\n    }\n    getRawResponse() {\n        throw new Error('getRawResponse not implemented.');\n    }\n    toStream(streamCompleteCallback) {\n        throw new Error('toStream not implemented.');\n    }\n    toJSON() {\n        throw new Error('toJSON not implemented.');\n    }\n}\n","import { HttpClient, HttpClientResponse, } from './HttpClient.js';\n/**\n * HTTP client which uses a `fetch` function to issue requests.\n *\n * By default relies on the global `fetch` function, but an optional function\n * can be passed in. If passing in a function, it is expected to match the Web\n * Fetch API. As an example, this could be the function provided by the\n * node-fetch package (https://github.com/node-fetch/node-fetch).\n */\nexport class FetchHttpClient extends HttpClient {\n    constructor(fetchFn) {\n        super();\n        // Default to global fetch if available\n        if (!fetchFn) {\n            if (!globalThis.fetch) {\n                throw new Error('fetch() function not provided and is not defined in the global scope. ' +\n                    'You must provide a fetch implementation.');\n            }\n            fetchFn = globalThis.fetch;\n        }\n        // Both timeout behaviors differs from Node:\n        // - Fetch uses a single timeout for the entire length of the request.\n        // - Node is more fine-grained and resets the timeout after each stage of the request.\n        if (globalThis.AbortController) {\n            // Utilise native AbortController if available\n            // AbortController was added in Node v15.0.0, v14.17.0\n            this._fetchFn = FetchHttpClient.makeFetchWithAbortTimeout(fetchFn);\n        }\n        else {\n            // Fall back to racing against a timeout promise if not available in the runtime\n            // This does not actually cancel the underlying fetch operation or resources\n            this._fetchFn = FetchHttpClient.makeFetchWithRaceTimeout(fetchFn);\n        }\n    }\n    static makeFetchWithRaceTimeout(fetchFn) {\n        return (url, init, timeout) => {\n            let pendingTimeoutId;\n            const timeoutPromise = new Promise((_, reject) => {\n                pendingTimeoutId = setTimeout(() => {\n                    pendingTimeoutId = null;\n                    reject(HttpClient.makeTimeoutError());\n                }, timeout);\n            });\n            const fetchPromise = fetchFn(url, init);\n            return Promise.race([fetchPromise, timeoutPromise]).finally(() => {\n                if (pendingTimeoutId) {\n                    clearTimeout(pendingTimeoutId);\n                }\n            });\n        };\n    }\n    static makeFetchWithAbortTimeout(fetchFn) {\n        return async (url, init, timeout) => {\n            // Use AbortController because AbortSignal.timeout() was added later in Node v17.3.0, v16.14.0\n            const abort = new AbortController();\n            let timeoutId = setTimeout(() => {\n                timeoutId = null;\n                abort.abort(HttpClient.makeTimeoutError());\n            }, timeout);\n            try {\n                return await fetchFn(url, Object.assign(Object.assign({}, init), { signal: abort.signal }));\n            }\n            catch (err) {\n                // Some implementations, like node-fetch, do not respect the reason passed to AbortController.abort()\n                // and instead it always throws an AbortError\n                // We catch this case to normalise all timeout errors\n                if (err.name === 'AbortError') {\n                    throw HttpClient.makeTimeoutError();\n                }\n                else {\n                    throw err;\n                }\n            }\n            finally {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n            }\n        };\n    }\n    /** @override. */\n    getClientName() {\n        return 'fetch';\n    }\n    async makeRequest(host, port, path, method, headers, requestData, protocol, timeout) {\n        const isInsecureConnection = protocol === 'http';\n        const url = new URL(path, `${isInsecureConnection ? 'http' : 'https'}://${host}`);\n        url.port = port;\n        // For methods which expect payloads, we should always pass a body value\n        // even when it is empty. Without this, some JS runtimes (eg. Deno) will\n        // inject a second Content-Length header. See https://github.com/stripe/stripe-node/issues/1519\n        // for more details.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        const body = requestData || (methodHasPayload ? '' : undefined);\n        const res = await this._fetchFn(url.toString(), {\n            method,\n            // @ts-ignore\n            headers,\n            // @ts-ignore\n            body,\n        }, timeout);\n        return new FetchHttpClientResponse(res);\n    }\n}\nexport class FetchHttpClientResponse extends HttpClientResponse {\n    constructor(res) {\n        super(res.status, FetchHttpClientResponse._transformHeadersToObject(res.headers));\n        this._res = res;\n    }\n    getRawResponse() {\n        return this._res;\n    }\n    toStream(streamCompleteCallback) {\n        // Unfortunately `fetch` does not have event handlers for when the stream is\n        // completely read. We therefore invoke the streamCompleteCallback right\n        // away. This callback emits a response event with metadata and completes\n        // metrics, so it's ok to do this without waiting for the stream to be\n        // completely read.\n        streamCompleteCallback();\n        // Fetch's `body` property is expected to be a readable stream of the body.\n        return this._res.body;\n    }\n    toJSON() {\n        return this._res.json();\n    }\n    static _transformHeadersToObject(headers) {\n        // Fetch uses a Headers instance so this must be converted to a barebones\n        // JS object to meet the HttpClient interface.\n        const headersObj = {};\n        for (const entry of headers) {\n            if (!Array.isArray(entry) || entry.length != 2) {\n                throw new Error('Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.');\n            }\n            headersObj[entry[0]] = entry[1];\n        }\n        return headersObj;\n    }\n}\n","/**\n * Interface encapsulating the various crypto computations used by the library,\n * allowing pluggable underlying crypto implementations.\n */\nexport class CryptoProvider {\n    /**\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignature(payload, secret) {\n        throw new Error('computeHMACSignature not implemented.');\n    }\n    /**\n     * Asynchronous version of `computeHMACSignature`. Some implementations may\n     * only allow support async signature computation.\n     *\n     * Computes a SHA-256 HMAC given a secret and a payload (encoded in UTF-8).\n     * The output HMAC should be encoded in hexadecimal.\n     *\n     * Sample values for implementations:\n     * - computeHMACSignature('', 'test_secret') => 'f7f9bd47fb987337b5796fdc1fdb9ba221d0d5396814bfcaf9521f43fd8927fd'\n     * - computeHMACSignature('\\ud83d\\ude00', 'test_secret') => '837da296d05c4fe31f61d5d7ead035099d9585a5bcde87de952012a78f0b0c43\n     */\n    computeHMACSignatureAsync(payload, secret) {\n        throw new Error('computeHMACSignatureAsync not implemented.');\n    }\n    /**\n     * Computes a SHA-256 hash of the data.\n     */\n    computeSHA256Async(data) {\n        throw new Error('computeSHA256 not implemented.');\n    }\n}\n/**\n * If the crypto provider only supports asynchronous operations,\n * throw CryptoProviderOnlySupportsAsyncError instead of\n * a generic error so that the caller can choose to provide\n * a more helpful error message to direct the user to use\n * an asynchronous pathway.\n */\nexport class CryptoProviderOnlySupportsAsyncError extends Error {\n}\n","import { CryptoProvider, CryptoProviderOnlySupportsAsyncError, } from './CryptoProvider.js';\n/**\n * `CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n *\n * This only supports asynchronous operations.\n */\nexport class SubtleCryptoProvider extends CryptoProvider {\n    constructor(subtleCrypto) {\n        super();\n        // If no subtle crypto is interface, default to the global namespace. This\n        // is to allow custom interfaces (eg. using the Node webcrypto interface in\n        // tests).\n        this.subtleCrypto = subtleCrypto || crypto.subtle;\n    }\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        throw new CryptoProviderOnlySupportsAsyncError('SubtleCryptoProvider cannot be used in a synchronous context.');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const encoder = new TextEncoder();\n        const key = await this.subtleCrypto.importKey('raw', encoder.encode(secret), {\n            name: 'HMAC',\n            hash: { name: 'SHA-256' },\n        }, false, ['sign']);\n        const signatureBuffer = await this.subtleCrypto.sign('hmac', key, encoder.encode(payload));\n        // crypto.subtle returns the signature in base64 format. This must be\n        // encoded in hex to match the CryptoProvider contract. We map each byte in\n        // the buffer to its corresponding hex octet and then combine into a string.\n        const signatureBytes = new Uint8Array(signatureBuffer);\n        const signatureHexCodes = new Array(signatureBytes.length);\n        for (let i = 0; i < signatureBytes.length; i++) {\n            signatureHexCodes[i] = byteHexMapping[signatureBytes[i]];\n        }\n        return signatureHexCodes.join('');\n    }\n    /** @override */\n    async computeSHA256Async(data) {\n        return new Uint8Array(await this.subtleCrypto.digest('SHA-256', data));\n    }\n}\n// Cached mapping of byte to hex representation. We do this once to avoid re-\n// computing every time we need to convert the result of a signature to hex.\nconst byteHexMapping = new Array(256);\nfor (let i = 0; i < byteHexMapping.length; i++) {\n    byteHexMapping[i] = i.toString(16).padStart(2, '0');\n}\n","import { FetchHttpClient } from '../net/FetchHttpClient.js';\nimport { SubtleCryptoProvider } from '../crypto/SubtleCryptoProvider.js';\n/**\n * Interface encapsulating various utility functions whose\n * implementations depend on the platform / JS runtime.\n */\nexport class PlatformFunctions {\n    constructor() {\n        this._fetchFn = null;\n        this._agent = null;\n    }\n    /**\n     * Gets uname with Node's built-in `exec` function, if available.\n     */\n    getUname() {\n        throw new Error('getUname not implemented.');\n    }\n    /**\n     * Generates a v4 UUID. See https://stackoverflow.com/a/2117523\n     */\n    uuid4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n    /**\n     * Compares strings in constant time.\n     */\n    secureCompare(a, b) {\n        // return early here if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        const len = a.length;\n        let result = 0;\n        for (let i = 0; i < len; ++i) {\n            result |= a.charCodeAt(i) ^ b.charCodeAt(i);\n        }\n        return result === 0;\n    }\n    /**\n     * Creates an event emitter.\n     */\n    createEmitter() {\n        throw new Error('createEmitter not implemented.');\n    }\n    /**\n     * Checks if the request data is a stream. If so, read the entire stream\n     * to a buffer and return the buffer.\n     */\n    tryBufferData(data) {\n        throw new Error('tryBufferData not implemented.');\n    }\n    /**\n     * Creates an HTTP client which uses the Node `http` and `https` packages\n     * to issue requests.\n     */\n    createNodeHttpClient(agent) {\n        throw new Error('createNodeHttpClient not implemented.');\n    }\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    createFetchHttpClient(fetchFn) {\n        return new FetchHttpClient(fetchFn);\n    }\n    /**\n     * Creates an HTTP client using runtime-specific APIs.\n     */\n    createDefaultHttpClient() {\n        throw new Error('createDefaultHttpClient not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the Node `crypto` package for its computations.\n     */\n    createNodeCryptoProvider() {\n        throw new Error('createNodeCryptoProvider not implemented.');\n    }\n    /**\n     * Creates a CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n     */\n    createSubtleCryptoProvider(subtleCrypto) {\n        return new SubtleCryptoProvider(subtleCrypto);\n    }\n    createDefaultCryptoProvider() {\n        throw new Error('createDefaultCryptoProvider not implemented.');\n    }\n}\n","/**\n * @private\n * (For internal use in stripe-node.)\n * Wrapper around the Event Web API.\n */\nclass _StripeEvent extends Event {\n    constructor(eventName, data) {\n        super(eventName);\n        this.data = data;\n    }\n}\n/** Minimal EventEmitter wrapper around EventTarget. */\nexport class StripeEmitter {\n    constructor() {\n        this.eventTarget = new EventTarget();\n        this.listenerMapping = new Map();\n    }\n    on(eventName, listener) {\n        const listenerWrapper = (event) => {\n            listener(event.data);\n        };\n        this.listenerMapping.set(listener, listenerWrapper);\n        return this.eventTarget.addEventListener(eventName, listenerWrapper);\n    }\n    removeListener(eventName, listener) {\n        const listenerWrapper = this.listenerMapping.get(listener);\n        this.listenerMapping.delete(listener);\n        return this.eventTarget.removeEventListener(eventName, listenerWrapper);\n    }\n    once(eventName, listener) {\n        const listenerWrapper = (event) => {\n            listener(event.data);\n        };\n        this.listenerMapping.set(listener, listenerWrapper);\n        return this.eventTarget.addEventListener(eventName, listenerWrapper, {\n            once: true,\n        });\n    }\n    emit(eventName, data) {\n        return this.eventTarget.dispatchEvent(new _StripeEvent(eventName, data));\n    }\n}\n","import { PlatformFunctions } from './PlatformFunctions.js';\nimport { StripeEmitter } from '../StripeEmitter.js';\n/**\n * Specializes WebPlatformFunctions using APIs available in Web workers.\n */\nexport class WebPlatformFunctions extends PlatformFunctions {\n    /** @override */\n    getUname() {\n        return Promise.resolve(null);\n    }\n    /** @override */\n    createEmitter() {\n        return new StripeEmitter();\n    }\n    /** @override */\n    tryBufferData(data) {\n        if (data.file.data instanceof ReadableStream) {\n            throw new Error('Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.');\n        }\n        return Promise.resolve(data);\n    }\n    /** @override */\n    createNodeHttpClient() {\n        throw new Error('Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.');\n    }\n    /** @override */\n    createDefaultHttpClient() {\n        return super.createFetchHttpClient();\n    }\n    /** @override */\n    createNodeCryptoProvider() {\n        throw new Error('Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.');\n    }\n    /** @override */\n    createDefaultCryptoProvider() {\n        return this.createSubtleCryptoProvider();\n    }\n}\n","/* eslint-disable camelcase */\n/* eslint-disable no-warning-comments */\nexport const generateV1Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        case 'card_error':\n            return new StripeCardError(rawStripeError);\n        case 'invalid_request_error':\n            return new StripeInvalidRequestError(rawStripeError);\n        case 'api_error':\n            return new StripeAPIError(rawStripeError);\n        case 'authentication_error':\n            return new StripeAuthenticationError(rawStripeError);\n        case 'rate_limit_error':\n            return new StripeRateLimitError(rawStripeError);\n        case 'idempotency_error':\n            return new StripeIdempotencyError(rawStripeError);\n        case 'invalid_grant':\n            return new StripeInvalidGrantError(rawStripeError);\n        default:\n            return new StripeUnknownError(rawStripeError);\n    }\n};\n// eslint-disable-next-line complexity\nexport const generateV2Error = (rawStripeError) => {\n    switch (rawStripeError.type) {\n        // switchCases: The beginning of the section generated from our OpenAPI spec\n        case 'temporary_session_expired':\n            return new TemporarySessionExpiredError(rawStripeError);\n        // switchCases: The end of the section generated from our OpenAPI spec\n    }\n    // Special handling for requests with missing required fields in V2 APIs.\n    // invalid_field response in V2 APIs returns the field 'code' instead of 'type'.\n    switch (rawStripeError.code) {\n        case 'invalid_fields':\n            return new StripeInvalidRequestError(rawStripeError);\n    }\n    return generateV1Error(rawStripeError);\n};\n/**\n * StripeError is the base error from which all other more specific Stripe errors derive.\n * Specifically for errors returned from Stripe's REST API.\n */\nexport class StripeError extends Error {\n    constructor(raw = {}, type = null) {\n        super(raw.message);\n        this.type = type || this.constructor.name;\n        this.raw = raw;\n        this.rawType = raw.type;\n        this.code = raw.code;\n        this.doc_url = raw.doc_url;\n        this.param = raw.param;\n        this.detail = raw.detail;\n        this.headers = raw.headers;\n        this.requestId = raw.requestId;\n        this.statusCode = raw.statusCode;\n        // @ts-ignore\n        this.message = raw.message;\n        this.userMessage = raw.user_message;\n        this.charge = raw.charge;\n        this.decline_code = raw.decline_code;\n        this.payment_intent = raw.payment_intent;\n        this.payment_method = raw.payment_method;\n        this.payment_method_type = raw.payment_method_type;\n        this.setup_intent = raw.setup_intent;\n        this.source = raw.source;\n    }\n}\n/**\n * Helper factory which takes raw stripe errors and outputs wrapping instances\n */\nStripeError.generate = generateV1Error;\n// Specific Stripe Error types:\n/**\n * CardError is raised when a user enters a card that can't be charged for\n * some reason.\n */\nexport class StripeCardError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeCardError');\n    }\n}\n/**\n * InvalidRequestError is raised when a request is initiated with invalid\n * parameters.\n */\nexport class StripeInvalidRequestError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidRequestError');\n    }\n}\n/**\n * APIError is a generic error that may be raised in cases where none of the\n * other named errors cover the problem. It could also be raised in the case\n * that a new error has been introduced in the API, but this version of the\n * Node.JS SDK doesn't know how to handle it.\n */\nexport class StripeAPIError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAPIError');\n    }\n}\n/**\n * AuthenticationError is raised when invalid credentials are used to connect\n * to Stripe's servers.\n */\nexport class StripeAuthenticationError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeAuthenticationError');\n    }\n}\n/**\n * PermissionError is raised in cases where access was attempted on a resource\n * that wasn't allowed.\n */\nexport class StripePermissionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripePermissionError');\n    }\n}\n/**\n * RateLimitError is raised in cases where an account is putting too much load\n * on Stripe's API servers (usually by performing too many requests). Please\n * back off on request rate.\n */\nexport class StripeRateLimitError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeRateLimitError');\n    }\n}\n/**\n * StripeConnectionError is raised in the event that the SDK can't connect to\n * Stripe's servers. That can be for a variety of different reasons from a\n * downed network to a bad TLS certificate.\n */\nexport class StripeConnectionError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeConnectionError');\n    }\n}\n/**\n * SignatureVerificationError is raised when the signature verification for a\n * webhook fails\n */\nexport class StripeSignatureVerificationError extends StripeError {\n    constructor(header, payload, raw = {}) {\n        super(raw, 'StripeSignatureVerificationError');\n        this.header = header;\n        this.payload = payload;\n    }\n}\n/**\n * IdempotencyError is raised in cases where an idempotency key was used\n * improperly.\n */\nexport class StripeIdempotencyError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeIdempotencyError');\n    }\n}\n/**\n * InvalidGrantError is raised when a specified code doesn't exist, is\n * expired, has been used, or doesn't belong to you; a refresh token doesn't\n * exist, or doesn't belong to you; or if an API key's mode (live or test)\n * doesn't match the mode of a code or refresh token.\n */\nexport class StripeInvalidGrantError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeInvalidGrantError');\n    }\n}\n/**\n * Any other error from Stripe not specifically captured above\n */\nexport class StripeUnknownError extends StripeError {\n    constructor(raw = {}) {\n        super(raw, 'StripeUnknownError');\n    }\n}\n// classDefinitions: The beginning of the section generated from our OpenAPI spec\nexport class TemporarySessionExpiredError extends StripeError {\n    constructor(rawStripeError = {}) {\n        super(rawStripeError, 'TemporarySessionExpiredError');\n    }\n}\n// classDefinitions: The end of the section generated from our OpenAPI spec\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","export default {}","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nvar quotes = {\n    __proto__: null,\n    'double': '\"',\n    single: \"'\"\n};\nvar quoteREs = {\n    __proto__: null,\n    'double': /([\"\\\\])/g,\n    single: /(['\\\\])/g\n};\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && !has(quotes, opts.quoteStyle)) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (\n        (typeof globalThis !== 'undefined' && obj === globalThis)\n        || (typeof global !== 'undefined' && obj === global)\n    ) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var style = opts.quoteStyle || defaultStyle;\n    var quoteChar = quotes[style];\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction canTrustToString(obj) {\n    return !toStringTag || !(typeof obj === 'object' && (toStringTag in obj || typeof obj[toStringTag] !== 'undefined'));\n}\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && canTrustToString(obj); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && canTrustToString(obj); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && canTrustToString(obj); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && canTrustToString(obj); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && canTrustToString(obj); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && canTrustToString(obj); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && canTrustToString(obj); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    var quoteRE = quoteREs[opts.quoteStyle || 'single'];\n    quoteRE.lastIndex = 0;\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, quoteRE, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n* By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('./list.d.ts').listGetNode} */\n// eslint-disable-next-line consistent-return\nvar listGetNode = function (list, key, isDelete) {\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\t// eslint-disable-next-line eqeqeq\n\tfor (; (curr = prev.next) != null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tif (!isDelete) {\n\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('./list.d.ts').listGet} */\nvar listGet = function (objects, key) {\n\tif (!objects) {\n\t\treturn void undefined;\n\t}\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('./list.d.ts').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('./list.d.ts').listHas} */\nvar listHas = function (objects, key) {\n\tif (!objects) {\n\t\treturn false;\n\t}\n\treturn !!listGetNode(objects, key);\n};\n/** @type {import('./list.d.ts').listDelete} */\n// eslint-disable-next-line consistent-return\nvar listDelete = function (objects, key) {\n\tif (objects) {\n\t\treturn listGetNode(objects, key, true);\n\t}\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannelList() {\n\t/** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {import('./list.d.ts').RootNode<V, K> | undefined} */ var $o;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tvar root = $o && $o.next;\n\t\t\tvar deletedNode = listDelete($o, key);\n\t\t\tif (deletedNode && root && root === deletedNode) {\n\t\t\t\t$o = void undefined;\n\t\t\t}\n\t\t\treturn !!deletedNode;\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn listGet($o, key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn listHas($o, key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$o) {\n\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t$o = {\n\t\t\t\t\tnext: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tlistSet(/** @type {NonNullable<typeof $o>} */ ($o), key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBindBasic = require('call-bind-apply-helpers');\n\n/** @type {(thisArg: string, searchString: string, position?: number) => number} */\nvar $indexOf = callBindBasic([GetIntrinsic('%String.prototype.indexOf%')]);\n\n/** @type {import('.')} */\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\t/* eslint no-extra-parens: 0 */\n\n\tvar intrinsic = /** @type {(this: unknown, ...args: unknown[]) => unknown} */ (GetIntrinsic(name, !!allowMissing));\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBindBasic(/** @type {const} */ ([intrinsic]));\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $Map = GetIntrinsic('%Map%', true);\n\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\nvar $mapGet = callBound('Map.prototype.get', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\nvar $mapSet = callBound('Map.prototype.set', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapHas = callBound('Map.prototype.has', true);\n/** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\nvar $mapDelete = callBound('Map.prototype.delete', true);\n/** @type {<K, V>(thisArg: Map<K, V>) => number} */\nvar $mapSize = callBound('Map.prototype.size', true);\n\n/** @type {import('.')} */\nmodule.exports = !!$Map && /** @type {Exclude<import('.'), false>} */ function getSideChannelMap() {\n\t/** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t/** @type {Map<K, V> | undefined} */ var $m;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\tif ($m) {\n\t\t\t\tvar result = $mapDelete($m, key);\n\t\t\t\tif ($mapSize($m) === 0) {\n\t\t\t\t\t$m = void undefined;\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($m) {\n\t\t\t\treturn $mapGet($m, key);\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($m) {\n\t\t\t\treturn $mapHas($m, key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$m) {\n\t\t\t\t// @ts-expect-error TS can't handle narrowing a variable inside a closure\n\t\t\t\t$m = new $Map();\n\t\t\t}\n\t\t\t$mapSet($m, key, value);\n\t\t}\n\t};\n\n\t// @ts-expect-error TODO: figure out why TS is erroring here\n\treturn channel;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bound');\nvar inspect = require('object-inspect');\nvar getSideChannelMap = require('side-channel-map');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\n\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => V} */\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K, value: V) => void} */\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\n/** @type {<K extends object, V>(thisArg: WeakMap<K, V>, key: K) => boolean} */\nvar $weakMapDelete = callBound('WeakMap.prototype.delete', true);\n\n/** @type {import('.')} */\nmodule.exports = $WeakMap\n\t? /** @type {Exclude<import('.'), false>} */ function getSideChannelWeakMap() {\n\t\t/** @typedef {ReturnType<typeof getSideChannelWeakMap>} Channel */\n\t\t/** @typedef {Parameters<Channel['get']>[0]} K */\n\t\t/** @typedef {Parameters<Channel['set']>[1]} V */\n\n\t\t/** @type {WeakMap<K & object, V> | undefined} */ var $wm;\n\t\t/** @type {Channel | undefined} */ var $m;\n\n\t\t/** @type {Channel} */\n\t\tvar channel = {\n\t\t\tassert: function (key) {\n\t\t\t\tif (!channel.has(key)) {\n\t\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapDelete($wm, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif ($m) {\n\t\t\t\t\t\treturn $m['delete'](key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn $m && $m.get(key);\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif ($wm) {\n\t\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!$m && $m.has(key);\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\t\tif (!$wm) {\n\t\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t\t}\n\t\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t\t} else if (getSideChannelMap) {\n\t\t\t\t\tif (!$m) {\n\t\t\t\t\t\t$m = getSideChannelMap();\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\t\t\t/** @type {NonNullable<typeof $m>} */ ($m).set(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// @ts-expect-error TODO: figure out why this is erroring\n\t\treturn channel;\n\t}\n\t: getSideChannelMap;\n","'use strict';\n\nvar $TypeError = require('es-errors/type');\nvar inspect = require('object-inspect');\nvar getSideChannelList = require('side-channel-list');\nvar getSideChannelMap = require('side-channel-map');\nvar getSideChannelWeakMap = require('side-channel-weakmap');\n\nvar makeChannel = getSideChannelWeakMap || getSideChannelMap || getSideChannelList;\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @typedef {ReturnType<typeof getSideChannel>} Channel */\n\n\t/** @type {Channel | undefined} */ var $channelData;\n\n\t/** @type {Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\t'delete': function (key) {\n\t\t\treturn !!$channelData && $channelData['delete'](key);\n\t\t},\n\t\tget: function (key) {\n\t\t\treturn $channelData && $channelData.get(key);\n\t\t},\n\t\thas: function (key) {\n\t\t\treturn !!$channelData && $channelData.has(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (!$channelData) {\n\t\t\t\t$channelData = makeChannel();\n\t\t\t}\n\n\t\t\t$channelData.set(key, value);\n\t\t}\n\t};\n\t// @ts-expect-error TODO: figure out why this is erroring\n\treturn channel;\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? { __proto__: null } : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object' && typeof source !== 'function') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if (\n                (options && (options.plainObjects || options.allowPrototypes))\n                || !has.call(Object.prototype, source)\n            ) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, defaultDecoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false,\n    throwOnLimitExceeded: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options, currentArrayLength) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    if (options.throwOnLimitExceeded && currentArrayLength >= options.arrayLimit) {\n        throw new RangeError('Array limit exceeded. Only ' + options.arrayLimit + ' element' + (options.arrayLimit === 1 ? '' : 's') + ' allowed in an array.');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(\n        options.delimiter,\n        options.throwOnLimitExceeded ? limit + 1 : limit\n    );\n\n    if (options.throwOnLimitExceeded && parts.length > limit) {\n        throw new RangeError('Parameter limit exceeded. Only ' + limit + ' parameter' + (limit === 1 ? '' : 's') + ' allowed.');\n    }\n\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key;\n        var val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n\n            val = utils.maybeMap(\n                parseArrayValue(\n                    part.slice(pos + 1),\n                    options,\n                    isArray(obj[key]) ? obj[key].length : 0\n                ),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(String(val));\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var currentArrayLength = 0;\n    if (chain.length > 0 && chain[chain.length - 1] === '[]') {\n        var parentKey = chain.slice(0, -1).join('');\n        currentArrayLength = Array.isArray(val) && val[parentKey] ? val[parentKey].length : 0;\n    }\n\n    var leaf = valuesParsed ? val : parseArrayValue(val, options, currentArrayLength);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : utils.combine([], leaf);\n        } else {\n            obj = options.plainObjects ? { __proto__: null } : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    if (typeof opts.throwOnLimitExceeded !== 'undefined' && typeof opts.throwOnLimitExceeded !== 'boolean') {\n        throw new TypeError('`throwOnLimitExceeded` option must be a boolean');\n    }\n\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n        throwOnLimitExceeded: typeof opts.throwOnLimitExceeded === 'boolean' ? opts.throwOnLimitExceeded : false\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? { __proto__: null } : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? { __proto__: null } : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","import * as qs from 'qs';\nconst OPTIONS_KEYS = [\n    'apiKey',\n    'idempotencyKey',\n    'stripeAccount',\n    'apiVersion',\n    'maxNetworkRetries',\n    'timeout',\n    'host',\n    'authenticator',\n    'stripeContext',\n    'additionalHeaders',\n];\nexport function isOptionsHash(o) {\n    return (o &&\n        typeof o === 'object' &&\n        OPTIONS_KEYS.some((prop) => Object.prototype.hasOwnProperty.call(o, prop)));\n}\n/**\n * Stringifies an Object, accommodating nested objects\n * (forming the conventional key 'parent[child]=value')\n */\nexport function queryStringifyRequestData(data, apiMode) {\n    return (qs\n        .stringify(data, {\n        serializeDate: (d) => Math.floor(d.getTime() / 1000).toString(),\n        arrayFormat: apiMode == 'v2' ? 'repeat' : 'indices',\n    })\n        // Don't use strict form encoding by changing the square bracket control\n        // characters back to their literals. This is fine by the server, and\n        // makes these parameter strings easier to read.\n        .replace(/%5B/g, '[')\n        .replace(/%5D/g, ']'));\n}\n/**\n * Outputs a new function with interpolated object property values.\n * Use like so:\n *   const fn = makeURLInterpolator('some/url/{param1}/{param2}');\n *   fn({ param1: 123, param2: 456 }); // => 'some/url/123/456'\n */\nexport const makeURLInterpolator = (() => {\n    const rc = {\n        '\\n': '\\\\n',\n        '\"': '\\\\\"',\n        '\\u2028': '\\\\u2028',\n        '\\u2029': '\\\\u2029',\n    };\n    return (str) => {\n        const cleanString = str.replace(/[\"\\n\\r\\u2028\\u2029]/g, ($0) => rc[$0]);\n        return (outputs) => {\n            return cleanString.replace(/\\{([\\s\\S]+?)\\}/g, ($0, $1) => \n            // @ts-ignore\n            encodeURIComponent(outputs[$1] || ''));\n        };\n    };\n})();\nexport function extractUrlParams(path) {\n    const params = path.match(/\\{\\w+\\}/g);\n    if (!params) {\n        return [];\n    }\n    return params.map((param) => param.replace(/[{}]/g, ''));\n}\n/**\n * Return the data argument from a list of arguments\n *\n * @param {object[]} args\n * @returns {object}\n */\nexport function getDataFromArgs(args) {\n    if (!Array.isArray(args) || !args[0] || typeof args[0] !== 'object') {\n        return {};\n    }\n    if (!isOptionsHash(args[0])) {\n        return args.shift();\n    }\n    const argKeys = Object.keys(args[0]);\n    const optionKeysInArgs = argKeys.filter((key) => OPTIONS_KEYS.includes(key));\n    // In some cases options may be the provided as the first argument.\n    // Here we're detecting a case where there are two distinct arguments\n    // (the first being args and the second options) and with known\n    // option keys in the first so that we can warn the user about it.\n    if (optionKeysInArgs.length > 0 &&\n        optionKeysInArgs.length !== argKeys.length) {\n        emitWarning(`Options found in arguments (${optionKeysInArgs.join(', ')}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`);\n    }\n    return {};\n}\n/**\n * Return the options hash from a list of arguments\n */\nexport function getOptionsFromArgs(args) {\n    const opts = {\n        host: null,\n        headers: {},\n        settings: {},\n    };\n    if (args.length > 0) {\n        const arg = args[args.length - 1];\n        if (typeof arg === 'string') {\n            opts.authenticator = createApiKeyAuthenticator(args.pop());\n        }\n        else if (isOptionsHash(arg)) {\n            const params = Object.assign({}, args.pop());\n            const extraKeys = Object.keys(params).filter((key) => !OPTIONS_KEYS.includes(key));\n            if (extraKeys.length) {\n                emitWarning(`Invalid options found (${extraKeys.join(', ')}); ignoring.`);\n            }\n            if (params.apiKey) {\n                opts.authenticator = createApiKeyAuthenticator(params.apiKey);\n            }\n            if (params.idempotencyKey) {\n                opts.headers['Idempotency-Key'] = params.idempotencyKey;\n            }\n            if (params.stripeAccount) {\n                opts.headers['Stripe-Account'] = params.stripeAccount;\n            }\n            if (params.stripeContext) {\n                if (opts.headers['Stripe-Account']) {\n                    throw new Error(\"Can't specify both stripeAccount and stripeContext.\");\n                }\n                opts.headers['Stripe-Context'] = params.stripeContext;\n            }\n            if (params.apiVersion) {\n                opts.headers['Stripe-Version'] = params.apiVersion;\n            }\n            if (Number.isInteger(params.maxNetworkRetries)) {\n                opts.settings.maxNetworkRetries = params.maxNetworkRetries;\n            }\n            if (Number.isInteger(params.timeout)) {\n                opts.settings.timeout = params.timeout;\n            }\n            if (params.host) {\n                opts.host = params.host;\n            }\n            if (params.authenticator) {\n                if (params.apiKey) {\n                    throw new Error(\"Can't specify both apiKey and authenticator.\");\n                }\n                if (typeof params.authenticator !== 'function') {\n                    throw new Error('The authenticator must be a function ' +\n                        'receiving a request as the first parameter.');\n                }\n                opts.authenticator = params.authenticator;\n            }\n            if (params.additionalHeaders) {\n                opts.headers = params.additionalHeaders;\n            }\n        }\n    }\n    return opts;\n}\n/**\n * Provide simple \"Class\" extension mechanism.\n * <!-- Public API accessible via Stripe.StripeResource.extend -->\n */\nexport function protoExtend(sub) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const Super = this;\n    const Constructor = Object.prototype.hasOwnProperty.call(sub, 'constructor')\n        ? sub.constructor\n        : function (...args) {\n            Super.apply(this, args);\n        };\n    // This initialization logic is somewhat sensitive to be compatible with\n    // divergent JS implementations like the one found in Qt. See here for more\n    // context:\n    //\n    // https://github.com/stripe/stripe-node/pull/334\n    Object.assign(Constructor, Super);\n    Constructor.prototype = Object.create(Super.prototype);\n    Object.assign(Constructor.prototype, sub);\n    return Constructor;\n}\n/**\n * Remove empty values from an object\n */\nexport function removeNullish(obj) {\n    if (typeof obj !== 'object') {\n        throw new Error('Argument must be an object');\n    }\n    return Object.keys(obj).reduce((result, key) => {\n        if (obj[key] != null) {\n            result[key] = obj[key];\n        }\n        return result;\n    }, {});\n}\n/**\n * Normalize standard HTTP Headers:\n * {'foo-bar': 'hi'}\n * becomes\n * {'Foo-Bar': 'hi'}\n */\nexport function normalizeHeaders(obj) {\n    if (!(obj && typeof obj === 'object')) {\n        return obj;\n    }\n    return Object.keys(obj).reduce((result, header) => {\n        result[normalizeHeader(header)] = obj[header];\n        return result;\n    }, {});\n}\n/**\n * Stolen from https://github.com/marten-de-vries/header-case-normalizer/blob/master/index.js#L36-L41\n * without the exceptions which are irrelevant to us.\n */\nexport function normalizeHeader(header) {\n    return header\n        .split('-')\n        .map((text) => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase())\n        .join('-');\n}\nexport function callbackifyPromiseWithTimeout(promise, callback) {\n    if (callback) {\n        // Ensure callback is called outside of promise stack.\n        return promise.then((res) => {\n            setTimeout(() => {\n                callback(null, res);\n            }, 0);\n        }, (err) => {\n            setTimeout(() => {\n                callback(err, null);\n            }, 0);\n        });\n    }\n    return promise;\n}\n/**\n * Allow for special capitalization cases (such as OAuth)\n */\nexport function pascalToCamelCase(name) {\n    if (name === 'OAuth') {\n        return 'oauth';\n    }\n    else {\n        return name[0].toLowerCase() + name.substring(1);\n    }\n}\nexport function emitWarning(warning) {\n    if (typeof process.emitWarning !== 'function') {\n        return console.warn(`Stripe: ${warning}`); /* eslint-disable-line no-console */\n    }\n    return process.emitWarning(warning, 'Stripe');\n}\nexport function isObject(obj) {\n    const type = typeof obj;\n    return (type === 'function' || type === 'object') && !!obj;\n}\n// For use in multipart requests\nexport function flattenAndStringify(data) {\n    const result = {};\n    const step = (obj, prevKey) => {\n        Object.entries(obj).forEach(([key, value]) => {\n            const newKey = prevKey ? `${prevKey}[${key}]` : key;\n            if (isObject(value)) {\n                if (!(value instanceof Uint8Array) &&\n                    !Object.prototype.hasOwnProperty.call(value, 'data')) {\n                    // Non-buffer non-file Objects are recursively flattened\n                    return step(value, newKey);\n                }\n                else {\n                    // Buffers and file objects are stored without modification\n                    result[newKey] = value;\n                }\n            }\n            else {\n                // Primitives are converted to strings\n                result[newKey] = String(value);\n            }\n        });\n    };\n    step(data, null);\n    return result;\n}\nexport function validateInteger(name, n, defaultVal) {\n    if (!Number.isInteger(n)) {\n        if (defaultVal !== undefined) {\n            return defaultVal;\n        }\n        else {\n            throw new Error(`${name} must be an integer`);\n        }\n    }\n    return n;\n}\nexport function determineProcessUserAgentProperties() {\n    return typeof process === 'undefined'\n        ? {}\n        : {\n            lang_version: process.version,\n            platform: process.platform,\n        };\n}\nexport function createApiKeyAuthenticator(apiKey) {\n    const authenticator = (request) => {\n        request.headers.Authorization = 'Bearer ' + apiKey;\n        return Promise.resolve();\n    };\n    // For testing\n    authenticator._apiKey = apiKey;\n    return authenticator;\n}\n/**\n * Joins an array of Uint8Arrays into a single Uint8Array\n */\nexport function concat(arrays) {\n    const totalLength = arrays.reduce((len, array) => len + array.length, 0);\n    const merged = new Uint8Array(totalLength);\n    let offset = 0;\n    arrays.forEach((array) => {\n        merged.set(array, offset);\n        offset += array.length;\n    });\n    return merged;\n}\n/**\n * Replaces Date objects with Unix timestamps\n */\nfunction dateTimeReplacer(key, value) {\n    if (this[key] instanceof Date) {\n        return Math.floor(this[key].getTime() / 1000).toString();\n    }\n    return value;\n}\n/**\n * JSON stringifies an Object, replacing Date objects with Unix timestamps\n */\nexport function jsonStringifyRequestData(data) {\n    return JSON.stringify(data, dateTimeReplacer);\n}\n/**\n * Inspects the given path to determine if the endpoint is for v1 or v2 API\n */\nexport function getAPIMode(path) {\n    if (!path) {\n        return 'v1';\n    }\n    return path.startsWith('/v2') ? 'v2' : 'v1';\n}\n","import { StripeAPIError, StripeAuthenticationError, StripeConnectionError, StripeError, StripePermissionError, StripeRateLimitError, generateV1Error, generateV2Error, } from './Error.js';\nimport { HttpClient } from './net/HttpClient.js';\nimport { emitWarning, jsonStringifyRequestData, normalizeHeaders, queryStringifyRequestData, removeNullish, getAPIMode, getOptionsFromArgs, getDataFromArgs, } from './utils.js';\nconst MAX_RETRY_AFTER_WAIT = 60;\nexport class RequestSender {\n    constructor(stripe, maxBufferedRequestMetric) {\n        this._stripe = stripe;\n        this._maxBufferedRequestMetric = maxBufferedRequestMetric;\n    }\n    _addHeadersDirectlyToObject(obj, headers) {\n        // For convenience, make some headers easily accessible on\n        // lastResponse.\n        // NOTE: Stripe responds with lowercase header names/keys.\n        obj.requestId = headers['request-id'];\n        obj.stripeAccount = obj.stripeAccount || headers['stripe-account'];\n        obj.apiVersion = obj.apiVersion || headers['stripe-version'];\n        obj.idempotencyKey = obj.idempotencyKey || headers['idempotency-key'];\n    }\n    _makeResponseEvent(requestEvent, statusCode, headers) {\n        const requestEndTime = Date.now();\n        const requestDurationMs = requestEndTime - requestEvent.request_start_time;\n        return removeNullish({\n            api_version: headers['stripe-version'],\n            account: headers['stripe-account'],\n            idempotency_key: headers['idempotency-key'],\n            method: requestEvent.method,\n            path: requestEvent.path,\n            status: statusCode,\n            request_id: this._getRequestId(headers),\n            elapsed: requestDurationMs,\n            request_start_time: requestEvent.request_start_time,\n            request_end_time: requestEndTime,\n        });\n    }\n    _getRequestId(headers) {\n        return headers['request-id'];\n    }\n    /**\n     * Used by methods with spec.streaming === true. For these methods, we do not\n     * buffer successful responses into memory or do parse them into stripe\n     * objects, we delegate that all of that to the user and pass back the raw\n     * http.Response object to the callback.\n     *\n     * (Unsuccessful responses shouldn't make it here, they should\n     * still be buffered/parsed and handled by _jsonResponseHandler -- see\n     * makeRequest)\n     */\n    _streamingResponseHandler(requestEvent, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const streamCompleteCallback = () => {\n                const responseEvent = this._makeResponseEvent(requestEvent, res.getStatusCode(), headers);\n                this._stripe._emitter.emit('response', responseEvent);\n                this._recordRequestMetrics(this._getRequestId(headers), responseEvent.elapsed, usage);\n            };\n            const stream = res.toStream(streamCompleteCallback);\n            // This is here for backwards compatibility, as the stream is a raw\n            // HTTP response in Node and the legacy behavior was to mutate this\n            // response.\n            this._addHeadersDirectlyToObject(stream, headers);\n            return callback(null, stream);\n        };\n    }\n    /**\n     * Default handler for Stripe responses. Buffers the response into memory,\n     * parses the JSON and returns it (i.e. passes it to the callback) if there\n     * is no \"error\" field. Otherwise constructs/passes an appropriate Error.\n     */\n    _jsonResponseHandler(requestEvent, apiMode, usage, callback) {\n        return (res) => {\n            const headers = res.getHeaders();\n            const requestId = this._getRequestId(headers);\n            const statusCode = res.getStatusCode();\n            const responseEvent = this._makeResponseEvent(requestEvent, statusCode, headers);\n            this._stripe._emitter.emit('response', responseEvent);\n            res\n                .toJSON()\n                .then((jsonResponse) => {\n                if (jsonResponse.error) {\n                    let err;\n                    // Convert OAuth error responses into a standard format\n                    // so that the rest of the error logic can be shared\n                    if (typeof jsonResponse.error === 'string') {\n                        jsonResponse.error = {\n                            type: jsonResponse.error,\n                            message: jsonResponse.error_description,\n                        };\n                    }\n                    jsonResponse.error.headers = headers;\n                    jsonResponse.error.statusCode = statusCode;\n                    jsonResponse.error.requestId = requestId;\n                    if (statusCode === 401) {\n                        err = new StripeAuthenticationError(jsonResponse.error);\n                    }\n                    else if (statusCode === 403) {\n                        err = new StripePermissionError(jsonResponse.error);\n                    }\n                    else if (statusCode === 429) {\n                        err = new StripeRateLimitError(jsonResponse.error);\n                    }\n                    else if (apiMode === 'v2') {\n                        err = generateV2Error(jsonResponse.error);\n                    }\n                    else {\n                        err = generateV1Error(jsonResponse.error);\n                    }\n                    throw err;\n                }\n                return jsonResponse;\n            }, (e) => {\n                throw new StripeAPIError({\n                    message: 'Invalid JSON received from the Stripe API',\n                    exception: e,\n                    requestId: headers['request-id'],\n                });\n            })\n                .then((jsonResponse) => {\n                this._recordRequestMetrics(requestId, responseEvent.elapsed, usage);\n                // Expose raw response object.\n                const rawResponse = res.getRawResponse();\n                this._addHeadersDirectlyToObject(rawResponse, headers);\n                Object.defineProperty(jsonResponse, 'lastResponse', {\n                    enumerable: false,\n                    writable: false,\n                    value: rawResponse,\n                });\n                callback(null, jsonResponse);\n            }, (e) => callback(e, null));\n        };\n    }\n    static _generateConnectionErrorMessage(requestRetries) {\n        return `An error occurred with our connection to Stripe.${requestRetries > 0 ? ` Request was retried ${requestRetries} times.` : ''}`;\n    }\n    // For more on when and how to retry API requests, see https://stripe.com/docs/error-handling#safely-retrying-requests-with-idempotency\n    static _shouldRetry(res, numRetries, maxRetries, error) {\n        if (error &&\n            numRetries === 0 &&\n            HttpClient.CONNECTION_CLOSED_ERROR_CODES.includes(error.code)) {\n            return true;\n        }\n        // Do not retry if we are out of retries.\n        if (numRetries >= maxRetries) {\n            return false;\n        }\n        // Retry on connection error.\n        if (!res) {\n            return true;\n        }\n        // The API may ask us not to retry (e.g., if doing so would be a no-op)\n        // or advise us to retry (e.g., in cases of lock timeouts); we defer to that.\n        if (res.getHeaders()['stripe-should-retry'] === 'false') {\n            return false;\n        }\n        if (res.getHeaders()['stripe-should-retry'] === 'true') {\n            return true;\n        }\n        // Retry on conflict errors.\n        if (res.getStatusCode() === 409) {\n            return true;\n        }\n        // Retry on 500, 503, and other internal errors.\n        //\n        // Note that we expect the stripe-should-retry header to be false\n        // in most cases when a 500 is returned, since our idempotency framework\n        // would typically replay it anyway.\n        if (res.getStatusCode() >= 500) {\n            return true;\n        }\n        return false;\n    }\n    _getSleepTimeInMS(numRetries, retryAfter = null) {\n        const initialNetworkRetryDelay = this._stripe.getInitialNetworkRetryDelay();\n        const maxNetworkRetryDelay = this._stripe.getMaxNetworkRetryDelay();\n        // Apply exponential backoff with initialNetworkRetryDelay on the\n        // number of numRetries so far as inputs. Do not allow the number to exceed\n        // maxNetworkRetryDelay.\n        let sleepSeconds = Math.min(initialNetworkRetryDelay * Math.pow(2, numRetries - 1), maxNetworkRetryDelay);\n        // Apply some jitter by randomizing the value in the range of\n        // (sleepSeconds / 2) to (sleepSeconds).\n        sleepSeconds *= 0.5 * (1 + Math.random());\n        // But never sleep less than the base sleep seconds.\n        sleepSeconds = Math.max(initialNetworkRetryDelay, sleepSeconds);\n        // And never sleep less than the time the API asks us to wait, assuming it's a reasonable ask.\n        if (Number.isInteger(retryAfter) && retryAfter <= MAX_RETRY_AFTER_WAIT) {\n            sleepSeconds = Math.max(sleepSeconds, retryAfter);\n        }\n        return sleepSeconds * 1000;\n    }\n    // Max retries can be set on a per request basis. Favor those over the global setting\n    _getMaxNetworkRetries(settings = {}) {\n        return settings.maxNetworkRetries !== undefined &&\n            Number.isInteger(settings.maxNetworkRetries)\n            ? settings.maxNetworkRetries\n            : this._stripe.getMaxNetworkRetries();\n    }\n    _defaultIdempotencyKey(method, settings, apiMode) {\n        // If this is a POST and we allow multiple retries, ensure an idempotency key.\n        const maxRetries = this._getMaxNetworkRetries(settings);\n        const genKey = () => `stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;\n        // more verbose than it needs to be, but gives clear separation between V1 and V2 behavior\n        if (apiMode === 'v2') {\n            if (method === 'POST' || method === 'DELETE') {\n                return genKey();\n            }\n        }\n        else if (apiMode === 'v1') {\n            if (method === 'POST' && maxRetries > 0) {\n                return genKey();\n            }\n        }\n        return null;\n    }\n    _makeHeaders({ contentType, contentLength, apiVersion, clientUserAgent, method, userSuppliedHeaders, userSuppliedSettings, stripeAccount, stripeContext, apiMode, }) {\n        const defaultHeaders = {\n            Accept: 'application/json',\n            'Content-Type': contentType,\n            'User-Agent': this._getUserAgentString(apiMode),\n            'X-Stripe-Client-User-Agent': clientUserAgent,\n            'X-Stripe-Client-Telemetry': this._getTelemetryHeader(),\n            'Stripe-Version': apiVersion,\n            'Stripe-Account': stripeAccount,\n            'Stripe-Context': stripeContext,\n            'Idempotency-Key': this._defaultIdempotencyKey(method, userSuppliedSettings, apiMode),\n        };\n        // As per https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2:\n        //   A user agent SHOULD send a Content-Length in a request message when\n        //   no Transfer-Encoding is sent and the request method defines a meaning\n        //   for an enclosed payload body.  For example, a Content-Length header\n        //   field is normally sent in a POST request even when the value is 0\n        //   (indicating an empty payload body).  A user agent SHOULD NOT send a\n        //   Content-Length header field when the request message does not contain\n        //   a payload body and the method semantics do not anticipate such a\n        //   body.\n        //\n        // These method types are expected to have bodies and so we should always\n        // include a Content-Length.\n        const methodHasPayload = method == 'POST' || method == 'PUT' || method == 'PATCH';\n        // If a content length was specified, we always include it regardless of\n        // whether the method semantics anticipate such a body. This keeps us\n        // consistent with historical behavior. We do however want to warn on this\n        // and fix these cases as they are semantically incorrect.\n        if (methodHasPayload || contentLength) {\n            if (!methodHasPayload) {\n                emitWarning(`${method} method had non-zero contentLength but no payload is expected for this verb`);\n            }\n            defaultHeaders['Content-Length'] = contentLength;\n        }\n        return Object.assign(removeNullish(defaultHeaders), \n        // If the user supplied, say 'idempotency-key', override instead of appending by ensuring caps are the same.\n        normalizeHeaders(userSuppliedHeaders));\n    }\n    _getUserAgentString(apiMode) {\n        const packageVersion = this._stripe.getConstant('PACKAGE_VERSION');\n        const appInfo = this._stripe._appInfo\n            ? this._stripe.getAppInfoAsString()\n            : '';\n        return `Stripe/${apiMode} NodeBindings/${packageVersion} ${appInfo}`.trim();\n    }\n    _getTelemetryHeader() {\n        if (this._stripe.getTelemetryEnabled() &&\n            this._stripe._prevRequestMetrics.length > 0) {\n            const metrics = this._stripe._prevRequestMetrics.shift();\n            return JSON.stringify({\n                last_request_metrics: metrics,\n            });\n        }\n    }\n    _recordRequestMetrics(requestId, requestDurationMs, usage) {\n        if (this._stripe.getTelemetryEnabled() && requestId) {\n            if (this._stripe._prevRequestMetrics.length > this._maxBufferedRequestMetric) {\n                emitWarning('Request metrics buffer is full, dropping telemetry message.');\n            }\n            else {\n                const m = {\n                    request_id: requestId,\n                    request_duration_ms: requestDurationMs,\n                };\n                if (usage && usage.length > 0) {\n                    m.usage = usage;\n                }\n                this._stripe._prevRequestMetrics.push(m);\n            }\n        }\n    }\n    _rawRequest(method, path, params, options) {\n        const requestPromise = new Promise((resolve, reject) => {\n            let opts;\n            try {\n                const requestMethod = method.toUpperCase();\n                if (requestMethod !== 'POST' &&\n                    params &&\n                    Object.keys(params).length !== 0) {\n                    throw new Error('rawRequest only supports params on POST requests. Please pass null and add your parameters to path.');\n                }\n                const args = [].slice.call([params, options]);\n                // Pull request data and options (headers, auth) from args.\n                const dataFromArgs = getDataFromArgs(args);\n                const data = Object.assign({}, dataFromArgs);\n                const calculatedOptions = getOptionsFromArgs(args);\n                const headers = calculatedOptions.headers;\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const authenticator = calculatedOptions.authenticator;\n                opts = {\n                    requestMethod,\n                    requestPath: path,\n                    bodyData: data,\n                    queryData: {},\n                    authenticator,\n                    headers,\n                    host: null,\n                    streaming: false,\n                    settings: {},\n                    usage: ['raw_request'],\n                };\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(response);\n                }\n            }\n            const { headers, settings } = opts;\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const authenticator = opts.authenticator;\n            this._request(opts.requestMethod, opts.host, path, opts.bodyData, authenticator, { headers, settings, streaming: opts.streaming }, opts.usage, requestCallback);\n        });\n        return requestPromise;\n    }\n    _request(method, host, path, data, authenticator, options, usage = [], callback, requestDataProcessor = null) {\n        var _a;\n        let requestData;\n        authenticator = (_a = authenticator !== null && authenticator !== void 0 ? authenticator : this._stripe._authenticator) !== null && _a !== void 0 ? _a : null;\n        const apiMode = getAPIMode(path);\n        const retryRequest = (requestFn, apiVersion, headers, requestRetries, retryAfter) => {\n            return setTimeout(requestFn, this._getSleepTimeInMS(requestRetries, retryAfter), apiVersion, headers, requestRetries + 1);\n        };\n        const makeRequest = (apiVersion, headers, numRetries) => {\n            // timeout can be set on a per-request basis. Favor that over the global setting\n            const timeout = options.settings &&\n                options.settings.timeout &&\n                Number.isInteger(options.settings.timeout) &&\n                options.settings.timeout >= 0\n                ? options.settings.timeout\n                : this._stripe.getApiField('timeout');\n            const request = {\n                host: host || this._stripe.getApiField('host'),\n                port: this._stripe.getApiField('port'),\n                path: path,\n                method: method,\n                headers: Object.assign({}, headers),\n                body: requestData,\n                protocol: this._stripe.getApiField('protocol'),\n            };\n            authenticator(request)\n                .then(() => {\n                const req = this._stripe\n                    .getApiField('httpClient')\n                    .makeRequest(request.host, request.port, request.path, request.method, request.headers, request.body, request.protocol, timeout);\n                const requestStartTime = Date.now();\n                // @ts-ignore\n                const requestEvent = removeNullish({\n                    api_version: apiVersion,\n                    account: headers['Stripe-Account'],\n                    idempotency_key: headers['Idempotency-Key'],\n                    method,\n                    path,\n                    request_start_time: requestStartTime,\n                });\n                const requestRetries = numRetries || 0;\n                const maxRetries = this._getMaxNetworkRetries(options.settings || {});\n                this._stripe._emitter.emit('request', requestEvent);\n                req\n                    .then((res) => {\n                    if (RequestSender._shouldRetry(res, requestRetries, maxRetries)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, \n                        // @ts-ignore\n                        res.getHeaders()['retry-after']);\n                    }\n                    else if (options.streaming && res.getStatusCode() < 400) {\n                        return this._streamingResponseHandler(requestEvent, usage, callback)(res);\n                    }\n                    else {\n                        return this._jsonResponseHandler(requestEvent, apiMode, usage, callback)(res);\n                    }\n                })\n                    .catch((error) => {\n                    if (RequestSender._shouldRetry(null, requestRetries, maxRetries, error)) {\n                        return retryRequest(makeRequest, apiVersion, headers, requestRetries, null);\n                    }\n                    else {\n                        const isTimeoutError = error.code && error.code === HttpClient.TIMEOUT_ERROR_CODE;\n                        return callback(new StripeConnectionError({\n                            message: isTimeoutError\n                                ? `Request aborted due to timeout being reached (${timeout}ms)`\n                                : RequestSender._generateConnectionErrorMessage(requestRetries),\n                            // @ts-ignore\n                            detail: error,\n                        }));\n                    }\n                });\n            })\n                .catch((e) => {\n                throw new StripeError({\n                    message: 'Unable to authenticate the request',\n                    exception: e,\n                });\n            });\n        };\n        const prepareAndMakeRequest = (error, data) => {\n            if (error) {\n                return callback(error);\n            }\n            requestData = data;\n            this._stripe.getClientUserAgent((clientUserAgent) => {\n                const apiVersion = this._stripe.getApiField('version');\n                const headers = this._makeHeaders({\n                    contentType: apiMode == 'v2'\n                        ? 'application/json'\n                        : 'application/x-www-form-urlencoded',\n                    contentLength: requestData.length,\n                    apiVersion: apiVersion,\n                    clientUserAgent,\n                    method,\n                    userSuppliedHeaders: options.headers,\n                    userSuppliedSettings: options.settings,\n                    stripeAccount: apiMode == 'v2' ? null : this._stripe.getApiField('stripeAccount'),\n                    stripeContext: apiMode == 'v2' ? this._stripe.getApiField('stripeContext') : null,\n                    apiMode: apiMode,\n                });\n                makeRequest(apiVersion, headers, 0);\n            });\n        };\n        if (requestDataProcessor) {\n            requestDataProcessor(method, data, options.headers, prepareAndMakeRequest);\n        }\n        else {\n            let stringifiedData;\n            if (apiMode == 'v2') {\n                stringifiedData = data ? jsonStringifyRequestData(data) : '';\n            }\n            else {\n                stringifiedData = queryStringifyRequestData(data || {}, apiMode);\n            }\n            prepareAndMakeRequest(null, stringifiedData);\n        }\n    }\n}\n","import { callbackifyPromiseWithTimeout, getDataFromArgs, getAPIMode, } from './utils.js';\nclass V1Iterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.index = 0;\n        this.pagePromise = firstPagePromise;\n        this.promiseCache = { currentPromise: null };\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async iterate(pageResult) {\n        if (!(pageResult &&\n            pageResult.data &&\n            typeof pageResult.data.length === 'number')) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `data` array.');\n        }\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        if (this.index < pageResult.data.length) {\n            const idx = reverseIteration\n                ? pageResult.data.length - 1 - this.index\n                : this.index;\n            const value = pageResult.data[idx];\n            this.index += 1;\n            return { value, done: false };\n        }\n        else if (pageResult.has_more) {\n            // Reset counter, request next page, and recurse.\n            this.index = 0;\n            this.pagePromise = this.getNextPage(pageResult);\n            const nextPageResult = await this.pagePromise;\n            return this.iterate(nextPageResult);\n        }\n        return { done: true, value: undefined };\n    }\n    /** @abstract */\n    getNextPage(_pageResult) {\n        throw new Error('Unimplemented');\n    }\n    async _next() {\n        return this.iterate(await this.pagePromise);\n    }\n    next() {\n        /**\n         * If a user calls `.next()` multiple times in parallel,\n         * return the same result until something has resolved\n         * to prevent page-turning race conditions.\n         */\n        if (this.promiseCache.currentPromise) {\n            return this.promiseCache.currentPromise;\n        }\n        const nextPromise = (async () => {\n            const ret = await this._next();\n            this.promiseCache.currentPromise = null;\n            return ret;\n        })();\n        this.promiseCache.currentPromise = nextPromise;\n        return nextPromise;\n    }\n}\nclass V1ListIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        const reverseIteration = isReverseIteration(this.requestArgs);\n        const lastId = getLastId(pageResult, reverseIteration);\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            [reverseIteration ? 'ending_before' : 'starting_after']: lastId,\n        });\n    }\n}\nclass V1SearchIterator extends V1Iterator {\n    getNextPage(pageResult) {\n        if (!pageResult.next_page) {\n            throw Error('Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.');\n        }\n        return this.stripeResource._makeRequest(this.requestArgs, this.spec, {\n            page: pageResult.next_page,\n        });\n    }\n}\nclass V2ListIterator {\n    constructor(firstPagePromise, requestArgs, spec, stripeResource) {\n        this.currentPageIterator = (async () => {\n            const page = await firstPagePromise;\n            return page.data[Symbol.iterator]();\n        })();\n        this.nextPageUrl = (async () => {\n            const page = await firstPagePromise;\n            return page.next_page_url || null;\n        })();\n        this.requestArgs = requestArgs;\n        this.spec = spec;\n        this.stripeResource = stripeResource;\n    }\n    async turnPage() {\n        const nextPageUrl = await this.nextPageUrl;\n        if (!nextPageUrl)\n            return null;\n        this.spec.fullPath = nextPageUrl;\n        const page = await this.stripeResource._makeRequest([], this.spec, {});\n        this.nextPageUrl = Promise.resolve(page.next_page_url);\n        this.currentPageIterator = Promise.resolve(page.data[Symbol.iterator]());\n        return this.currentPageIterator;\n    }\n    async next() {\n        {\n            const result = (await this.currentPageIterator).next();\n            if (!result.done)\n                return { done: false, value: result.value };\n        }\n        const nextPageIterator = await this.turnPage();\n        if (!nextPageIterator) {\n            return { done: true, value: undefined };\n        }\n        const result = nextPageIterator.next();\n        if (!result.done)\n            return { done: false, value: result.value };\n        return { done: true, value: undefined };\n    }\n}\nexport const makeAutoPaginationMethods = (stripeResource, requestArgs, spec, firstPagePromise) => {\n    const apiMode = getAPIMode(spec.fullPath || spec.path);\n    if (apiMode !== 'v2' && spec.methodType === 'search') {\n        return makeAutoPaginationMethodsFromIterator(new V1SearchIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode !== 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V1ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    if (apiMode === 'v2' && spec.methodType === 'list') {\n        return makeAutoPaginationMethodsFromIterator(new V2ListIterator(firstPagePromise, requestArgs, spec, stripeResource));\n    }\n    return null;\n};\nconst makeAutoPaginationMethodsFromIterator = (iterator) => {\n    const autoPagingEach = makeAutoPagingEach((...args) => iterator.next(...args));\n    const autoPagingToArray = makeAutoPagingToArray(autoPagingEach);\n    const autoPaginationMethods = {\n        autoPagingEach,\n        autoPagingToArray,\n        // Async iterator functions:\n        next: () => iterator.next(),\n        return: () => {\n            // This is required for `break`.\n            return {};\n        },\n        [getAsyncIteratorSymbol()]: () => {\n            return autoPaginationMethods;\n        },\n    };\n    return autoPaginationMethods;\n};\n/**\n * ----------------\n * Private Helpers:\n * ----------------\n */\nfunction getAsyncIteratorSymbol() {\n    if (typeof Symbol !== 'undefined' && Symbol.asyncIterator) {\n        return Symbol.asyncIterator;\n    }\n    // Follow the convention from libraries like iterall: https://github.com/leebyron/iterall#asynciterator-1\n    return '@@asyncIterator';\n}\nfunction getDoneCallback(args) {\n    if (args.length < 2) {\n        return null;\n    }\n    const onDone = args[1];\n    if (typeof onDone !== 'function') {\n        throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof onDone}`);\n    }\n    return onDone;\n}\n/**\n * We allow four forms of the `onItem` callback (the middle two being equivalent),\n *\n *   1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n *   2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n *   3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n *   4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n *\n * In addition to standard validation, this helper\n * coalesces the former forms into the latter form.\n */\nfunction getItemCallback(args) {\n    if (args.length === 0) {\n        return undefined;\n    }\n    const onItem = args[0];\n    if (typeof onItem !== 'function') {\n        throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof onItem}`);\n    }\n    // 4. `.autoPagingEach((item, next) => { doSomething(item); next(false); });`\n    if (onItem.length === 2) {\n        return onItem;\n    }\n    if (onItem.length > 2) {\n        throw Error(`The \\`onItem\\` callback function passed to autoPagingEach must accept at most two arguments; got ${onItem}`);\n    }\n    // This magically handles all three of these usecases (the latter two being functionally identical):\n    // 1. `.autoPagingEach((item) => { doSomething(item); return false; });`\n    // 2. `.autoPagingEach(async (item) => { await doSomething(item); return false; });`\n    // 3. `.autoPagingEach((item) => doSomething(item).then(() => false));`\n    return function _onItem(item, next) {\n        const shouldContinue = onItem(item);\n        next(shouldContinue);\n    };\n}\nfunction getLastId(listResult, reverseIteration) {\n    const lastIdx = reverseIteration ? 0 : listResult.data.length - 1;\n    const lastItem = listResult.data[lastIdx];\n    const lastId = lastItem && lastItem.id;\n    if (!lastId) {\n        throw Error('Unexpected: No `id` found on the last item while auto-paging a list.');\n    }\n    return lastId;\n}\nfunction makeAutoPagingEach(asyncIteratorNext) {\n    return function autoPagingEach( /* onItem?, onDone? */) {\n        const args = [].slice.call(arguments);\n        const onItem = getItemCallback(args);\n        const onDone = getDoneCallback(args);\n        if (args.length > 2) {\n            throw Error(`autoPagingEach takes up to two arguments; received ${args}`);\n        }\n        const autoPagePromise = wrapAsyncIteratorWithCallback(asyncIteratorNext, \n        // @ts-ignore we might need a null check\n        onItem);\n        return callbackifyPromiseWithTimeout(autoPagePromise, onDone);\n    };\n}\nfunction makeAutoPagingToArray(autoPagingEach) {\n    return function autoPagingToArray(opts, onDone) {\n        const limit = opts && opts.limit;\n        if (!limit) {\n            throw Error('You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.');\n        }\n        if (limit > 10000) {\n            throw Error('You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.');\n        }\n        const promise = new Promise((resolve, reject) => {\n            const items = [];\n            autoPagingEach((item) => {\n                items.push(item);\n                if (items.length >= limit) {\n                    return false;\n                }\n            })\n                .then(() => {\n                resolve(items);\n            })\n                .catch(reject);\n        });\n        // @ts-ignore\n        return callbackifyPromiseWithTimeout(promise, onDone);\n    };\n}\nfunction wrapAsyncIteratorWithCallback(asyncIteratorNext, onItem) {\n    return new Promise((resolve, reject) => {\n        function handleIteration(iterResult) {\n            if (iterResult.done) {\n                resolve();\n                return;\n            }\n            const item = iterResult.value;\n            return new Promise((next) => {\n                // Bit confusing, perhaps; we pass a `resolve` fn\n                // to the user, so they can decide when and if to continue.\n                // They can return false, or a promise which resolves to false, to break.\n                onItem(item, next);\n            }).then((shouldContinue) => {\n                if (shouldContinue === false) {\n                    return handleIteration({ done: true, value: undefined });\n                }\n                else {\n                    return asyncIteratorNext().then(handleIteration);\n                }\n            });\n        }\n        asyncIteratorNext()\n            .then(handleIteration)\n            .catch(reject);\n    });\n}\nfunction isReverseIteration(requestArgs) {\n    const args = [].slice.call(requestArgs);\n    const dataFromArgs = getDataFromArgs(args);\n    return !!dataFromArgs.ending_before;\n}\n","import { callbackifyPromiseWithTimeout, extractUrlParams } from './utils.js';\nimport { makeAutoPaginationMethods } from './autoPagination.js';\n/**\n * Create an API method from the declared spec.\n *\n * @param [spec.method='GET'] Request Method (POST, GET, DELETE, PUT)\n * @param [spec.path=''] Path to be appended to the API BASE_PATH, joined with\n *  the instance's path (e.g. 'charges' or 'customers')\n * @param [spec.fullPath=''] Fully qualified path to the method (eg. /v1/a/b/c).\n *  If this is specified, path should not be specified.\n * @param [spec.urlParams=[]] Array of required arguments in the order that they\n *  must be passed by the consumer of the API. Subsequent optional arguments are\n *  optionally passed through a hash (Object) as the penultimate argument\n *  (preceding the also-optional callback argument\n * @param [spec.encode] Function for mutating input parameters to a method.\n *  Usefully for applying transforms to data on a per-method basis.\n * @param [spec.host] Hostname for the request.\n *\n * <!-- Public API accessible via Stripe.StripeResource.method -->\n */\nexport function stripeMethod(spec) {\n    if (spec.path !== undefined && spec.fullPath !== undefined) {\n        throw new Error(`Method spec specified both a 'path' (${spec.path}) and a 'fullPath' (${spec.fullPath}).`);\n    }\n    return function (...args) {\n        const callback = typeof args[args.length - 1] == 'function' && args.pop();\n        spec.urlParams = extractUrlParams(spec.fullPath || this.createResourcePathWithSymbols(spec.path || ''));\n        const requestPromise = callbackifyPromiseWithTimeout(this._makeRequest(args, spec, {}), callback);\n        Object.assign(requestPromise, makeAutoPaginationMethods(this, args, spec, requestPromise));\n        return requestPromise;\n    };\n}\n","import { getDataFromArgs, getOptionsFromArgs, makeURLInterpolator, protoExtend, queryStringifyRequestData, getAPIMode, } from './utils.js';\nimport { stripeMethod } from './StripeMethod.js';\n// Provide extension mechanism for Stripe Resource Sub-Classes\nStripeResource.extend = protoExtend;\n// Expose method-creator\nStripeResource.method = stripeMethod;\nStripeResource.MAX_BUFFERED_REQUEST_METRICS = 100;\n/**\n * Encapsulates request logic for a Stripe Resource\n */\nfunction StripeResource(stripe, deprecatedUrlData) {\n    this._stripe = stripe;\n    if (deprecatedUrlData) {\n        throw new Error('Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.');\n    }\n    this.basePath = makeURLInterpolator(\n    // @ts-ignore changing type of basePath\n    this.basePath || stripe.getApiField('basePath'));\n    // @ts-ignore changing type of path\n    this.resourcePath = this.path;\n    // @ts-ignore changing type of path\n    this.path = makeURLInterpolator(this.path);\n    this.initialize(...arguments);\n}\nStripeResource.prototype = {\n    _stripe: null,\n    // @ts-ignore the type of path changes in ctor\n    path: '',\n    resourcePath: '',\n    // Methods that don't use the API's default '/v1' path can override it with this setting.\n    basePath: null,\n    initialize() { },\n    // Function to override the default data processor. This allows full control\n    // over how a StripeResource's request data will get converted into an HTTP\n    // body. This is useful for non-standard HTTP requests. The function should\n    // take method name, data, and headers as arguments.\n    requestDataProcessor: null,\n    // Function to add a validation checks before sending the request, errors should\n    // be thrown, and they will be passed to the callback/promise.\n    validateRequest: null,\n    createFullPath(commandPath, urlData) {\n        const urlParts = [this.basePath(urlData), this.path(urlData)];\n        if (typeof commandPath === 'function') {\n            const computedCommandPath = commandPath(urlData);\n            // If we have no actual command path, we just omit it to avoid adding a\n            // trailing slash. This is important for top-level listing requests, which\n            // do not have a command path.\n            if (computedCommandPath) {\n                urlParts.push(computedCommandPath);\n            }\n        }\n        else {\n            urlParts.push(commandPath);\n        }\n        return this._joinUrlParts(urlParts);\n    },\n    // Creates a relative resource path with symbols left in (unlike\n    // createFullPath which takes some data to replace them with). For example it\n    // might produce: /invoices/{id}\n    createResourcePathWithSymbols(pathWithSymbols) {\n        // If there is no path beyond the resource path, we want to produce just\n        // /<resource path> rather than /<resource path>/.\n        if (pathWithSymbols) {\n            return `/${this._joinUrlParts([this.resourcePath, pathWithSymbols])}`;\n        }\n        else {\n            return `/${this.resourcePath}`;\n        }\n    },\n    _joinUrlParts(parts) {\n        // Replace any accidentally doubled up slashes. This previously used\n        // path.join, which would do this as well. Unfortunately we need to do this\n        // as the functions for creating paths are technically part of the public\n        // interface and so we need to preserve backwards compatibility.\n        return parts.join('/').replace(/\\/{2,}/g, '/');\n    },\n    _getRequestOpts(requestArgs, spec, overrideData) {\n        var _a;\n        // Extract spec values with defaults.\n        const requestMethod = (spec.method || 'GET').toUpperCase();\n        const usage = spec.usage || [];\n        const urlParams = spec.urlParams || [];\n        const encode = spec.encode || ((data) => data);\n        const isUsingFullPath = !!spec.fullPath;\n        const commandPath = makeURLInterpolator(isUsingFullPath ? spec.fullPath : spec.path || '');\n        // When using fullPath, we ignore the resource path as it should already be\n        // fully qualified.\n        const path = isUsingFullPath\n            ? spec.fullPath\n            : this.createResourcePathWithSymbols(spec.path);\n        // Don't mutate args externally.\n        const args = [].slice.call(requestArgs);\n        // Generate and validate url params.\n        const urlData = urlParams.reduce((urlData, param) => {\n            const arg = args.shift();\n            if (typeof arg !== 'string') {\n                throw new Error(`Stripe: Argument \"${param}\" must be a string, but got: ${arg} (on API request to \\`${requestMethod} ${path}\\`)`);\n            }\n            urlData[param] = arg;\n            return urlData;\n        }, {});\n        // Pull request data and options (headers, auth) from args.\n        const dataFromArgs = getDataFromArgs(args);\n        const data = encode(Object.assign({}, dataFromArgs, overrideData));\n        const options = getOptionsFromArgs(args);\n        const host = options.host || spec.host;\n        const streaming = !!spec.streaming;\n        // Validate that there are no more args.\n        if (args.filter((x) => x != null).length) {\n            throw new Error(`Stripe: Unknown arguments (${args}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${requestMethod} \\`${path}\\`)`);\n        }\n        // When using full path, we can just invoke the URL interpolator directly\n        // as we don't need to use the resource to create a full path.\n        const requestPath = isUsingFullPath\n            ? commandPath(urlData)\n            : this.createFullPath(commandPath, urlData);\n        const headers = Object.assign(options.headers, spec.headers);\n        if (spec.validator) {\n            spec.validator(data, { headers });\n        }\n        const dataInQuery = spec.method === 'GET' || spec.method === 'DELETE';\n        const bodyData = dataInQuery ? null : data;\n        const queryData = dataInQuery ? data : {};\n        return {\n            requestMethod,\n            requestPath,\n            bodyData,\n            queryData,\n            authenticator: (_a = options.authenticator) !== null && _a !== void 0 ? _a : null,\n            headers,\n            host: host !== null && host !== void 0 ? host : null,\n            streaming,\n            settings: options.settings,\n            usage,\n        };\n    },\n    _makeRequest(requestArgs, spec, overrideData) {\n        return new Promise((resolve, reject) => {\n            var _a;\n            let opts;\n            try {\n                opts = this._getRequestOpts(requestArgs, spec, overrideData);\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            function requestCallback(err, response) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(spec.transformResponseData\n                        ? spec.transformResponseData(response)\n                        : response);\n                }\n            }\n            const emptyQuery = Object.keys(opts.queryData).length === 0;\n            const path = [\n                opts.requestPath,\n                emptyQuery ? '' : '?',\n                queryStringifyRequestData(opts.queryData, getAPIMode(opts.requestPath)),\n            ].join('');\n            const { headers, settings } = opts;\n            this._stripe._requestSender._request(opts.requestMethod, opts.host, path, opts.bodyData, opts.authenticator, {\n                headers,\n                settings,\n                streaming: opts.streaming,\n            }, opts.usage, requestCallback, (_a = this.requestDataProcessor) === null || _a === void 0 ? void 0 : _a.bind(this));\n        });\n    },\n};\nexport { StripeResource };\n","import { StripeError, StripeSignatureVerificationError } from './Error.js';\nimport { CryptoProviderOnlySupportsAsyncError, } from './crypto/CryptoProvider.js';\nexport function createWebhooks(platformFunctions) {\n    const Webhook = {\n        DEFAULT_TOLERANCE: 300,\n        // @ts-ignore\n        signature: null,\n        constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            try {\n                this.signature.verifyHeader(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            }\n            catch (e) {\n                if (e instanceof CryptoProviderOnlySupportsAsyncError) {\n                    e.message +=\n                        '\\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`';\n                }\n                throw e;\n            }\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        async constructEventAsync(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            await this.signature.verifyHeaderAsync(payload, header, secret, tolerance || Webhook.DEFAULT_TOLERANCE, cryptoProvider, receivedAt);\n            const jsonPayload = payload instanceof Uint8Array\n                ? JSON.parse(new TextDecoder('utf8').decode(payload))\n                : JSON.parse(payload);\n            return jsonPayload;\n        },\n        /**\n         * Generates a header to be used for webhook mocking\n         *\n         * @typedef {object} opts\n         * @property {number} timestamp - Timestamp of the header. Defaults to Date.now()\n         * @property {string} payload - JSON stringified payload object, containing the 'id' and 'object' parameters\n         * @property {string} secret - Stripe webhook secret 'whsec_...'\n         * @property {string} scheme - Version of API to hit. Defaults to 'v1'.\n         * @property {string} signature - Computed webhook signature\n         * @property {CryptoProvider} cryptoProvider - Crypto provider to use for computing the signature if none was provided. Defaults to NodeCryptoProvider.\n         */\n        generateTestHeaderString: function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                preparedOpts.cryptoProvider.computeHMACSignature(preparedOpts.payloadString, preparedOpts.secret);\n            return preparedOpts.generateHeaderString(signature);\n        },\n        generateTestHeaderStringAsync: async function (opts) {\n            const preparedOpts = prepareOptions(opts);\n            const signature = preparedOpts.signature ||\n                (await preparedOpts.cryptoProvider.computeHMACSignatureAsync(preparedOpts.payloadString, preparedOpts.secret));\n            return preparedOpts.generateHeaderString(signature);\n        },\n    };\n    const signature = {\n        EXPECTED_SCHEME: 'v1',\n        verifyHeader(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = cryptoProvider.computeHMACSignature(makeHMACContent(payload, details), secret);\n            validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n            return true;\n        },\n        async verifyHeaderAsync(encodedPayload, encodedHeader, secret, tolerance, cryptoProvider, receivedAt) {\n            const { decodedHeader: header, decodedPayload: payload, details, suspectPayloadType, } = parseEventDetails(encodedPayload, encodedHeader, this.EXPECTED_SCHEME);\n            const secretContainsWhitespace = /\\s/.test(secret);\n            cryptoProvider = cryptoProvider || getCryptoProvider();\n            const expectedSignature = await cryptoProvider.computeHMACSignatureAsync(makeHMACContent(payload, details), secret);\n            return validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt);\n        },\n    };\n    function makeHMACContent(payload, details) {\n        return `${details.timestamp}.${payload}`;\n    }\n    function parseEventDetails(encodedPayload, encodedHeader, expectedScheme) {\n        if (!encodedPayload) {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No webhook payload was provided.',\n            });\n        }\n        const suspectPayloadType = typeof encodedPayload != 'string' &&\n            !(encodedPayload instanceof Uint8Array);\n        const textDecoder = new TextDecoder('utf8');\n        const decodedPayload = encodedPayload instanceof Uint8Array\n            ? textDecoder.decode(encodedPayload)\n            : encodedPayload;\n        // Express's type for `Request#headers` is `string | []string`\n        // which is because the `set-cookie` header is an array,\n        // but no other headers are an array (docs: https://nodejs.org/api/http.html#http_message_headers)\n        // (Express's Request class is an extension of http.IncomingMessage, and doesn't appear to be relevantly modified: https://github.com/expressjs/express/blob/master/lib/request.js#L31)\n        if (Array.isArray(encodedHeader)) {\n            throw new Error('Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.');\n        }\n        if (encodedHeader == null || encodedHeader == '') {\n            throw new StripeSignatureVerificationError(encodedHeader, encodedPayload, {\n                message: 'No stripe-signature header value was provided.',\n            });\n        }\n        const decodedHeader = encodedHeader instanceof Uint8Array\n            ? textDecoder.decode(encodedHeader)\n            : encodedHeader;\n        const details = parseHeader(decodedHeader, expectedScheme);\n        if (!details || details.timestamp === -1) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'Unable to extract timestamp and signatures from header',\n            });\n        }\n        if (!details.signatures.length) {\n            throw new StripeSignatureVerificationError(decodedHeader, decodedPayload, {\n                message: 'No signatures found with expected scheme',\n            });\n        }\n        return {\n            decodedPayload,\n            decodedHeader,\n            details,\n            suspectPayloadType,\n        };\n    }\n    function validateComputedSignature(payload, header, details, expectedSignature, tolerance, suspectPayloadType, secretContainsWhitespace, receivedAt) {\n        const signatureFound = !!details.signatures.filter(platformFunctions.secureCompare.bind(platformFunctions, expectedSignature)).length;\n        const docsLocation = '\\nLearn more about webhook signing and explore webhook integration examples for various frameworks at ' +\n            'https://docs.stripe.com/webhooks/signature';\n        const whitespaceMessage = secretContainsWhitespace\n            ? '\\n\\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value'\n            : '';\n        if (!signatureFound) {\n            if (suspectPayloadType) {\n                throw new StripeSignatureVerificationError(header, payload, {\n                    message: 'Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.' +\n                        'Payload was provided as a parsed JavaScript object instead. \\n' +\n                        'Signature verification is impossible without access to the original signed material. \\n' +\n                        docsLocation +\n                        '\\n' +\n                        whitespaceMessage,\n                });\n            }\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'No signatures found matching the expected signature for payload.' +\n                    ' Are you passing the raw request body you received from Stripe? \\n' +\n                    ' If a webhook request is being forwarded by a third-party tool,' +\n                    ' ensure that the exact request body, including JSON formatting and new line style, is preserved.\\n' +\n                    docsLocation +\n                    '\\n' +\n                    whitespaceMessage,\n            });\n        }\n        const timestampAge = Math.floor((typeof receivedAt === 'number' ? receivedAt : Date.now()) / 1000) - details.timestamp;\n        if (tolerance > 0 && timestampAge > tolerance) {\n            // @ts-ignore\n            throw new StripeSignatureVerificationError(header, payload, {\n                message: 'Timestamp outside the tolerance zone',\n            });\n        }\n        return true;\n    }\n    function parseHeader(header, scheme) {\n        if (typeof header !== 'string') {\n            return null;\n        }\n        return header.split(',').reduce((accum, item) => {\n            const kv = item.split('=');\n            if (kv[0] === 't') {\n                accum.timestamp = parseInt(kv[1], 10);\n            }\n            if (kv[0] === scheme) {\n                accum.signatures.push(kv[1]);\n            }\n            return accum;\n        }, {\n            timestamp: -1,\n            signatures: [],\n        });\n    }\n    let webhooksCryptoProviderInstance = null;\n    /**\n     * Lazily instantiate a CryptoProvider instance. This is a stateless object\n     * so a singleton can be used here.\n     */\n    function getCryptoProvider() {\n        if (!webhooksCryptoProviderInstance) {\n            webhooksCryptoProviderInstance = platformFunctions.createDefaultCryptoProvider();\n        }\n        return webhooksCryptoProviderInstance;\n    }\n    function prepareOptions(opts) {\n        if (!opts) {\n            throw new StripeError({\n                message: 'Options are required',\n            });\n        }\n        const timestamp = Math.floor(opts.timestamp) || Math.floor(Date.now() / 1000);\n        const scheme = opts.scheme || signature.EXPECTED_SCHEME;\n        const cryptoProvider = opts.cryptoProvider || getCryptoProvider();\n        const payloadString = `${timestamp}.${opts.payload}`;\n        const generateHeaderString = (signature) => {\n            return `t=${timestamp},${scheme}=${signature}`;\n        };\n        return Object.assign(Object.assign({}, opts), { timestamp,\n            scheme,\n            cryptoProvider,\n            payloadString,\n            generateHeaderString });\n    }\n    Webhook.signature = signature;\n    return Webhook;\n}\n","// File generated from our OpenAPI spec\nexport const ApiVersion = '2025-02-24.acacia';\n","// ResourceNamespace allows you to create nested resources, i.e. `stripe.issuing.cards`.\n// It also works recursively, so you could do i.e. `stripe.billing.invoicing.pay`.\nfunction ResourceNamespace(stripe, resources) {\n    for (const name in resources) {\n        if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n            continue;\n        }\n        const camelCaseName = name[0].toLowerCase() + name.substring(1);\n        const resource = new resources[name](stripe);\n        this[camelCaseName] = resource;\n    }\n}\nexport function resourceNamespace(namespace, resources) {\n    return function (stripe) {\n        return new ResourceNamespace(stripe, resources);\n    };\n}\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Accounts = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts',\n        methodType: 'list',\n    }),\n    disconnect: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/disconnect',\n    }),\n    listOwners: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/accounts/{account}/owners',\n        methodType: 'list',\n    }),\n    refresh: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/refresh',\n    }),\n    subscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/subscribe',\n    }),\n    unsubscribe: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/accounts/{account}/unsubscribe',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ActiveEntitlements = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/active_entitlements',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Alerts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/alerts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/alerts/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/alerts',\n        methodType: 'list',\n    }),\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/activate',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/archive',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/alerts/{id}/deactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/capture',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/expire',\n    }),\n    finalizeAmount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount',\n    }),\n    increment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/increment',\n    }),\n    respond: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/authorizations/{authorization}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Authorizations = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/authorizations',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/approve',\n    }),\n    decline: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/authorizations/{authorization}/decline',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Calculations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/calculations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/calculations/{calculation}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cardholders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cardholders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/cardholders/{cardholder}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cardholders',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    deliverCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/deliver',\n    }),\n    failCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/fail',\n    }),\n    returnCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/return',\n    }),\n    shipCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/ship',\n    }),\n    submitCard: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/cards/{card}/shipping/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Cards = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/issuing/cards/{card}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/cards/{card}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/cards',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing_portal/configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Configurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/configurations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/configurations/{configuration}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/confirmation_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConnectionTokens = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/connection_tokens',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceSummary = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_summary',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditBalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditGrants = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/credit_grants' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/credit_grants',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/expire',\n    }),\n    voidGrant: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/credit_grants/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/credit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals/{credit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/credit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    fundCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/customers/{customer}/fund_cash_balance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const DebitReversals = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/debit_reversals',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals/{debit_reversal}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/debit_reversals',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/issuing/disputes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/disputes',\n        methodType: 'list',\n    }),\n    submit: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/disputes/{dispute}/submit',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EarlyFraudWarnings = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings/{early_fraud_warning}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/early_fraud_warnings',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EventDestinations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v2/core/event_destinations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v2/core/event_destinations/{id}',\n    }),\n    disable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/disable',\n    }),\n    enable: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/enable',\n    }),\n    ping: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/core/event_destinations/{id}/ping',\n    }),\n});\n","// This file is manually maintained\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve(...args) {\n        const transformResponseData = (response) => {\n            return this.addFetchRelatedObjectIfNeeded(response);\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events/{id}',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    list(...args) {\n        const transformResponseData = (response) => {\n            return Object.assign(Object.assign({}, response), { data: response.data.map(this.addFetchRelatedObjectIfNeeded.bind(this)) });\n        };\n        return stripeMethod({\n            method: 'GET',\n            fullPath: '/v2/core/events',\n            methodType: 'list',\n            transformResponseData,\n        }).apply(this, args);\n    },\n    /**\n     * @private\n     *\n     * For internal use in stripe-node.\n     *\n     * @param pulledEvent The retrieved event object\n     * @returns The retrieved event object with a fetchRelatedObject method,\n     * if pulledEvent.related_object is valid (non-null and has a url)\n     */\n    addFetchRelatedObjectIfNeeded(pulledEvent) {\n        if (!pulledEvent.related_object || !pulledEvent.related_object.url) {\n            return pulledEvent;\n        }\n        return Object.assign(Object.assign({}, pulledEvent), { fetchRelatedObject: () => \n            // call stripeMethod with 'this' resource to fetch\n            // the related object. 'this' is needed to construct\n            // and send the request, but the method spec controls\n            // the url endpoint and method, so it doesn't matter\n            // that 'this' is an Events resource object here\n            stripeMethod({\n                method: 'GET',\n                fullPath: pulledEvent.related_object.url,\n            }).apply(this, [\n                {\n                    stripeAccount: pulledEvent.context,\n                },\n            ]) });\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Features = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/entitlements/features' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/entitlements/features/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/entitlements/features',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FinancialAccounts = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/close',\n    }),\n    retrieveFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n    updateFeatures: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/financial_accounts/{financial_account}/features',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/fail',\n    }),\n    returnInboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/return',\n    }),\n    succeed: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/inbound_transfers/{id}/succeed',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/inbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/inbound_transfers/{inbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Locations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/locations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/locations',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/locations/{location}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventAdjustments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_adjustments',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventSession = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_session',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEventStream = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v2/billing/meter_event_stream',\n        host: 'meter-events.stripe.com',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const MeterEvents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v2/billing/meter_events' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Meters = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/billing/meters/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/billing/meters/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters',\n        methodType: 'list',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/deactivate',\n    }),\n    listEventSummaries: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/billing/meters/{id}/event_summaries',\n        methodType: 'list',\n    }),\n    reactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing/meters/{id}/reactivate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Orders = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/climate/orders' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/orders',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/climate/orders/{order}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/post',\n    }),\n    returnOutboundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_payments/{id}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundPayments = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_payments',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_payments/{id}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    fail: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail',\n    }),\n    post: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post',\n    }),\n    returnOutboundTransfer: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const OutboundTransfers = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/outbound_transfers',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/treasury/outbound_transfers/{outbound_transfer}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    activate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate',\n    }),\n    deactivate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PersonalizationDesigns = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/personalization_designs/{personalization_design}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/personalization_designs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PhysicalBundles = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles/{physical_bundle}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/physical_bundles',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products/{product}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/products',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    presentPaymentMethod: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/terminal/readers/{reader}/present_payment_method',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Readers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/terminal/readers' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/terminal/readers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/terminal/readers/{reader}',\n    }),\n    cancelAction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/cancel_action',\n    }),\n    processPaymentIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_payment_intent',\n    }),\n    processSetupIntent: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/process_setup_intent',\n    }),\n    refundPayment: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/refund_payment',\n    }),\n    setReaderDisplay: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/terminal/readers/{reader}/set_reader_display',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_credits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedCredits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_credits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/treasury/received_debits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReceivedDebits = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/received_debits',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/refunds/{refund}/expire',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Registrations = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax/registrations' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/registrations/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/registrations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportRuns = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/reporting/report_runs' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs/{report_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ReportTypes = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types/{report_type}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reporting/report_types',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Requests = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/forwarding/requests' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/forwarding/requests',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ScheduledQueryRuns = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs/{scheduled_query_run}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sigma/scheduled_query_runs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Secrets = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apps/secrets' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apps/secrets',\n        methodType: 'list',\n    }),\n    deleteWhere: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/apps/secrets/delete',\n    }),\n    find: stripeMethod({ method: 'GET', fullPath: '/v1/apps/secrets/find' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/billing_portal/sessions',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/checkout/sessions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions',\n        methodType: 'list',\n    }),\n    expire: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/checkout/sessions/{session}/expire',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/checkout/sessions/{session}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/financial_connections/sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/sessions/{session}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Settings = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax/settings' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax/settings' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Suppliers = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers/{supplier}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/climate/suppliers',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TestClocks = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/test_helpers/test_clocks',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}',\n    }),\n    advance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/test_clocks/{test_clock}/advance',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/tokens/{token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/tokens',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TransactionEntries = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transaction_entries',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    createForceCapture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_force_capture',\n    }),\n    createUnlinkedRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/create_unlinked_refund',\n    }),\n    refund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/test_helpers/issuing/transactions/{transaction}/refund',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/financial_connections/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/issuing/transactions/{transaction}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/issuing/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}',\n    }),\n    createFromCalculation: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_from_calculation',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/tax/transactions/create_reversal',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax/transactions/{transaction}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/treasury/transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueListItems = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_list_items',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_list_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_list_items/{item}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ValueLists = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/radar/value_lists' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/radar/value_lists',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/radar/value_lists/{value_list}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationReports = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports/{report}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_reports',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const VerificationSessions = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/identity/verification_sessions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/cancel',\n    }),\n    redact: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/identity/verification_sessions/{session}/redact',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\n// Since path can either be `account` or `accounts`, support both through stripeMethod path\nexport const Accounts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/accounts' }),\n    retrieve(id, ...args) {\n        // No longer allow an api key to be passed as the first string to this function due to ambiguity between\n        // old account ids and api keys. To request the account for an api key, send null as the id\n        if (typeof id === 'string') {\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/accounts/{id}',\n            }).apply(this, [id, ...args]);\n        }\n        else {\n            if (id === null || id === undefined) {\n                // Remove id as stripeMethod would complain of unexpected argument\n                [].shift.apply([id, ...args]);\n            }\n            return stripeMethod({\n                method: 'GET',\n                fullPath: '/v1/account',\n            }).apply(this, [id, ...args]);\n        }\n    },\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/accounts/{account}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/accounts/{account}' }),\n    createExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n    }),\n    createLoginLink: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/login_links',\n    }),\n    createPerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons',\n    }),\n    deleteExternalAccount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    deletePerson: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    listCapabilities: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities',\n        methodType: 'list',\n    }),\n    listExternalAccounts: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts',\n        methodType: 'list',\n    }),\n    listPersons: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons',\n        methodType: 'list',\n    }),\n    reject: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/reject',\n    }),\n    retrieveCurrent: stripeMethod({ method: 'GET', fullPath: '/v1/account' }),\n    retrieveCapability: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    retrieveExternalAccount: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    retrievePerson: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n    updateCapability: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/capabilities/{capability}',\n    }),\n    updateExternalAccount: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/external_accounts/{id}',\n    }),\n    updatePerson: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/accounts/{account}/persons/{person}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_links' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const AccountSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/account_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplePayDomains = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/apple_pay/domains' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/apple_pay/domains',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/apple_pay/domains/{domain}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ApplicationFees = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees',\n        methodType: 'list',\n    }),\n    createRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{id}/refunds',\n    }),\n    listRefunds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{id}/refunds',\n        methodType: 'list',\n    }),\n    retrieveRefund: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n    updateRefund: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/application_fees/{fee}/refunds/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Balance = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/balance' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const BalanceTransactions = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions/{id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/balance_transactions',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Charges = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/charges' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/charges/{charge}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/charges/{charge}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges',\n        methodType: 'list',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/charges/{charge}/capture',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/charges/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ConfirmationTokens = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/confirmation_tokens/{confirmation_token}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CountrySpecs = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs/{country}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/country_specs',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Coupons = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/coupons' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/coupons/{coupon}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/coupons/{coupon}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/coupons',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/coupons/{coupon}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CreditNotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/credit_notes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/{credit_note}/lines',\n        methodType: 'list',\n    }),\n    listPreviewLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/credit_notes/preview/lines',\n        methodType: 'list',\n    }),\n    preview: stripeMethod({ method: 'GET', fullPath: '/v1/credit_notes/preview' }),\n    voidCreditNote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/credit_notes/{id}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const CustomerSessions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customer_sessions' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Customers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/customers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/customers/{customer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/customers/{customer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/customers/{customer}' }),\n    createBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n    }),\n    createFundingInstructions: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/funding_instructions',\n    }),\n    createSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources',\n    }),\n    createTaxId: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/discount',\n    }),\n    deleteSource: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    deleteTaxId: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    listBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions',\n        methodType: 'list',\n    }),\n    listCashBalanceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions',\n        methodType: 'list',\n    }),\n    listPaymentMethods: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods',\n        methodType: 'list',\n    }),\n    listSources: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources',\n        methodType: 'list',\n    }),\n    listTaxIds: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids',\n        methodType: 'list',\n    }),\n    retrieveBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    retrieveCashBalance: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    retrieveCashBalanceTransaction: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/cash_balance_transactions/{transaction}',\n    }),\n    retrievePaymentMethod: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/payment_methods/{payment_method}',\n    }),\n    retrieveSource: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    retrieveTaxId: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/{customer}/tax_ids/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/customers/search',\n        methodType: 'search',\n    }),\n    updateBalanceTransaction: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/balance_transactions/{transaction}',\n    }),\n    updateCashBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/cash_balance',\n    }),\n    updateSource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}',\n    }),\n    verifySource: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/customers/{customer}/sources/{id}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Disputes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/disputes/{dispute}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/disputes/{dispute}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/disputes',\n        methodType: 'list',\n    }),\n    close: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/disputes/{dispute}/close',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const EphemeralKeys = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/ephemeral_keys',\n        validator: (data, options) => {\n            if (!options.headers || !options.headers['Stripe-Version']) {\n                throw new Error('Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node');\n            }\n        },\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/ephemeral_keys/{key}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Events = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/events/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/events',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ExchangeRates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates/{rate_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/exchange_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const FileLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/file_links' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/file_links/{link}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/file_links/{link}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/file_links',\n        methodType: 'list',\n    }),\n});\n","import { flattenAndStringify, queryStringifyRequestData } from './utils.js';\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nconst multipartDataGenerator = (method, data, headers) => {\n    const segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n    headers['Content-Type'] = `multipart/form-data; boundary=${segno}`;\n    const textEncoder = new TextEncoder();\n    let buffer = new Uint8Array(0);\n    const endBuffer = textEncoder.encode('\\r\\n');\n    function push(l) {\n        const prevBuffer = buffer;\n        const newBuffer = l instanceof Uint8Array ? l : new Uint8Array(textEncoder.encode(l));\n        buffer = new Uint8Array(prevBuffer.length + newBuffer.length + 2);\n        buffer.set(prevBuffer);\n        buffer.set(newBuffer, prevBuffer.length);\n        buffer.set(endBuffer, buffer.length - 2);\n    }\n    function q(s) {\n        return `\"${s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' ')}\"`;\n    }\n    const flattenedData = flattenAndStringify(data);\n    for (const k in flattenedData) {\n        if (!Object.prototype.hasOwnProperty.call(flattenedData, k)) {\n            continue;\n        }\n        const v = flattenedData[k];\n        push(`--${segno}`);\n        if (Object.prototype.hasOwnProperty.call(v, 'data')) {\n            const typedEntry = v;\n            push(`Content-Disposition: form-data; name=${q(k)}; filename=${q(typedEntry.name || 'blob')}`);\n            push(`Content-Type: ${typedEntry.type || 'application/octet-stream'}`);\n            push('');\n            push(typedEntry.data);\n        }\n        else {\n            push(`Content-Disposition: form-data; name=${q(k)}`);\n            push('');\n            push(v);\n        }\n    }\n    push(`--${segno}--`);\n    return buffer;\n};\nexport function multipartRequestDataProcessor(method, data, headers, callback) {\n    data = data || {};\n    if (method !== 'POST') {\n        return callback(null, queryStringifyRequestData(data));\n    }\n    this._stripe._platformFunctions\n        .tryBufferData(data)\n        .then((bufferedData) => {\n        const buffer = multipartDataGenerator(method, bufferedData, headers);\n        return callback(null, buffer);\n    })\n        .catch((err) => callback(err, null));\n}\n","// File generated from our OpenAPI spec\nimport { multipartRequestDataProcessor } from '../multipart.js';\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Files = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/files',\n        headers: {\n            'Content-Type': 'multipart/form-data',\n        },\n        host: 'files.stripe.com',\n    }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/files/{file}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/files',\n        methodType: 'list',\n    }),\n    requestDataProcessor: multipartRequestDataProcessor,\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoiceitems' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoiceitems',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/invoiceitems/{invoiceitem}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const InvoiceRenderingTemplates = StripeResource.extend({\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates/{template}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoice_rendering_templates',\n        methodType: 'list',\n    }),\n    archive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/archive',\n    }),\n    unarchive: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoice_rendering_templates/{template}/unarchive',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Invoices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/invoices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/invoices/{invoice}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/invoices/{invoice}' }),\n    addLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/add_lines',\n    }),\n    createPreview: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/create_preview',\n    }),\n    finalizeInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/finalize',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/{invoice}/lines',\n        methodType: 'list',\n    }),\n    listUpcomingLines: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/upcoming/lines',\n        methodType: 'list',\n    }),\n    markUncollectible: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/mark_uncollectible',\n    }),\n    pay: stripeMethod({ method: 'POST', fullPath: '/v1/invoices/{invoice}/pay' }),\n    removeLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/remove_lines',\n    }),\n    retrieveUpcoming: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/upcoming',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/invoices/search',\n        methodType: 'search',\n    }),\n    sendInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/send',\n    }),\n    updateLines: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/update_lines',\n    }),\n    updateLineItem: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/lines/{line_item_id}',\n    }),\n    voidInvoice: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/invoices/{invoice}/void',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Mandates = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/mandates/{mandate}' }),\n});\n","'use strict';\nimport { StripeResource } from '../StripeResource.js';\nimport { queryStringifyRequestData } from '../utils.js';\nconst stripeMethod = StripeResource.method;\nconst oAuthHost = 'connect.stripe.com';\nexport const OAuth = StripeResource.extend({\n    basePath: '/',\n    authorizeUrl(params, options) {\n        params = params || {};\n        options = options || {};\n        let path = 'oauth/authorize';\n        // For Express accounts, the path changes\n        if (options.express) {\n            path = `express/${path}`;\n        }\n        if (!params.response_type) {\n            params.response_type = 'code';\n        }\n        if (!params.client_id) {\n            params.client_id = this._stripe.getClientId();\n        }\n        if (!params.scope) {\n            params.scope = 'read_write';\n        }\n        return `https://${oAuthHost}/${path}?${queryStringifyRequestData(params)}`;\n    },\n    token: stripeMethod({\n        method: 'POST',\n        path: 'oauth/token',\n        host: oAuthHost,\n    }),\n    deauthorize(spec, ...args) {\n        if (!spec.client_id) {\n            spec.client_id = this._stripe.getClientId();\n        }\n        return stripeMethod({\n            method: 'POST',\n            path: 'oauth/deauthorize',\n            host: oAuthHost,\n        }).apply(this, [spec, ...args]);\n    },\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents',\n        methodType: 'list',\n    }),\n    applyCustomerBalance: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/apply_customer_balance',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/cancel',\n    }),\n    capture: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/capture',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/confirm',\n    }),\n    incrementAuthorization: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/increment_authorization',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_intents/search',\n        methodType: 'search',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentLinks = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_links' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_links/{payment_link}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_links/{payment_link}/line_items',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodConfigurations = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_configurations/{configuration}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_configurations',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethodDomains = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_method_domains',\n        methodType: 'list',\n    }),\n    validate: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_method_domains/{payment_method_domain}/validate',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PaymentMethods = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payment_methods' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payment_methods',\n        methodType: 'list',\n    }),\n    attach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/attach',\n    }),\n    detach: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payment_methods/{payment_method}/detach',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Payouts = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/payouts' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/payouts/{payout}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/payouts/{payout}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/payouts',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/cancel',\n    }),\n    reverse: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/payouts/{payout}/reverse',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Plans = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/plans' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/plans/{plan}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/plans/{plan}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/plans',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/plans/{plan}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Prices = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/prices' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/prices/{price}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/prices/{price}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices',\n        methodType: 'list',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/prices/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Products = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/products' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/products/{id}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/products/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/products/{id}' }),\n    createFeature: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/products/{product}/features',\n    }),\n    deleteFeature: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    listFeatures: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features',\n        methodType: 'list',\n    }),\n    retrieveFeature: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/{product}/features/{id}',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/products/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const PromotionCodes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/promotion_codes' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/promotion_codes/{promotion_code}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/promotion_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Quotes = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/quotes' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/quotes/{quote}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes',\n        methodType: 'list',\n    }),\n    accept: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/accept' }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/quotes/{quote}/cancel' }),\n    finalizeQuote: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/quotes/{quote}/finalize',\n    }),\n    listComputedUpfrontLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/computed_upfront_line_items',\n        methodType: 'list',\n    }),\n    listLineItems: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/line_items',\n        methodType: 'list',\n    }),\n    pdf: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/quotes/{quote}/pdf',\n        host: 'files.stripe.com',\n        streaming: true,\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Refunds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/refunds' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/refunds/{refund}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/refunds/{refund}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/refunds',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/refunds/{refund}/cancel',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Reviews = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/reviews/{review}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/reviews',\n        methodType: 'list',\n    }),\n    approve: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/reviews/{review}/approve',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupAttempts = StripeResource.extend({\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_attempts',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SetupIntents = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/setup_intents' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/setup_intents',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/cancel',\n    }),\n    confirm: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/confirm',\n    }),\n    verifyMicrodeposits: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/setup_intents/{intent}/verify_microdeposits',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const ShippingRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/shipping_rates' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/shipping_rates/{shipping_rate_token}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/shipping_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Sources = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/sources' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/sources/{source}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/sources/{source}' }),\n    listSourceTransactions: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/sources/{source}/source_transactions',\n        methodType: 'list',\n    }),\n    verify: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/sources/{source}/verify',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionItems = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscription_items' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscription_items/{item}',\n    }),\n    createUsageRecord: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_items/{subscription_item}/usage_records',\n    }),\n    listUsageRecordSummaries: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_items/{subscription_item}/usage_record_summaries',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const SubscriptionSchedules = StripeResource.extend({\n    create: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules',\n    }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscription_schedules',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/cancel',\n    }),\n    release: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscription_schedules/{schedule}/release',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Subscriptions = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/subscriptions' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}',\n    }),\n    deleteDiscount: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/subscriptions/{subscription_exposed_id}/discount',\n    }),\n    resume: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/subscriptions/{subscription}/resume',\n    }),\n    search: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/subscriptions/search',\n        methodType: 'search',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxCodes = StripeResource.extend({\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_codes/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_codes',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxIds = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_ids' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_ids/{id}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_ids',\n        methodType: 'list',\n    }),\n    del: stripeMethod({ method: 'DELETE', fullPath: '/v1/tax_ids/{id}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const TaxRates = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/tax_rates/{tax_rate}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/tax_rates',\n        methodType: 'list',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Tokens = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/tokens' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/tokens/{token}' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Topups = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/topups' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/topups/{topup}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/topups',\n        methodType: 'list',\n    }),\n    cancel: stripeMethod({ method: 'POST', fullPath: '/v1/topups/{topup}/cancel' }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const Transfers = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/transfers' }),\n    retrieve: stripeMethod({ method: 'GET', fullPath: '/v1/transfers/{transfer}' }),\n    update: stripeMethod({ method: 'POST', fullPath: '/v1/transfers/{transfer}' }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers',\n        methodType: 'list',\n    }),\n    createReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{id}/reversals',\n    }),\n    listReversals: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{id}/reversals',\n        methodType: 'list',\n    }),\n    retrieveReversal: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n    updateReversal: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/transfers/{transfer}/reversals/{id}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { StripeResource } from '../StripeResource.js';\nconst stripeMethod = StripeResource.method;\nexport const WebhookEndpoints = StripeResource.extend({\n    create: stripeMethod({ method: 'POST', fullPath: '/v1/webhook_endpoints' }),\n    retrieve: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    update: stripeMethod({\n        method: 'POST',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n    list: stripeMethod({\n        method: 'GET',\n        fullPath: '/v1/webhook_endpoints',\n        methodType: 'list',\n    }),\n    del: stripeMethod({\n        method: 'DELETE',\n        fullPath: '/v1/webhook_endpoints/{webhook_endpoint}',\n    }),\n});\n","// File generated from our OpenAPI spec\nimport { resourceNamespace } from './ResourceNamespace.js';\nimport { Accounts as FinancialConnectionsAccounts } from './resources/FinancialConnections/Accounts.js';\nimport { ActiveEntitlements as EntitlementsActiveEntitlements } from './resources/Entitlements/ActiveEntitlements.js';\nimport { Alerts as BillingAlerts } from './resources/Billing/Alerts.js';\nimport { Authorizations as TestHelpersIssuingAuthorizations } from './resources/TestHelpers/Issuing/Authorizations.js';\nimport { Authorizations as IssuingAuthorizations } from './resources/Issuing/Authorizations.js';\nimport { Calculations as TaxCalculations } from './resources/Tax/Calculations.js';\nimport { Cardholders as IssuingCardholders } from './resources/Issuing/Cardholders.js';\nimport { Cards as TestHelpersIssuingCards } from './resources/TestHelpers/Issuing/Cards.js';\nimport { Cards as IssuingCards } from './resources/Issuing/Cards.js';\nimport { Configurations as BillingPortalConfigurations } from './resources/BillingPortal/Configurations.js';\nimport { Configurations as TerminalConfigurations } from './resources/Terminal/Configurations.js';\nimport { ConfirmationTokens as TestHelpersConfirmationTokens } from './resources/TestHelpers/ConfirmationTokens.js';\nimport { ConnectionTokens as TerminalConnectionTokens } from './resources/Terminal/ConnectionTokens.js';\nimport { CreditBalanceSummary as BillingCreditBalanceSummary } from './resources/Billing/CreditBalanceSummary.js';\nimport { CreditBalanceTransactions as BillingCreditBalanceTransactions } from './resources/Billing/CreditBalanceTransactions.js';\nimport { CreditGrants as BillingCreditGrants } from './resources/Billing/CreditGrants.js';\nimport { CreditReversals as TreasuryCreditReversals } from './resources/Treasury/CreditReversals.js';\nimport { Customers as TestHelpersCustomers } from './resources/TestHelpers/Customers.js';\nimport { DebitReversals as TreasuryDebitReversals } from './resources/Treasury/DebitReversals.js';\nimport { Disputes as IssuingDisputes } from './resources/Issuing/Disputes.js';\nimport { EarlyFraudWarnings as RadarEarlyFraudWarnings } from './resources/Radar/EarlyFraudWarnings.js';\nimport { EventDestinations as V2CoreEventDestinations } from './resources/V2/Core/EventDestinations.js';\nimport { Events as V2CoreEvents } from './resources/V2/Core/Events.js';\nimport { Features as EntitlementsFeatures } from './resources/Entitlements/Features.js';\nimport { FinancialAccounts as TreasuryFinancialAccounts } from './resources/Treasury/FinancialAccounts.js';\nimport { InboundTransfers as TestHelpersTreasuryInboundTransfers } from './resources/TestHelpers/Treasury/InboundTransfers.js';\nimport { InboundTransfers as TreasuryInboundTransfers } from './resources/Treasury/InboundTransfers.js';\nimport { Locations as TerminalLocations } from './resources/Terminal/Locations.js';\nimport { MeterEventAdjustments as BillingMeterEventAdjustments } from './resources/Billing/MeterEventAdjustments.js';\nimport { MeterEventAdjustments as V2BillingMeterEventAdjustments } from './resources/V2/Billing/MeterEventAdjustments.js';\nimport { MeterEventSession as V2BillingMeterEventSession } from './resources/V2/Billing/MeterEventSession.js';\nimport { MeterEventStream as V2BillingMeterEventStream } from './resources/V2/Billing/MeterEventStream.js';\nimport { MeterEvents as BillingMeterEvents } from './resources/Billing/MeterEvents.js';\nimport { MeterEvents as V2BillingMeterEvents } from './resources/V2/Billing/MeterEvents.js';\nimport { Meters as BillingMeters } from './resources/Billing/Meters.js';\nimport { Orders as ClimateOrders } from './resources/Climate/Orders.js';\nimport { OutboundPayments as TestHelpersTreasuryOutboundPayments } from './resources/TestHelpers/Treasury/OutboundPayments.js';\nimport { OutboundPayments as TreasuryOutboundPayments } from './resources/Treasury/OutboundPayments.js';\nimport { OutboundTransfers as TestHelpersTreasuryOutboundTransfers } from './resources/TestHelpers/Treasury/OutboundTransfers.js';\nimport { OutboundTransfers as TreasuryOutboundTransfers } from './resources/Treasury/OutboundTransfers.js';\nimport { PersonalizationDesigns as TestHelpersIssuingPersonalizationDesigns } from './resources/TestHelpers/Issuing/PersonalizationDesigns.js';\nimport { PersonalizationDesigns as IssuingPersonalizationDesigns } from './resources/Issuing/PersonalizationDesigns.js';\nimport { PhysicalBundles as IssuingPhysicalBundles } from './resources/Issuing/PhysicalBundles.js';\nimport { Products as ClimateProducts } from './resources/Climate/Products.js';\nimport { Readers as TestHelpersTerminalReaders } from './resources/TestHelpers/Terminal/Readers.js';\nimport { Readers as TerminalReaders } from './resources/Terminal/Readers.js';\nimport { ReceivedCredits as TestHelpersTreasuryReceivedCredits } from './resources/TestHelpers/Treasury/ReceivedCredits.js';\nimport { ReceivedCredits as TreasuryReceivedCredits } from './resources/Treasury/ReceivedCredits.js';\nimport { ReceivedDebits as TestHelpersTreasuryReceivedDebits } from './resources/TestHelpers/Treasury/ReceivedDebits.js';\nimport { ReceivedDebits as TreasuryReceivedDebits } from './resources/Treasury/ReceivedDebits.js';\nimport { Refunds as TestHelpersRefunds } from './resources/TestHelpers/Refunds.js';\nimport { Registrations as TaxRegistrations } from './resources/Tax/Registrations.js';\nimport { ReportRuns as ReportingReportRuns } from './resources/Reporting/ReportRuns.js';\nimport { ReportTypes as ReportingReportTypes } from './resources/Reporting/ReportTypes.js';\nimport { Requests as ForwardingRequests } from './resources/Forwarding/Requests.js';\nimport { ScheduledQueryRuns as SigmaScheduledQueryRuns } from './resources/Sigma/ScheduledQueryRuns.js';\nimport { Secrets as AppsSecrets } from './resources/Apps/Secrets.js';\nimport { Sessions as BillingPortalSessions } from './resources/BillingPortal/Sessions.js';\nimport { Sessions as CheckoutSessions } from './resources/Checkout/Sessions.js';\nimport { Sessions as FinancialConnectionsSessions } from './resources/FinancialConnections/Sessions.js';\nimport { Settings as TaxSettings } from './resources/Tax/Settings.js';\nimport { Suppliers as ClimateSuppliers } from './resources/Climate/Suppliers.js';\nimport { TestClocks as TestHelpersTestClocks } from './resources/TestHelpers/TestClocks.js';\nimport { Tokens as IssuingTokens } from './resources/Issuing/Tokens.js';\nimport { TransactionEntries as TreasuryTransactionEntries } from './resources/Treasury/TransactionEntries.js';\nimport { Transactions as TestHelpersIssuingTransactions } from './resources/TestHelpers/Issuing/Transactions.js';\nimport { Transactions as FinancialConnectionsTransactions } from './resources/FinancialConnections/Transactions.js';\nimport { Transactions as IssuingTransactions } from './resources/Issuing/Transactions.js';\nimport { Transactions as TaxTransactions } from './resources/Tax/Transactions.js';\nimport { Transactions as TreasuryTransactions } from './resources/Treasury/Transactions.js';\nimport { ValueListItems as RadarValueListItems } from './resources/Radar/ValueListItems.js';\nimport { ValueLists as RadarValueLists } from './resources/Radar/ValueLists.js';\nimport { VerificationReports as IdentityVerificationReports } from './resources/Identity/VerificationReports.js';\nimport { VerificationSessions as IdentityVerificationSessions } from './resources/Identity/VerificationSessions.js';\nexport { Accounts as Account } from './resources/Accounts.js';\nexport { AccountLinks } from './resources/AccountLinks.js';\nexport { AccountSessions } from './resources/AccountSessions.js';\nexport { Accounts } from './resources/Accounts.js';\nexport { ApplePayDomains } from './resources/ApplePayDomains.js';\nexport { ApplicationFees } from './resources/ApplicationFees.js';\nexport { Balance } from './resources/Balance.js';\nexport { BalanceTransactions } from './resources/BalanceTransactions.js';\nexport { Charges } from './resources/Charges.js';\nexport { ConfirmationTokens } from './resources/ConfirmationTokens.js';\nexport { CountrySpecs } from './resources/CountrySpecs.js';\nexport { Coupons } from './resources/Coupons.js';\nexport { CreditNotes } from './resources/CreditNotes.js';\nexport { CustomerSessions } from './resources/CustomerSessions.js';\nexport { Customers } from './resources/Customers.js';\nexport { Disputes } from './resources/Disputes.js';\nexport { EphemeralKeys } from './resources/EphemeralKeys.js';\nexport { Events } from './resources/Events.js';\nexport { ExchangeRates } from './resources/ExchangeRates.js';\nexport { FileLinks } from './resources/FileLinks.js';\nexport { Files } from './resources/Files.js';\nexport { InvoiceItems } from './resources/InvoiceItems.js';\nexport { InvoiceRenderingTemplates } from './resources/InvoiceRenderingTemplates.js';\nexport { Invoices } from './resources/Invoices.js';\nexport { Mandates } from './resources/Mandates.js';\nexport { OAuth } from './resources/OAuth.js';\nexport { PaymentIntents } from './resources/PaymentIntents.js';\nexport { PaymentLinks } from './resources/PaymentLinks.js';\nexport { PaymentMethodConfigurations } from './resources/PaymentMethodConfigurations.js';\nexport { PaymentMethodDomains } from './resources/PaymentMethodDomains.js';\nexport { PaymentMethods } from './resources/PaymentMethods.js';\nexport { Payouts } from './resources/Payouts.js';\nexport { Plans } from './resources/Plans.js';\nexport { Prices } from './resources/Prices.js';\nexport { Products } from './resources/Products.js';\nexport { PromotionCodes } from './resources/PromotionCodes.js';\nexport { Quotes } from './resources/Quotes.js';\nexport { Refunds } from './resources/Refunds.js';\nexport { Reviews } from './resources/Reviews.js';\nexport { SetupAttempts } from './resources/SetupAttempts.js';\nexport { SetupIntents } from './resources/SetupIntents.js';\nexport { ShippingRates } from './resources/ShippingRates.js';\nexport { Sources } from './resources/Sources.js';\nexport { SubscriptionItems } from './resources/SubscriptionItems.js';\nexport { SubscriptionSchedules } from './resources/SubscriptionSchedules.js';\nexport { Subscriptions } from './resources/Subscriptions.js';\nexport { TaxCodes } from './resources/TaxCodes.js';\nexport { TaxIds } from './resources/TaxIds.js';\nexport { TaxRates } from './resources/TaxRates.js';\nexport { Tokens } from './resources/Tokens.js';\nexport { Topups } from './resources/Topups.js';\nexport { Transfers } from './resources/Transfers.js';\nexport { WebhookEndpoints } from './resources/WebhookEndpoints.js';\nexport const Apps = resourceNamespace('apps', { Secrets: AppsSecrets });\nexport const Billing = resourceNamespace('billing', {\n    Alerts: BillingAlerts,\n    CreditBalanceSummary: BillingCreditBalanceSummary,\n    CreditBalanceTransactions: BillingCreditBalanceTransactions,\n    CreditGrants: BillingCreditGrants,\n    MeterEventAdjustments: BillingMeterEventAdjustments,\n    MeterEvents: BillingMeterEvents,\n    Meters: BillingMeters,\n});\nexport const BillingPortal = resourceNamespace('billingPortal', {\n    Configurations: BillingPortalConfigurations,\n    Sessions: BillingPortalSessions,\n});\nexport const Checkout = resourceNamespace('checkout', {\n    Sessions: CheckoutSessions,\n});\nexport const Climate = resourceNamespace('climate', {\n    Orders: ClimateOrders,\n    Products: ClimateProducts,\n    Suppliers: ClimateSuppliers,\n});\nexport const Entitlements = resourceNamespace('entitlements', {\n    ActiveEntitlements: EntitlementsActiveEntitlements,\n    Features: EntitlementsFeatures,\n});\nexport const FinancialConnections = resourceNamespace('financialConnections', {\n    Accounts: FinancialConnectionsAccounts,\n    Sessions: FinancialConnectionsSessions,\n    Transactions: FinancialConnectionsTransactions,\n});\nexport const Forwarding = resourceNamespace('forwarding', {\n    Requests: ForwardingRequests,\n});\nexport const Identity = resourceNamespace('identity', {\n    VerificationReports: IdentityVerificationReports,\n    VerificationSessions: IdentityVerificationSessions,\n});\nexport const Issuing = resourceNamespace('issuing', {\n    Authorizations: IssuingAuthorizations,\n    Cardholders: IssuingCardholders,\n    Cards: IssuingCards,\n    Disputes: IssuingDisputes,\n    PersonalizationDesigns: IssuingPersonalizationDesigns,\n    PhysicalBundles: IssuingPhysicalBundles,\n    Tokens: IssuingTokens,\n    Transactions: IssuingTransactions,\n});\nexport const Radar = resourceNamespace('radar', {\n    EarlyFraudWarnings: RadarEarlyFraudWarnings,\n    ValueListItems: RadarValueListItems,\n    ValueLists: RadarValueLists,\n});\nexport const Reporting = resourceNamespace('reporting', {\n    ReportRuns: ReportingReportRuns,\n    ReportTypes: ReportingReportTypes,\n});\nexport const Sigma = resourceNamespace('sigma', {\n    ScheduledQueryRuns: SigmaScheduledQueryRuns,\n});\nexport const Tax = resourceNamespace('tax', {\n    Calculations: TaxCalculations,\n    Registrations: TaxRegistrations,\n    Settings: TaxSettings,\n    Transactions: TaxTransactions,\n});\nexport const Terminal = resourceNamespace('terminal', {\n    Configurations: TerminalConfigurations,\n    ConnectionTokens: TerminalConnectionTokens,\n    Locations: TerminalLocations,\n    Readers: TerminalReaders,\n});\nexport const TestHelpers = resourceNamespace('testHelpers', {\n    ConfirmationTokens: TestHelpersConfirmationTokens,\n    Customers: TestHelpersCustomers,\n    Refunds: TestHelpersRefunds,\n    TestClocks: TestHelpersTestClocks,\n    Issuing: resourceNamespace('issuing', {\n        Authorizations: TestHelpersIssuingAuthorizations,\n        Cards: TestHelpersIssuingCards,\n        PersonalizationDesigns: TestHelpersIssuingPersonalizationDesigns,\n        Transactions: TestHelpersIssuingTransactions,\n    }),\n    Terminal: resourceNamespace('terminal', {\n        Readers: TestHelpersTerminalReaders,\n    }),\n    Treasury: resourceNamespace('treasury', {\n        InboundTransfers: TestHelpersTreasuryInboundTransfers,\n        OutboundPayments: TestHelpersTreasuryOutboundPayments,\n        OutboundTransfers: TestHelpersTreasuryOutboundTransfers,\n        ReceivedCredits: TestHelpersTreasuryReceivedCredits,\n        ReceivedDebits: TestHelpersTreasuryReceivedDebits,\n    }),\n});\nexport const Treasury = resourceNamespace('treasury', {\n    CreditReversals: TreasuryCreditReversals,\n    DebitReversals: TreasuryDebitReversals,\n    FinancialAccounts: TreasuryFinancialAccounts,\n    InboundTransfers: TreasuryInboundTransfers,\n    OutboundPayments: TreasuryOutboundPayments,\n    OutboundTransfers: TreasuryOutboundTransfers,\n    ReceivedCredits: TreasuryReceivedCredits,\n    ReceivedDebits: TreasuryReceivedDebits,\n    TransactionEntries: TreasuryTransactionEntries,\n    Transactions: TreasuryTransactions,\n});\nexport const V2 = resourceNamespace('v2', {\n    Billing: resourceNamespace('billing', {\n        MeterEventAdjustments: V2BillingMeterEventAdjustments,\n        MeterEventSession: V2BillingMeterEventSession,\n        MeterEventStream: V2BillingMeterEventStream,\n        MeterEvents: V2BillingMeterEvents,\n    }),\n    Core: resourceNamespace('core', {\n        EventDestinations: V2CoreEventDestinations,\n        Events: V2CoreEvents,\n    }),\n});\n","import * as _Error from './Error.js';\nimport { RequestSender } from './RequestSender.js';\nimport { StripeResource } from './StripeResource.js';\nimport { createWebhooks } from './Webhooks.js';\nimport { ApiVersion } from './apiVersion.js';\nimport { CryptoProvider } from './crypto/CryptoProvider.js';\nimport { HttpClient, HttpClientResponse } from './net/HttpClient.js';\nimport * as resources from './resources.js';\nimport { createApiKeyAuthenticator, determineProcessUserAgentProperties, pascalToCamelCase, validateInteger, } from './utils.js';\nconst DEFAULT_HOST = 'api.stripe.com';\nconst DEFAULT_PORT = '443';\nconst DEFAULT_BASE_PATH = '/v1/';\nconst DEFAULT_API_VERSION = ApiVersion;\nconst DEFAULT_TIMEOUT = 80000;\nconst MAX_NETWORK_RETRY_DELAY_SEC = 5;\nconst INITIAL_NETWORK_RETRY_DELAY_SEC = 0.5;\nconst APP_INFO_PROPERTIES = ['name', 'version', 'url', 'partner_id'];\nconst ALLOWED_CONFIG_PROPERTIES = [\n    'authenticator',\n    'apiVersion',\n    'typescript',\n    'maxNetworkRetries',\n    'httpAgent',\n    'httpClient',\n    'timeout',\n    'host',\n    'port',\n    'protocol',\n    'telemetry',\n    'appInfo',\n    'stripeAccount',\n    'stripeContext',\n];\nconst defaultRequestSenderFactory = (stripe) => new RequestSender(stripe, StripeResource.MAX_BUFFERED_REQUEST_METRICS);\nexport function createStripe(platformFunctions, requestSender = defaultRequestSenderFactory) {\n    Stripe.PACKAGE_VERSION = '17.7.0';\n    Stripe.USER_AGENT = Object.assign({ bindings_version: Stripe.PACKAGE_VERSION, lang: 'node', publisher: 'stripe', uname: null, typescript: false }, determineProcessUserAgentProperties());\n    Stripe.StripeResource = StripeResource;\n    Stripe.resources = resources;\n    Stripe.HttpClient = HttpClient;\n    Stripe.HttpClientResponse = HttpClientResponse;\n    Stripe.CryptoProvider = CryptoProvider;\n    // Previously Stripe.webhooks was just the createWebhooks() factory function\n    // however going forward it will be a WebhookObject instance. To maintain\n    // backwards compatibility it is currently a factory function that also\n    // complies to the WebhookObject signature. The factory function signature\n    // will be removed as a breaking change in the next major release.\n    // See https://github.com/stripe/stripe-node/issues/1956\n    function createWebhooksDefault(fns = platformFunctions) {\n        return createWebhooks(fns);\n    }\n    Stripe.webhooks = Object.assign(createWebhooksDefault, createWebhooks(platformFunctions));\n    function Stripe(key, config = {}) {\n        if (!(this instanceof Stripe)) {\n            return new Stripe(key, config);\n        }\n        const props = this._getPropsFromConfig(config);\n        this._platformFunctions = platformFunctions;\n        Object.defineProperty(this, '_emitter', {\n            value: this._platformFunctions.createEmitter(),\n            enumerable: false,\n            configurable: false,\n            writable: false,\n        });\n        this.VERSION = Stripe.PACKAGE_VERSION;\n        this.on = this._emitter.on.bind(this._emitter);\n        this.once = this._emitter.once.bind(this._emitter);\n        this.off = this._emitter.removeListener.bind(this._emitter);\n        const agent = props.httpAgent || null;\n        this._api = {\n            host: props.host || DEFAULT_HOST,\n            port: props.port || DEFAULT_PORT,\n            protocol: props.protocol || 'https',\n            basePath: DEFAULT_BASE_PATH,\n            version: props.apiVersion || DEFAULT_API_VERSION,\n            timeout: validateInteger('timeout', props.timeout, DEFAULT_TIMEOUT),\n            maxNetworkRetries: validateInteger('maxNetworkRetries', props.maxNetworkRetries, 2),\n            agent: agent,\n            httpClient: props.httpClient ||\n                (agent\n                    ? this._platformFunctions.createNodeHttpClient(agent)\n                    : this._platformFunctions.createDefaultHttpClient()),\n            dev: false,\n            stripeAccount: props.stripeAccount || null,\n            stripeContext: props.stripeContext || null,\n        };\n        const typescript = props.typescript || false;\n        if (typescript !== Stripe.USER_AGENT.typescript) {\n            // The mutation here is uncomfortable, but likely fastest;\n            // serializing the user agent involves shelling out to the system,\n            // and given some users may instantiate the library many times without switching between TS and non-TS,\n            // we only want to incur the performance hit when that actually happens.\n            Stripe.USER_AGENT.typescript = typescript;\n        }\n        if (props.appInfo) {\n            this._setAppInfo(props.appInfo);\n        }\n        this._prepResources();\n        this._setAuthenticator(key, props.authenticator);\n        this.errors = _Error;\n        // Once Stripe.webhooks looses the factory function signature in a future release\n        // then this should become this.webhooks = Stripe.webhooks\n        this.webhooks = createWebhooksDefault();\n        this._prevRequestMetrics = [];\n        this._enableTelemetry = props.telemetry !== false;\n        this._requestSender = requestSender(this);\n        // Expose StripeResource on the instance too\n        // @ts-ignore\n        this.StripeResource = Stripe.StripeResource;\n    }\n    Stripe.errors = _Error;\n    Stripe.createNodeHttpClient = platformFunctions.createNodeHttpClient;\n    /**\n     * Creates an HTTP client for issuing Stripe API requests which uses the Web\n     * Fetch API.\n     *\n     * A fetch function can optionally be passed in as a parameter. If none is\n     * passed, will default to the default `fetch` function in the global scope.\n     */\n    Stripe.createFetchHttpClient = platformFunctions.createFetchHttpClient;\n    /**\n     * Create a CryptoProvider which uses the built-in Node crypto libraries for\n     * its crypto operations.\n     */\n    Stripe.createNodeCryptoProvider = platformFunctions.createNodeCryptoProvider;\n    /**\n     * Creates a CryptoProvider which uses the Subtle Crypto API from the Web\n     * Crypto API spec for its crypto operations.\n     *\n     * A SubtleCrypto interface can optionally be passed in as a parameter. If none\n     * is passed, will default to the default `crypto.subtle` object in the global\n     * scope.\n     */\n    Stripe.createSubtleCryptoProvider =\n        platformFunctions.createSubtleCryptoProvider;\n    Stripe.prototype = {\n        // Properties are set in the constructor above\n        _appInfo: undefined,\n        on: null,\n        off: null,\n        once: null,\n        VERSION: null,\n        StripeResource: null,\n        webhooks: null,\n        errors: null,\n        _api: null,\n        _prevRequestMetrics: null,\n        _emitter: null,\n        _enableTelemetry: null,\n        _requestSender: null,\n        _platformFunctions: null,\n        rawRequest(method, path, params, options) {\n            return this._requestSender._rawRequest(method, path, params, options);\n        },\n        /**\n         * @private\n         */\n        _setAuthenticator(key, authenticator) {\n            if (key && authenticator) {\n                throw new Error(\"Can't specify both apiKey and authenticator\");\n            }\n            if (!key && !authenticator) {\n                throw new Error('Neither apiKey nor config.authenticator provided');\n            }\n            this._authenticator = key\n                ? createApiKeyAuthenticator(key)\n                : authenticator;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setAppInfo(info) {\n            if (info && typeof info !== 'object') {\n                throw new Error('AppInfo must be an object.');\n            }\n            if (info && !info.name) {\n                throw new Error('AppInfo.name is required');\n            }\n            info = info || {};\n            this._appInfo = APP_INFO_PROPERTIES.reduce((accum, prop) => {\n                if (typeof info[prop] == 'string') {\n                    accum = accum || {};\n                    accum[prop] = info[prop];\n                }\n                return accum;\n            }, \n            // @ts-ignore\n            undefined);\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiField(key, value) {\n            this._api[key] = value;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getApiField(key) {\n            return this._api[key];\n        },\n        setClientId(clientId) {\n            this._clientId = clientId;\n        },\n        getClientId() {\n            return this._clientId;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getConstant: (c) => {\n            switch (c) {\n                case 'DEFAULT_HOST':\n                    return DEFAULT_HOST;\n                case 'DEFAULT_PORT':\n                    return DEFAULT_PORT;\n                case 'DEFAULT_BASE_PATH':\n                    return DEFAULT_BASE_PATH;\n                case 'DEFAULT_API_VERSION':\n                    return DEFAULT_API_VERSION;\n                case 'DEFAULT_TIMEOUT':\n                    return DEFAULT_TIMEOUT;\n                case 'MAX_NETWORK_RETRY_DELAY_SEC':\n                    return MAX_NETWORK_RETRY_DELAY_SEC;\n                case 'INITIAL_NETWORK_RETRY_DELAY_SEC':\n                    return INITIAL_NETWORK_RETRY_DELAY_SEC;\n            }\n            return Stripe[c];\n        },\n        getMaxNetworkRetries() {\n            return this.getApiField('maxNetworkRetries');\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _setApiNumberField(prop, n, defaultVal) {\n            const val = validateInteger(prop, n, defaultVal);\n            this._setApiField(prop, val);\n        },\n        getMaxNetworkRetryDelay() {\n            return MAX_NETWORK_RETRY_DELAY_SEC;\n        },\n        getInitialNetworkRetryDelay() {\n            return INITIAL_NETWORK_RETRY_DELAY_SEC;\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent and uses a cached version for a slight\n         * speed advantage.\n         */\n        getClientUserAgent(cb) {\n            return this.getClientUserAgentSeeded(Stripe.USER_AGENT, cb);\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         *\n         * Gets a JSON version of a User-Agent by encoding a seeded object and\n         * fetching a uname from the system.\n         */\n        getClientUserAgentSeeded(seed, cb) {\n            this._platformFunctions.getUname().then((uname) => {\n                var _a;\n                const userAgent = {};\n                for (const field in seed) {\n                    if (!Object.prototype.hasOwnProperty.call(seed, field)) {\n                        continue;\n                    }\n                    userAgent[field] = encodeURIComponent((_a = seed[field]) !== null && _a !== void 0 ? _a : 'null');\n                }\n                // URI-encode in case there are unusual characters in the system's uname.\n                userAgent.uname = encodeURIComponent(uname || 'UNKNOWN');\n                const client = this.getApiField('httpClient');\n                if (client) {\n                    userAgent.httplib = encodeURIComponent(client.getClientName());\n                }\n                if (this._appInfo) {\n                    userAgent.application = this._appInfo;\n                }\n                cb(JSON.stringify(userAgent));\n            });\n        },\n        /**\n         * @private\n         * Please open or upvote an issue at github.com/stripe/stripe-node\n         * if you use this, detailing your use-case.\n         *\n         * It may be deprecated and removed in the future.\n         */\n        getAppInfoAsString() {\n            if (!this._appInfo) {\n                return '';\n            }\n            let formatted = this._appInfo.name;\n            if (this._appInfo.version) {\n                formatted += `/${this._appInfo.version}`;\n            }\n            if (this._appInfo.url) {\n                formatted += ` (${this._appInfo.url})`;\n            }\n            return formatted;\n        },\n        getTelemetryEnabled() {\n            return this._enableTelemetry;\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _prepResources() {\n            for (const name in resources) {\n                if (!Object.prototype.hasOwnProperty.call(resources, name)) {\n                    continue;\n                }\n                // @ts-ignore\n                this[pascalToCamelCase(name)] = new resources[name](this);\n            }\n        },\n        /**\n         * @private\n         * This may be removed in the future.\n         */\n        _getPropsFromConfig(config) {\n            // If config is null or undefined, just bail early with no props\n            if (!config) {\n                return {};\n            }\n            // config can be an object or a string\n            const isString = typeof config === 'string';\n            const isObject = config === Object(config) && !Array.isArray(config);\n            if (!isObject && !isString) {\n                throw new Error('Config must either be an object or a string');\n            }\n            // If config is a string, we assume the old behavior of passing in a string representation of the api version\n            if (isString) {\n                return {\n                    apiVersion: config,\n                };\n            }\n            // If config is an object, we assume the new behavior and make sure it doesn't contain any unexpected values\n            const values = Object.keys(config).filter((value) => !ALLOWED_CONFIG_PROPERTIES.includes(value));\n            if (values.length > 0) {\n                throw new Error(`Config object may only contain the following: ${ALLOWED_CONFIG_PROPERTIES.join(', ')}`);\n            }\n            return config;\n        },\n        parseThinEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt) {\n            // parses and validates the event payload all in one go\n            return this.webhooks.constructEvent(payload, header, secret, tolerance, cryptoProvider, receivedAt);\n        },\n    };\n    return Stripe;\n}\n","import { WebPlatformFunctions } from './platform/WebPlatformFunctions.js';\nimport { createStripe } from './stripe.core.js';\nexport const Stripe = createStripe(new WebPlatformFunctions());\nexport default Stripe;\n","import { createClient } from '@supabase/supabase-js';\r\nimport Stripe from 'stripe';\r\nimport type { Restaurant, RestaurantInvitation, MembershipTier } from '../types';\r\n\r\n// Initialize clients for server-side operations\r\nconst supabase = createClient(\r\n  process.env.SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n  {\r\n    auth: {\r\n      autoRefreshToken: false,\r\n      persistSession: false\r\n    }\r\n  }\r\n);\r\n\r\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\r\n  maxNetworkRetries: 3,\r\n});\r\n\r\n// Interfaces for service operations\r\ninterface OnboardingResult {\r\n  success: boolean;\r\n  restaurantId?: string;\r\n  error?: string;\r\n  stripeProductIds?: {\r\n    productId: string;\r\n    priceId: string;\r\n    tier: string;\r\n  }[];\r\n}\r\n\r\ninterface RestaurantCreationData {\r\n  name: string;\r\n  website?: string;\r\n  admin_email: string;\r\n  logo_url?: string;\r\n}\r\n\r\ninterface MembershipTierConfig {\r\n  name: string;\r\n  price: string; // Always as string, convert to number for Stripe\r\n  description: string;\r\n}\r\n\r\n// Business Onboarding Service\r\nexport const BusinessOnboardingService = {\r\n  /**\r\n   * Validates an invitation token and checks if it's still valid\r\n   */\r\n  async validateInvitationToken(token: string): Promise<RestaurantInvitation | null> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('restaurant_invitations')\r\n        .select('*')\r\n        .eq('token', token)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error validating invitation token:', error);\r\n        return null;\r\n      }\r\n\r\n      // Check if invitation is still valid (not expired or already used)\r\n      if (!data || data.status !== 'pending') {\r\n        return null;\r\n      }\r\n\r\n      // Check if invitation has expired\r\n      const now = new Date();\r\n      const expiryDate = new Date(data.expires_at);\r\n\r\n      if (now > expiryDate) {\r\n        // Update status to expired\r\n        await supabase\r\n          .from('restaurant_invitations')\r\n          .update({ \r\n            status: 'expired',\r\n            updated_at: new Date().toISOString()\r\n          })\r\n          .eq('token', token);\r\n          \r\n        return null;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error in validateInvitationToken:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Complete the restaurant onboarding process\r\n   * This is the main method that orchestrates the 4-step process\r\n   */\r\n  async completeOnboarding(\r\n    token: string, \r\n    restaurantData: RestaurantCreationData,\r\n    membershipTiers: MembershipTierConfig[],\r\n    pricingTier: string\r\n  ): Promise<OnboardingResult> {\r\n    let restaurantId: string | undefined;\r\n    let stripeProductIds: { productId: string; priceId: string; tier: string }[] = [];\r\n    let rollbackNeeded = false;\r\n    \r\n    try {\r\n      // Step 1: Validate the invitation token\r\n      const invitation = await this.validateInvitationToken(token);\r\n      if (!invitation) {\r\n        return { \r\n          success: false, \r\n          error: 'Invalid or expired invitation token' \r\n        };\r\n      }\r\n\r\n      // Step 2: Create the restaurant record with the business pricing tier\r\n      const { data: restaurant, error: restaurantError } = await supabase\r\n        .from('restaurants')\r\n        .insert([{\r\n          name: restaurantData.name,\r\n          website: restaurantData.website || '',\r\n          admin_email: restaurantData.admin_email,\r\n          logo_url: restaurantData.logo_url || null,\r\n          subscription_tier: pricingTier, // Store the business pricing tier\r\n          created_at: new Date().toISOString(),\r\n          registration_complete: false,\r\n        }])\r\n        .select()\r\n        .single();\r\n\r\n      if (restaurantError || !restaurant) {\r\n        return { \r\n          success: false, \r\n          error: `Failed to create restaurant: ${restaurantError?.message || 'Unknown error'}` \r\n        };\r\n      }\r\n\r\n      restaurantId = restaurant.id;\r\n      rollbackNeeded = true;\r\n\r\n      // Step 3: Create Stripe products and prices for customer-facing membership tiers\r\n      stripeProductIds = await Promise.all(membershipTiers.map(async (tier) => {\r\n        // Create product in Stripe with restaurant branding\r\n        const product = await stripe.products.create({\r\n          name: `${restaurant.name} - ${tier.name} Membership`,\r\n          description: tier.description,\r\n          metadata: {\r\n            restaurant_id: restaurantId!,\r\n            restaurant_name: restaurant.name,\r\n            tier_type: tier.name.toLowerCase().replace(/\\s+/g, '_')\r\n          }\r\n        });\r\n\r\n        // Create price for the product\r\n        const price = await stripe.prices.create({\r\n          product: product.id,\r\n          unit_amount: Math.round(parseFloat(tier.price) * 100), // Convert to cents\r\n          currency: 'usd',\r\n          recurring: {\r\n            interval: 'month' // Default to monthly\r\n          },\r\n          metadata: {\r\n            restaurant_id: restaurantId!,\r\n            tier_name: tier.name\r\n          }\r\n        });\r\n\r\n        return {\r\n          productId: product.id,\r\n          priceId: price.id,\r\n          tier: tier.name\r\n        };\r\n      }));\r\n\r\n      // Step 4: Store customer-facing membership tiers in Supabase\r\n      const tiersToInsert = membershipTiers.map((tier, index) => ({\r\n        name: tier.name,\r\n        price: tier.price,\r\n        description: tier.description,\r\n        restaurant_id: restaurantId,\r\n        stripe_product_id: stripeProductIds[index].productId,\r\n        stripe_price_id: stripeProductIds[index].priceId,\r\n        created_at: new Date().toISOString()\r\n      }));\r\n\r\n      const { error: tierError } = await supabase\r\n        .from('membership_tiers')\r\n        .insert(tiersToInsert);\r\n\r\n      if (tierError) {\r\n        throw new Error(`Failed to store membership tiers: ${tierError.message}`);\r\n      }\r\n\r\n      // Update the invitation status\r\n      await supabase\r\n        .from('restaurant_invitations')\r\n        .update({\r\n          status: 'completed',\r\n          restaurant_id: restaurantId,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('token', token);\r\n\r\n      // Mark restaurant registration as complete\r\n      await supabase\r\n        .from('restaurants')\r\n        .update({\r\n          registration_complete: true,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', restaurantId);\r\n\r\n      return {\r\n        success: true,\r\n        restaurantId,\r\n        stripeProductIds\r\n      };\r\n    } catch (error: any) {\r\n      console.error('Error in completeOnboarding:', error);\r\n      \r\n      // Perform rollback if needed\r\n      if (rollbackNeeded) {\r\n        await this.rollbackOnboarding(restaurantId!, stripeProductIds);\r\n      }\r\n      \r\n      return {\r\n        success: false,\r\n        error: error.message || 'An error occurred during onboarding'\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * If something fails during onboarding, roll back all changes\r\n   */\r\n  async rollbackOnboarding(\r\n    restaurantId: string, \r\n    stripeProductIds: { productId: string; priceId: string; tier: string }[]\r\n  ): Promise<void> {\r\n    try {\r\n      console.log('Rolling back onboarding due to error...');\r\n      \r\n      // 1. Delete membership tiers from Supabase\r\n      await supabase\r\n        .from('membership_tiers')\r\n        .delete()\r\n        .eq('restaurant_id', restaurantId);\r\n      \r\n      // 2. Delete Stripe prices and products\r\n      for (const { priceId, productId } of stripeProductIds) {\r\n        try {\r\n          await stripe.prices.update(priceId, { active: false });\r\n          await stripe.products.update(productId, { active: false });\r\n        } catch (stripeError) {\r\n          console.error('Error deactivating Stripe resource:', stripeError);\r\n          // Continue with other rollbacks even if one fails\r\n        }\r\n      }\r\n      \r\n      // 3. Delete restaurant record from Supabase\r\n      await supabase\r\n        .from('restaurants')\r\n        .delete()\r\n        .eq('id', restaurantId);\r\n      \r\n      console.log('Rollback completed successfully');\r\n    } catch (error) {\r\n      console.error('Error during rollback:', error);\r\n      // We can't do much if rollback itself fails\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Retrieves business pricing tiers available for restaurants\r\n   */\r\n  async getBusinessPricingTiers(): Promise<string[]> {\r\n    return [\r\n      'NeighborhoodCellar',\r\n      'EstablishedShop', \r\n      'PremiumCollection',\r\n      'LuxuryVintage'\r\n    ];\r\n  },\r\n\r\n  /**\r\n   * Validates that a pricing tier is valid\r\n   */\r\n  validatePricingTier(tier: string): boolean {\r\n    const validTiers = [\r\n      'NeighborhoodCellar',\r\n      'EstablishedShop', \r\n      'PremiumCollection',\r\n      'LuxuryVintage'\r\n    ];\r\n    \r\n    return validTiers.includes(tier);\r\n  },\r\n\r\n  /**\r\n   * Retrieves a restaurant by ID\r\n   */\r\n  async getRestaurantById(id: string): Promise<Restaurant | null> {\r\n    const { data, error } = await supabase\r\n      .from('restaurants')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n    \r\n    if (error || !data) {\r\n      console.error('Error fetching restaurant:', error);\r\n      return null;\r\n    }\r\n    \r\n    return data;\r\n  },\r\n  \r\n  /**\r\n   * Gets all membership tiers for a restaurant\r\n   */\r\n  async getRestaurantMembershipTiers(restaurantId: string): Promise<MembershipTier[]> {\r\n    const { data, error } = await supabase\r\n      .from('membership_tiers')\r\n      .select('*')\r\n      .eq('restaurant_id', restaurantId);\r\n    \r\n    if (error) {\r\n      console.error('Error fetching membership tiers:', error);\r\n      return [];\r\n    }\r\n    \r\n    return data || [];\r\n  },\r\n\r\n  /**\r\n   * Gets information about a business pricing tier\r\n   */\r\n  getBusinessPricingTierInfo(pricingTier: string): {\r\n    name: string;\r\n    monthlyPrice: string;\r\n    description: string;\r\n  } {\r\n    // Define pricing tier details\r\n    const pricingTiers: Record<string, { name: string; monthlyPrice: string; description: string }> = {\r\n      'NeighborhoodCellar': {\r\n        name: 'Neighborhood Cellar',\r\n        monthlyPrice: '199.00',\r\n        description: 'Perfect for smaller wine bars with limited selections'\r\n      },\r\n      'EstablishedShop': {\r\n        name: 'Established Shop',\r\n        monthlyPrice: '349.00',\r\n        description: 'For mid-size establishments with growing wine programs'\r\n      },\r\n      'PremiumCollection': {\r\n        name: 'Premium Collection',\r\n        monthlyPrice: '599.00',\r\n        description: 'For restaurants with extensive wine lists and sommelier services'\r\n      },\r\n      'LuxuryVintage': {\r\n        name: 'Luxury Vintage',\r\n        monthlyPrice: '999.00',\r\n        description: 'For high-end establishments with rare wines and collector selections'\r\n      }\r\n    };\r\n    \r\n    return pricingTiers[pricingTier] || pricingTiers['EstablishedShop']; // Default to mid-tier if invalid\r\n  }\r\n};\r\n\r\nexport default BusinessOnboardingService;","import React from 'react';\r\n\r\ninterface SpinnerProps {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  color?: string;\r\n  className?: string;\r\n}\r\n\r\nexport const LoadingSpinner: React.FC<SpinnerProps> = ({\r\n  size = 'md',\r\n  color = 'border-[#872657]',\r\n  className = '',\r\n}) => {\r\n  const sizeClass = {\r\n    sm: 'h-5 w-5 border-2',\r\n    md: 'h-8 w-8 border-2',\r\n    lg: 'h-12 w-12 border-3',\r\n  }[size];\r\n\r\n  return (\r\n    <div\r\n      className={`animate-spin rounded-full ${sizeClass} border-b-${color} ${className}`}\r\n      role=\"status\"\r\n      aria-label=\"Loading\"\r\n    ></div>\r\n  );\r\n};\r\n\r\ninterface LoadingOverlayProps {\r\n  message?: string;\r\n  isFullScreen?: boolean;\r\n}\r\n\r\nexport const LoadingOverlay: React.FC<LoadingOverlayProps> = ({ \r\n  message = 'Loading...', \r\n  isFullScreen = false \r\n}) => {\r\n  return (\r\n    <div\r\n      className={`flex flex-col items-center justify-center bg-white bg-opacity-80 z-50 ${isFullScreen ? 'fixed inset-0' : 'absolute inset-0'}`}\r\n    >\r\n      <LoadingSpinner size=\"lg\" />\r\n      {message && <p className=\"mt-4 text-gray-700 font-medium\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ErrorDisplayProps {\r\n  message: string;\r\n  onRetry?: () => void;\r\n  className?: string;\r\n}\r\n\r\nexport const ErrorDisplay: React.FC<ErrorDisplayProps> = ({ \r\n  message, \r\n  onRetry, \r\n  className = '' \r\n}) => {\r\n  return (\r\n    <div className={`p-4 bg-red-50 border border-red-200 rounded-md text-red-800 ${className}`}>\r\n      <p className=\"mb-2\">{message}</p>\r\n      {onRetry && (\r\n        <button\r\n          onClick={onRetry}\r\n          className=\"px-4 py-2 bg-red-700 text-white rounded hover:bg-red-800 transition-colors\"\r\n        >\r\n          Try Again\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface SuccessMessageProps {\r\n  message: string;\r\n  className?: string;\r\n}\r\n\r\nexport const SuccessMessage: React.FC<SuccessMessageProps> = ({ message, className = '' }) => {\r\n  return (\r\n    <div className={`p-4 bg-green-50 border border-green-200 rounded-md text-green-800 ${className}`}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Upload } from 'lucide-react';\r\nimport type { RestaurantFormData, FormErrors } from '../../types';\r\nimport { LoadingSpinner } from '../shared/LoadingStates';\r\n\r\ninterface PricingTierInfo {\r\n  name: string;\r\n  monthlyPrice: string;\r\n  description: string;\r\n}\r\n\r\ninterface RestaurantFormProps {\r\n  initialData: RestaurantFormData;\r\n  onSubmit: (data: RestaurantFormData) => void;\r\n  isSubmitting?: boolean;\r\n  errors?: FormErrors;\r\n  sessionId?: string;\r\n  tierInfo?: PricingTierInfo | null;\r\n}\r\n\r\nconst RestaurantForm: React.FC<RestaurantFormProps> = ({\r\n  initialData,\r\n  onSubmit,\r\n  isSubmitting = false,\r\n  errors = {},\r\n  sessionId,\r\n  tierInfo = null,\r\n}) => {\r\n  const [formData, setFormData] = useState<RestaurantFormData>(initialData);\r\n  const [localErrors, setLocalErrors] = useState<FormErrors>({});\r\n\r\n  // Reset form when initialData changes\r\n  useEffect(() => {\r\n    setFormData(initialData);\r\n  }, [initialData]);\r\n\r\n  // Merge external errors into local state\r\n  useEffect(() => {\r\n    setLocalErrors(errors);\r\n  }, [errors]);\r\n\r\n  // Validate email format\r\n  const validateEmail = (email: string): boolean => {\r\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  // Validate password strength\r\n  const validatePassword = (password: string): string[] => {\r\n    const issues = [];\r\n    if (password.length < 8) {\r\n      issues.push('at least 8 characters');\r\n    }\r\n    if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+/.test(password)) {\r\n      issues.push('at least one special character');\r\n    }\r\n    if (!/\\d/.test(password)) {\r\n      issues.push('at least one number');\r\n    }\r\n    if (!/[A-Z]/.test(password)) {\r\n      issues.push('at least one uppercase letter');\r\n    }\r\n    return issues;\r\n  };\r\n\r\n  // Real-time validation on change\r\n  const validateField = (name: string, value: string): string | undefined => {\r\n    let error: string | undefined = undefined;\r\n\r\n    switch (name) {\r\n      case 'email':\r\n        if (value && !validateEmail(value)) {\r\n          error = 'Please enter a valid email address';\r\n        }\r\n        break;\r\n      case 'password':\r\n        if (value) {\r\n          const issues = validatePassword(value);\r\n          if (issues.length > 0) {\r\n            error = `Password must contain ${issues.join(', ')}`;\r\n          }\r\n        }\r\n        break;\r\n      case 'confirmPassword':\r\n        if (value !== formData.password) {\r\n          error = 'Passwords do not match';\r\n        }\r\n        break;\r\n    }\r\n\r\n    return error;\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n\r\n    // Clear any existing error when the field is edited\r\n    if (localErrors[name as keyof FormErrors]) {\r\n      setLocalErrors((prev) => ({ ...prev, [name]: undefined }));\r\n    }\r\n\r\n    // Run real-time validation\r\n    const validationError = validateField(name, value);\r\n    if (validationError) {\r\n      setLocalErrors((prev) => ({ ...prev, [name]: validationError }));\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/webp'];\r\n    const MAX_SIZE = 5 * 1024 * 1024; // 5MB\r\n\r\n    if (!ALLOWED_TYPES.includes(file.type)) {\r\n      setLocalErrors({ general: 'Only JPG, PNG, and WEBP images are allowed' });\r\n      return;\r\n    }\r\n\r\n    if (file.size > MAX_SIZE) {\r\n      setLocalErrors({ general: 'File size must be less than 5MB' });\r\n      return;\r\n    }\r\n\r\n    setFormData({ ...formData, logo: file });\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Final validation before submission\r\n    let isValid = true;\r\n    const newErrors: FormErrors = {};\r\n\r\n    // Required fields\r\n    if (!formData.restaurantName.trim()) {\r\n      newErrors.restaurantName = 'Restaurant name is required';\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!formData.adminName.trim()) {\r\n      newErrors.adminName = 'Admin name is required';\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'Email is required';\r\n      isValid = false;\r\n    } else if (!validateEmail(formData.email)) {\r\n      newErrors.email = 'Please enter a valid email address';\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!formData.password) {\r\n      newErrors.password = 'Password is required';\r\n      isValid = false;\r\n    } else {\r\n      const passwordIssues = validatePassword(formData.password);\r\n      if (passwordIssues.length > 0) {\r\n        newErrors.password = `Password must contain ${passwordIssues.join(', ')}`;\r\n        isValid = false;\r\n      }\r\n    }\r\n    \r\n    if (formData.password !== formData.confirmPassword) {\r\n      newErrors.confirmPassword = 'Passwords do not match';\r\n      isValid = false;\r\n    }\r\n\r\n    setLocalErrors(newErrors);\r\n\r\n    // Submit if valid\r\n    if (isValid) {\r\n      // Include sessionId in submission if provided\r\n      onSubmit({ ...formData, sessionId });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-8 md:space-y-10\">\r\n      {/* General error message */}\r\n      {localErrors.general && (\r\n        <div className=\"p-4 bg-red-100 text-red-700 rounded-md border border-red-200\">\r\n          {localErrors.general}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Pricing Tier Summary Box */}\r\n      {tierInfo && (\r\n        <div className=\"mb-6 p-6 rounded-xl border border-[#872657] bg-gradient-to-br from-[#fff8f8] to-[#fff]\">\r\n          <h3 className=\"text-xl font-bold mb-3 text-[#872657]\" style={{ fontFamily: 'HV Florentino' }}>\r\n            {tierInfo.name} Plan\r\n          </h3>\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <p className=\"text-2xl font-bold text-[#872657]\" style={{ fontFamily: 'TayBasal' }}>\r\n              ${parseFloat(tierInfo.monthlyPrice).toFixed(2)}\r\n              <span className=\"text-sm text-gray-600 ml-1\">/month</span>\r\n            </p>\r\n            <div className=\"px-3 py-1 bg-[#872657] bg-opacity-10 rounded-full text-[#872657] text-sm font-medium\">\r\n              Selected Plan\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-700\" style={{ fontFamily: 'TayBasal' }}>\r\n            {tierInfo.description}\r\n          </p>\r\n          <div className=\"mt-4 pt-4 border-t border-[#872657] border-opacity-20\">\r\n            <h4 className=\"text-sm font-medium mb-2 text-gray-700\">Included with {tierInfo.name}:</h4>\r\n            <ul className=\"space-y-2\">\r\n              <li className=\"flex items-center text-sm text-gray-600\">\r\n                <div className=\"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center mr-2\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-3 h-3 text-green-600\">\r\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                Personalized wine recommendations\r\n              </li>\r\n              <li className=\"flex items-center text-sm text-gray-600\">\r\n                <div className=\"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center mr-2\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-3 h-3 text-green-600\">\r\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                Membership tier management\r\n              </li>\r\n              <li className=\"flex items-center text-sm text-gray-600\">\r\n                <div className=\"w-5 h-5 rounded-full bg-green-100 flex items-center justify-center mr-2\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-3 h-3 text-green-600\">\r\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                Customer accounts & profile data\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-6 md:space-y-8\">\r\n        {/* Restaurant Name */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Restaurant Name *\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"restaurantName\"\r\n            value={formData.restaurantName}\r\n            onChange={handleInputChange}\r\n            required\r\n            className={`w-full px-4 py-2 border ${localErrors.restaurantName ? 'border-red-500' : 'border-gray-300'} rounded-md focus:ring-2 focus:ring-[#872657]`}\r\n          />\r\n          {localErrors.restaurantName && (\r\n            <p className=\"mt-1 text-sm text-red-500\">{localErrors.restaurantName}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Admin Name */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Admin Name *\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"adminName\"\r\n            value={formData.adminName}\r\n            onChange={handleInputChange}\r\n            required\r\n            placeholder=\"Your full name\"\r\n            className={`w-full px-4 py-2 border ${localErrors.adminName ? 'border-red-500' : 'border-gray-300'} rounded-md focus:ring-2 focus:ring-[#872657]`}\r\n          />\r\n          {localErrors.adminName && (\r\n            <p className=\"mt-1 text-sm text-red-500\">{localErrors.adminName}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Email */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Email *\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleInputChange}\r\n            required\r\n            placeholder=\"admin@yourrestaurant.com\"\r\n            className={`w-full px-4 py-2 border ${localErrors.email ? 'border-red-500' : 'border-gray-300'} rounded-md focus:ring-2 focus:ring-[#872657]`}\r\n          />\r\n          {localErrors.email && (\r\n            <p className=\"mt-1 text-sm text-red-500\">{localErrors.email}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Website */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Website\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            name=\"website\"\r\n            value={formData.website || ''}\r\n            onChange={handleInputChange}\r\n            placeholder=\"https://www.yourrestaurant.com\"\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#872657]\"\r\n          />\r\n        </div>\r\n\r\n        {/* Logo Upload */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Logo\r\n          </label>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <label className=\"cursor-pointer bg-[#2A3D45] text-white px-4 py-2 rounded-md hover:bg-opacity-90\">\r\n              <Upload className=\"inline-block w-5 h-5 mr-2\" />\r\n              Upload Logo\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className=\"hidden\"\r\n                onChange={handleFileChange}\r\n              />\r\n            </label>\r\n            {formData.logo && (\r\n              <span className=\"text-sm text-gray-600\">\r\n                File selected: {formData.logo.name}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Password */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Password *\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleInputChange}\r\n            required\r\n            placeholder=\"At least 8 characters\"\r\n            className={`w-full px-4 py-2 border ${localErrors.password ? 'border-red-500' : 'border-gray-300'} rounded-md focus:ring-2 focus:ring-[#872657]`}\r\n          />\r\n          {localErrors.password && (\r\n            <p className=\"mt-1 text-sm text-red-500\">{localErrors.password}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Confirm Password */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Confirm Password *\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            value={formData.confirmPassword}\r\n            onChange={handleInputChange}\r\n            required\r\n            placeholder=\"Confirm your password\"\r\n            className={`w-full px-4 py-2 border ${localErrors.confirmPassword ? 'border-red-500' : 'border-gray-300'} rounded-md focus:ring-2 focus:ring-[#872657]`}\r\n          />\r\n          {localErrors.confirmPassword && (\r\n            <p className=\"mt-1 text-sm text-red-500\">{localErrors.confirmPassword}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <button\r\n        type=\"submit\"\r\n        disabled={isSubmitting}\r\n        className={`w-full md:w-auto md:px-12 mt-8 bg-[#872657] text-white py-4 rounded-md hover:bg-opacity-90 font-bold text-lg flex items-center justify-center ${isSubmitting ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n      >\r\n        {isSubmitting ? (\r\n          <>\r\n            <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n            Processing...\r\n          </>\r\n        ) : (\r\n          'Continue'\r\n        )}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default RestaurantForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { X, Loader2, Wine, Tag, FileText } from 'lucide-react';\r\n\r\n// Type definitions for TypeScript\r\n// Import the standard MembershipTier type instead of defining it\r\nimport { MembershipTier } from '../types';\r\n\r\ninterface MembershipTierModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (tier: MembershipTier) => void;\r\n  initialData: MembershipTier;\r\n  isEditing: boolean;\r\n  restaurantId?: string; // Optional: might not be available during initial registration\r\n}\r\n\r\nconst MembershipTierModal: React.FC<MembershipTierModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSave,\r\n  initialData,\r\n  isEditing,\r\n  restaurantId\r\n}) => {\r\n  const [tierData, setTierData] = useState<MembershipTier>(initialData);\r\n  const [errors, setErrors] = useState<{\r\n    name?: string;\r\n    price?: string;\r\n    general?: string;\r\n  }>({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Reset the form when the modal opens or initialData changes\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setTierData(initialData);\r\n      setErrors({});\r\n    }\r\n  }, [isOpen, initialData]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setTierData(prev => ({ ...prev, [name]: value }));\r\n    \r\n    // Clear errors when field is edited\r\n    if (errors[name as keyof typeof errors]) {\r\n      setErrors(prev => ({ ...prev, [name]: undefined }));\r\n    }\r\n  };\r\n\r\n  // Form validation\r\n  const validateForm = () => {\r\n    const newErrors: {\r\n      name?: string;\r\n      price?: string;\r\n      general?: string;\r\n    } = {};\r\n\r\n    if (!tierData.name.trim()) {\r\n      newErrors.name = 'Name is required';\r\n    }\r\n\r\n    if (!tierData.price) {\r\n      newErrors.price = 'Price is required';\r\n    } else {\r\n      const priceValue = parseFloat(tierData.price);\r\n      if (isNaN(priceValue) || priceValue <= 0) {\r\n        newErrors.price = 'Price must be a positive number';\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // Handle form submission - calls our new API instead of direct Supabase insert\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n    \r\n    setIsSubmitting(true);\r\n    setErrors({});\r\n    \r\n    try {\r\n      // If restaurantId is not available yet (during initial registration),\r\n      // just return the tier data to be saved later\r\n      if (!restaurantId) {\r\n        // Generate a temporary client-side ID if creating a new tier\r\n        if (!isEditing && !tierData.id) {\r\n          tierData.id = crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2, 15);\r\n        }\r\n        \r\n        // Call the parent's onSave with the tier data\r\n        onSave(tierData);\r\n        onClose();\r\n        return;\r\n      }\r\n      \r\n      // If we have a restaurantId, call our membership-tiers API endpoint\r\n      const response = await fetch('/api/membership-tiers', {\r\n        method: isEditing ? 'PUT' : 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          id: isEditing ? tierData.id : undefined,\r\n          name: tierData.name,\r\n          price: tierData.price,\r\n          description: tierData.description,\r\n          restaurant_id: restaurantId,\r\n          // Include these if they exist (for reconnection scenarios)\r\n          stripe_price_id: tierData.stripe_price_id,\r\n          stripe_product_id: tierData.stripe_product_id,\r\n        }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to save membership tier');\r\n      }\r\n      \r\n      const savedTier = await response.json();\r\n      \r\n      // If we have a warning, show it but continue\r\n      if (savedTier.warning) {\r\n        console.warn('Stripe warning:', savedTier.warning);\r\n        // Optional: could show a toast notification here\r\n      }\r\n      \r\n      // Call the parent's onSave function with the saved tier data\r\n      onSave(savedTier);\r\n      \r\n      // Close the modal\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error saving tier:', error);\r\n      setErrors({ \r\n        general: error instanceof Error ? error.message : 'An unknown error occurred' \r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden\">\r\n        <div className=\"flex justify-between items-center p-6 border-b border-gray-200 bg-gray-50\">\r\n          <h2 className=\"text-xl font-bold text-[#800020]\" style={{ fontFamily: 'HV Florentino' }}>\r\n            {isEditing ? 'Edit Membership Tier' : 'Add Membership Tier'}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-500 hover:text-gray-700 transition-colors duration-200\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-5\">\r\n          {errors.general && (\r\n            <div className=\"p-4 bg-red-100 text-red-700 rounded-xl border border-red-200 mb-4\">\r\n              {errors.general}\r\n            </div>\r\n          )}\r\n          \r\n          <div>\r\n            <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\" style={{ fontFamily: 'TayBasal' }}>\r\n              <Wine className=\"w-4 h-4 mr-2 text-[#800020]\" />\r\n              Tier Name *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={tierData.name}\r\n              onChange={handleChange}\r\n              className={`w-full px-4 py-3 border ${\r\n                errors.name ? 'border-red-500' : 'border-gray-300'\r\n              } rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent transition-all duration-200`}\r\n              placeholder=\"e.g., Bronze, Silver, Gold\"\r\n              disabled={isSubmitting}\r\n              required\r\n            />\r\n            {errors.name && <p className=\"mt-1 text-sm text-red-500\">{errors.name}</p>}\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\" style={{ fontFamily: 'TayBasal' }}>\r\n              <Tag className=\"w-4 h-4 mr-2 text-[#800020]\" />\r\n              Monthly Price ($) *\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={tierData.price}\r\n              onChange={handleChange}\r\n              className={`w-full px-4 py-3 border ${\r\n                errors.price ? 'border-red-500' : 'border-gray-300'\r\n              } rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent transition-all duration-200`}\r\n              placeholder=\"e.g., 29.99\"\r\n              step=\"0.01\"\r\n              min=\"0.01\"\r\n              disabled={isSubmitting}\r\n              required\r\n            />\r\n            {errors.price && <p className=\"mt-1 text-sm text-red-500\">{errors.price}</p>}\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\" style={{ fontFamily: 'TayBasal' }}>\r\n              <FileText className=\"w-4 h-4 mr-2 text-[#800020]\" />\r\n              Description\r\n            </label>\r\n            <textarea\r\n              name=\"description\"\r\n              value={tierData.description}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent transition-all duration-200\"\r\n              placeholder=\"Describe what members get with this tier...\"\r\n              rows={3}\r\n              disabled={isSubmitting}\r\n              style={{ fontFamily: 'Libre Baskerville' }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors duration-200\"\r\n              disabled={isSubmitting}\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-5 py-2.5 bg-[#800020] text-white rounded-xl hover:bg-opacity-90 transition-all duration-200 flex items-center\"\r\n              disabled={isSubmitting}\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                'Save Tier'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MembershipTierModal;","import React, { useState } from 'react';\r\nimport { Plus, Edit, Trash2, Wine, Tag, Star, Trophy, Grape, GlassWater } from 'lucide-react';\r\nimport type { MembershipTier } from '../../types';\r\nimport MembershipTierModal from '../membership-tier-modal';\r\n\r\ninterface MembershipTierListProps {\r\n  tiers: MembershipTier[];\r\n  restaurantId?: string;\r\n  onTierAdded: (tier: MembershipTier) => void;\r\n  onTierUpdated: (tier: MembershipTier) => void;\r\n  onTierDeleted: (tierId: string) => void;\r\n  minTiersRequired?: number;\r\n  error?: string;\r\n}\r\n\r\n// Predefined tier colors and icons for visual variety\r\nconst tierIcons = [\r\n  { icon: <Wine className=\"w-6 h-6\" />, color: \"#800020\" },\r\n  { icon: <Trophy className=\"w-6 h-6\" />, color: \"#AA7F39\" },\r\n  { icon: <Star className=\"w-6 h-6\" />, color: \"#2F4858\" },\r\n  { icon: <Grape className=\"w-6 h-6\" />, color: \"#5E2750\" },\r\n  { icon: <GlassWater className=\"w-6 h-6\" />, color: \"#2A3D45\" }\r\n];\r\n\r\nconst MembershipTierList: React.FC<MembershipTierListProps> = ({\r\n  tiers,\r\n  restaurantId,\r\n  onTierAdded,\r\n  onTierUpdated,\r\n  onTierDeleted,\r\n  minTiersRequired = 1,\r\n  error,\r\n}) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [currentTier, setCurrentTier] = useState<MembershipTier>({\r\n    id: '',\r\n    name: '',\r\n    price: '',\r\n    description: '',\r\n  });\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  const openAddModal = () => {\r\n    setCurrentTier({\r\n      id: '',\r\n      name: '',\r\n      price: '',\r\n      description: '',\r\n    });\r\n    setIsEditing(false);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const openEditModal = (tier: MembershipTier) => {\r\n    setCurrentTier(tier);\r\n    setIsEditing(true);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleSave = (tier: MembershipTier) => {\r\n    if (isEditing) {\r\n      onTierUpdated(tier);\r\n    } else {\r\n      onTierAdded(tier);\r\n    }\r\n    setShowModal(false);\r\n  };\r\n\r\n  const confirmDelete = (tier: MembershipTier) => {\r\n    // Check if we can safely delete this tier\r\n    if (tiers.length <= minTiersRequired) {\r\n      if (confirm(`You must have at least ${minTiersRequired} membership tier(s). Replace this tier with a new one?`)) {\r\n        // Open modal to create a replacement tier\r\n        setCurrentTier({\r\n          id: '',\r\n          name: '',\r\n          price: '',\r\n          description: '',\r\n        });\r\n        setIsEditing(false);\r\n        setShowModal(true);\r\n        // Delete will happen after a new tier is added\r\n      }\r\n    } else if (confirm(`Are you sure you want to delete the \"${tier.name}\" tier?`)) {\r\n      onTierDeleted(tier.id);\r\n    }\r\n  };\r\n\r\n  // Get a tier icon and color based on index or default\r\n  const getTierStyle = (index: number) => {\r\n    return index < tierIcons.length ? tierIcons[index] : tierIcons[0];\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <h2 className=\"text-2xl font-bold mt-8 mb-10 text-[#800020]\" style={{ fontFamily: 'HV Florentino' }}>\r\n        Membership Tiers\r\n      </h2>\r\n\r\n      <p className=\"mb-8 text-gray-700\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n        Define 1-3 membership tiers that your guests can subscribe to.\r\n        Each tier should have a unique name, price, and description of benefits.\r\n      </p>\r\n\r\n      {error && (\r\n        <div className=\"p-5 bg-red-100 text-red-700 rounded-xl border border-red-200 mb-8\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* List of tiers - Bento Box style */}\r\n      {tiers.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {tiers.map((tier, index) => {\r\n            const tierStyle = getTierStyle(index);\r\n            \r\n            return (\r\n              <div\r\n                key={tier.id}\r\n                className=\"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-all duration-300\"\r\n                style={{ minHeight: '260px' }}\r\n              >\r\n                {/* Header with icon */}\r\n                <div \r\n                  className=\"p-5 text-white flex justify-between items-center\"\r\n                  style={{ backgroundColor: tierStyle.color }}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-12 h-12 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3\">\r\n                      {tierStyle.icon}\r\n                    </div>\r\n                    <h3 className=\"font-bold text-xl\" style={{ fontFamily: 'HV Florentino' }}>{tier.name}</h3>\r\n                  </div>\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => openEditModal(tier)}\r\n                      className=\"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200\"\r\n                      aria-label={`Edit ${tier.name}`}\r\n                    >\r\n                      <Edit className=\"w-4 h-4 text-white\" />\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => confirmDelete(tier)}\r\n                      className=\"p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200\"\r\n                      aria-label={`Delete ${tier.name}`}\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4 text-white\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Price tag */}\r\n                <div className=\"px-5 py-4 bg-gray-50 border-b border-gray-100\">\r\n                  <div className=\"flex items-center\">\r\n                    <Tag className=\"w-5 h-5 text-gray-500 mr-2\" />\r\n                    <span className=\"text-2xl font-bold text-gray-800\" style={{ fontFamily: 'TayBasal' }}>\r\n                      ${parseFloat(tier.price).toFixed(2)}\r\n                    </span>\r\n                    <span className=\"text-gray-500 ml-1\" style={{ fontFamily: 'TayBasal' }}>/month</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Description */}\r\n                <div className=\"p-5\">\r\n                  <p className=\"text-gray-700 text-sm\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n                    {tier.description || \"No description provided.\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          \r\n          {/* Add new tier card */}\r\n          {tiers.length < 3 && (\r\n            <div \r\n              onClick={openAddModal}\r\n              className=\"bg-white rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center p-8 cursor-pointer hover:border-[#800020] hover:bg-gray-50 transition-all duration-300\"\r\n              style={{ minHeight: '260px' }}\r\n            >\r\n              <div className=\"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-6\">\r\n                <Plus className=\"w-8 h-8 text-gray-400\" />\r\n              </div>\r\n              <p className=\"text-gray-500 font-medium text-center\" style={{ fontFamily: 'TayBasal' }}>Add Another Tier</p>\r\n              <p className=\"text-xs text-gray-400 text-center mt-2\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n                {tiers.length === 0 ? 'Add your first membership tier' : 'You can add up to 3 tiers'}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div \r\n          onClick={openAddModal}\r\n          className=\"bg-white rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center p-12 cursor-pointer hover:border-[#800020] hover:bg-gray-50 transition-all duration-300\"\r\n          style={{ minHeight: '260px' }}\r\n        >\r\n          <div className=\"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mb-8\">\r\n            <Plus className=\"w-10 h-10 text-gray-400\" />\r\n          </div>\r\n          <h3 className=\"text-xl font-medium text-gray-700 mb-3\" style={{ fontFamily: 'HV Florentino' }}>Create Your First Tier</h3>\r\n          <p className=\"text-gray-500 text-center max-w-md\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n            Define at least one membership tier with a name, price, and description\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal */}\r\n      <MembershipTierModal\r\n        isOpen={showModal}\r\n        onClose={() => setShowModal(false)}\r\n        onSave={handleSave}\r\n        initialData={currentTier}\r\n        isEditing={isEditing}\r\n        restaurantId={restaurantId}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MembershipTierList;","import React, { useState } from 'react';\r\nimport RestaurantForm from './RestaurantForm';\r\nimport MembershipTierList from './MembershipTierList';\r\nimport { CheckCircle, Loader2, Building2, CreditCard, CheckSquare, Wine } from 'lucide-react';\r\nimport { LoadingSpinner } from '../shared/LoadingStates';\r\nimport type { RestaurantFormData, MembershipTier, FormErrors } from '../../types';\r\n\r\n// Pricing tier information interface\r\ninterface PricingTierInfo {\r\n  name: string;\r\n  monthlyPrice: string;\r\n  description: string;\r\n}\r\n\r\n// Extended RestaurantFormData to include pricing tier info\r\ninterface ExtendedRestaurantFormData extends RestaurantFormData {\r\n  pricingTierInfo?: PricingTierInfo;\r\n}\r\n\r\ninterface RegistrationStepsProps {\r\n  initialStep?: number;\r\n  initialRestaurantData?: ExtendedRestaurantFormData;\r\n  initialTiers?: MembershipTier[];\r\n  onComplete: (data: {\r\n    restaurant: RestaurantFormData;\r\n    tiers: MembershipTier[];\r\n    restaurantId?: string;\r\n  }) => void;\r\n  isSubmitting?: boolean;\r\n  sessionId?: string;\r\n  errors?: {\r\n    restaurant?: FormErrors;\r\n    tiers?: string;\r\n    general?: string;\r\n  };\r\n  restaurantId?: string;\r\n}\r\n\r\nconst RegistrationSteps: React.FC<RegistrationStepsProps> = ({\r\n  initialStep = 1,\r\n  initialRestaurantData = {\r\n    restaurantName: '',\r\n    adminName: '',\r\n    email: '',\r\n    website: '',\r\n    logo: null,\r\n    password: '',\r\n    confirmPassword: '',\r\n  },\r\n  initialTiers = [],\r\n  onComplete,\r\n  isSubmitting = false,\r\n  sessionId,\r\n  errors = {},\r\n  restaurantId,\r\n}) => {\r\n  const [currentStep, setCurrentStep] = useState(initialStep);\r\n  const [restaurantData, setRestaurantData] = useState<RestaurantFormData>(initialRestaurantData);\r\n  const [membershipTiers, setMembershipTiers] = useState<MembershipTier[]>(initialTiers);\r\n\r\n  // Handle restaurant form submission\r\n  const handleRestaurantSubmit = (data: RestaurantFormData) => {\r\n    setRestaurantData(data);\r\n    setCurrentStep(2);\r\n  };\r\n\r\n  // Handle membership tier operations\r\n  const handleTierAdded = (tier: MembershipTier) => {\r\n    setMembershipTiers([...membershipTiers, tier]);\r\n  };\r\n\r\n  const handleTierUpdated = (updatedTier: MembershipTier) => {\r\n    setMembershipTiers(membershipTiers.map(tier => \r\n      tier.id === updatedTier.id ? updatedTier : tier\r\n    ));\r\n  };\r\n\r\n  const handleTierDeleted = (tierId: string) => {\r\n    setMembershipTiers(membershipTiers.filter(tier => tier.id !== tierId));\r\n  };\r\n\r\n  // Submit final registration\r\n  const handleFinalSubmit = () => {\r\n    // Validate requirements before submission\r\n    if (membershipTiers.length === 0) {\r\n      // Display error - at least one tier required\r\n      return;\r\n    }\r\n\r\n    onComplete({\r\n      restaurant: restaurantData,\r\n      tiers: membershipTiers,\r\n      restaurantId,\r\n    });\r\n  };\r\n\r\n  // Render progress steps UI\r\n  const renderProgressSteps = () => (\r\n    <div className=\"mb-12\">\r\n      <div className=\"flex items-center justify-between max-w-3xl mx-auto overflow-x-auto px-4 md:px-0\">\r\n        <div className={`flex flex-col items-center flex-shrink-0 ${currentStep >= 1 ? 'text-[#872657]' : 'text-gray-400'}`}>\r\n          <div\r\n            className={`w-14 h-14 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${currentStep >= 1 ? 'border-[#872657] bg-[#872657] text-white' : 'border-gray-300 text-gray-400'}`}\r\n          >\r\n            {currentStep > 1 ? <CheckCircle className=\"w-7 h-7\" /> : <Building2 className=\"w-7 h-7\" />}\r\n          </div>\r\n          <span className=\"mt-3 text-sm font-medium\" style={{ fontFamily: 'TayBasal' }}>Restaurant Info</span>\r\n        </div>\r\n        <div className={`flex-1 h-1 mx-4 transition-all duration-300 min-w-[2rem] ${currentStep >= 2 ? 'bg-[#872657]' : 'bg-gray-300'}`}></div>\r\n        <div className={`flex flex-col items-center flex-shrink-0 ${currentStep >= 2 ? 'text-[#872657]' : 'text-gray-400'}`}>\r\n          <div\r\n            className={`w-14 h-14 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${currentStep >= 2 ? 'border-[#872657] bg-[#872657] text-white' : 'border-gray-300 text-gray-400'}`}\r\n          >\r\n            {currentStep > 2 ? <CheckCircle className=\"w-7 h-7\" /> : <Wine className=\"w-7 h-7\" />}\r\n          </div>\r\n          <span className=\"mt-3 text-sm font-medium\" style={{ fontFamily: 'TayBasal' }}>Membership Tiers</span>\r\n        </div>\r\n        <div className={`flex-1 h-1 mx-4 transition-all duration-300 min-w-[2rem] ${currentStep >= 3 ? 'bg-[#872657]' : 'bg-gray-300'}`}></div>\r\n        <div className={`flex flex-col items-center flex-shrink-0 ${currentStep >= 3 ? 'text-[#872657]' : 'text-gray-400'}`}>\r\n          <div\r\n            className={`w-14 h-14 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${currentStep >= 3 ? 'border-[#872657] bg-[#872657] text-white' : 'border-gray-300 text-gray-400'}`}\r\n          >\r\n            <CheckSquare className=\"w-7 h-7\" />\r\n          </div>\r\n          <span className=\"mt-3 text-sm font-medium\" style={{ fontFamily: 'TayBasal' }}>Review & Submit</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Render step content based on current step\r\n  let stepContent;\r\n  \r\n  switch (currentStep) {\r\n    case 1:\r\n      stepContent = (\r\n        <div className=\"bg-white p-8 md:p-10 rounded-2xl shadow-lg border border-gray-200 transition-all duration-300 transform\">\r\n          <h2 className=\"text-2xl font-bold mt-8 mb-10 text-[#872657]\" style={{ fontFamily: 'HV Florentino' }}>\r\n            Restaurant Details\r\n          </h2>\r\n          <RestaurantForm\r\n            initialData={restaurantData}\r\n            onSubmit={handleRestaurantSubmit}\r\n            errors={errors?.restaurant}\r\n            sessionId={sessionId}\r\n            tierInfo={initialRestaurantData.pricingTierInfo}\r\n          />\r\n        </div>\r\n      );\r\n      break;\r\n\r\n    case 2:\r\n      stepContent = (\r\n        <div className=\"bg-white p-8 md:p-10 rounded-2xl shadow-lg border border-gray-200 transition-all duration-300 transform\">\r\n          <MembershipTierList\r\n            tiers={membershipTiers}\r\n            restaurantId={restaurantId}\r\n            onTierAdded={handleTierAdded}\r\n            onTierUpdated={handleTierUpdated}\r\n            onTierDeleted={handleTierDeleted}\r\n            error={errors?.tiers}\r\n          />\r\n          <div className=\"mt-10 flex flex-col sm:flex-row gap-4 sm:gap-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCurrentStep(1)}\r\n              className=\"flex-1 py-4 px-6 bg-gray-100 text-gray-800 rounded-xl hover:bg-gray-200 transition-colors duration-300\"\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCurrentStep(3)}\r\n              disabled={membershipTiers.length === 0}\r\n              className={`flex-1 py-4 px-6 bg-[#800020] text-white rounded-xl hover:bg-opacity-90 font-bold transition-all duration-300 ${membershipTiers.length === 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n      break;\r\n\r\n    case 3:\r\n      stepContent = (\r\n        <div className=\"bg-white p-8 md:p-10 rounded-2xl shadow-lg border border-gray-200 transition-all duration-300 transform\">\r\n          <h2 className=\"text-2xl font-bold mt-8 mb-10 text-[#800020]\" style={{ fontFamily: 'HV Florentino' }}>\r\n            Review Your Registration\r\n          </h2>\r\n\r\n          {errors?.general && (\r\n            <div className=\"mb-8 p-4 bg-red-100 text-red-700 rounded-xl border border-red-200\">\r\n              {errors.general}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb-12 space-y-10\">\r\n            <div className=\"bg-gray-50 rounded-xl p-6 md:p-8 shadow-sm border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold mb-6 flex items-center text-[#800020]\" style={{ fontFamily: 'HV Florentino' }}>\r\n                <div className=\"w-10 h-10 rounded-full bg-[#800020] text-white flex items-center justify-center mr-3 text-sm\">\r\n                  <Building2 className=\"w-5 h-5\" />\r\n                </div>\r\n                Restaurant Information\r\n              </h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white p-5 rounded-lg shadow-sm\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\" style={{ fontFamily: 'TayBasal' }}>Restaurant Name</p>\r\n                  <p className=\"font-medium\" style={{ fontFamily: 'Libre Baskerville' }}>{restaurantData.restaurantName}</p>\r\n                </div>\r\n                <div className=\"bg-white p-5 rounded-lg shadow-sm\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\" style={{ fontFamily: 'TayBasal' }}>Admin Name</p>\r\n                  <p className=\"font-medium\" style={{ fontFamily: 'Libre Baskerville' }}>{restaurantData.adminName}</p>\r\n                </div>\r\n                <div className=\"bg-white p-5 rounded-lg shadow-sm\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\" style={{ fontFamily: 'TayBasal' }}>Email</p>\r\n                  <p className=\"font-medium\" style={{ fontFamily: 'Libre Baskerville' }}>{restaurantData.email}</p>\r\n                </div>\r\n                {restaurantData.website && (\r\n                  <div className=\"bg-white p-5 rounded-lg shadow-sm\">\r\n                    <p className=\"text-sm text-gray-600 mb-2\" style={{ fontFamily: 'TayBasal' }}>Website</p>\r\n                    <p className=\"font-medium\" style={{ fontFamily: 'Libre Baskerville' }}>{restaurantData.website}</p>\r\n                  </div>\r\n                )}\r\n                {restaurantData.logo && (\r\n                  <div className=\"col-span-2 bg-white p-5 rounded-lg shadow-sm\">\r\n                    <p className=\"text-sm text-gray-600 mb-2\" style={{ fontFamily: 'TayBasal' }}>Logo</p>\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-14 h-14 bg-gray-200 rounded-md flex items-center justify-center mr-3\">\r\n                        <img \r\n                          src={URL.createObjectURL(restaurantData.logo)} \r\n                          alt=\"Logo Preview\" \r\n                          className=\"max-w-full max-h-full object-contain rounded-md\"\r\n                        />\r\n                      </div>\r\n                      <p className=\"font-medium\" style={{ fontFamily: 'Libre Baskerville' }}>{restaurantData.logo.name}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-50 rounded-xl p-6 md:p-8 shadow-sm border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold mb-6 flex items-center text-[#800020]\" style={{ fontFamily: 'HV Florentino' }}>\r\n                <div className=\"w-10 h-10 rounded-full bg-[#800020] text-white flex items-center justify-center mr-3 text-sm\">\r\n                  <Wine className=\"w-5 h-5\" />\r\n                </div>\r\n                Membership Tiers\r\n              </h3>\r\n              \r\n              {membershipTiers.length > 0 ? (\r\n                <div className=\"space-y-5\">\r\n                  {membershipTiers.map((tier, index) => (\r\n                    <div key={tier.id} className=\"p-5 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300\">\r\n                      <div className=\"flex justify-between items-start sm:items-center flex-col sm:flex-row gap-4 sm:gap-0\">\r\n                        <div>\r\n                          <p className=\"font-semibold text-[#800020] text-lg\" style={{ fontFamily: 'HV Florentino' }}>{tier.name}</p>\r\n                          <p className=\"text-gray-800 font-bold text-xl mt-2\" style={{ fontFamily: 'TayBasal' }}>\r\n                            ${parseFloat(tier.price).toFixed(2)}/month\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600 mt-4\" style={{ fontFamily: 'Libre Baskerville' }}>{tier.description}</p>\r\n                        </div>\r\n                        <div className=\"w-14 h-14 rounded-full bg-[#800020] bg-opacity-10 flex items-center justify-center self-end sm:self-auto\">\r\n                          <Wine className=\"w-7 h-7 text-[#800020]\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-red-500 p-5 bg-red-50 rounded-lg border border-red-100\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n                  No membership tiers added. Please go back and add at least one tier.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-4 sm:gap-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCurrentStep(2)}\r\n              className=\"flex-1 py-4 px-6 bg-gray-100 text-gray-800 rounded-xl hover:bg-gray-200 transition-colors duration-300\"\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleFinalSubmit}\r\n              disabled={isSubmitting || membershipTiers.length === 0}\r\n              className={`flex-1 py-4 px-6 bg-[#800020] text-white rounded-xl hover:bg-opacity-90 font-bold transition-all duration-300 ${(isSubmitting || membershipTiers.length === 0) ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              {isSubmitting ? (\r\n                <div className=\"flex items-center justify-center\">\r\n                  <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                  Processing...\r\n                </div>\r\n              ) : (\r\n                'Complete Registration'\r\n              )}\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-xs text-gray-500\" style={{ fontFamily: 'Libre Baskerville' }}>\r\n              By completing registration, you agree to Club Cuvee's <a href=\"/terms\" className=\"text-[#800020] hover:underline\">Terms of Service</a> and <a href=\"/privacy\" className=\"text-[#800020] hover:underline\">Privacy Policy</a>\r\n            </p>\r\n          </div>\r\n          \r\n          <p className=\"text-sm text-gray-500 mt-4 text-center\">\r\n            Didn't mean to register? <a href=\"mailto:support@clubcuvee.com\" className=\"text-[#800020] underline\">Contact support</a>\r\n          </p>\r\n        </div>\r\n      );\r\n      break;\r\n      \r\n    default:\r\n      stepContent = null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl w-full mx-auto\">\r\n      {renderProgressSteps()}\r\n      <div className=\"transition-all duration-500 ease-in-out transform\">\r\n        {stepContent}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrationSteps;","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\r\nimport { Loader2, CheckCircle, Wine } from 'lucide-react';\r\nimport { supabase } from '../../supabase';\r\nimport { restaurantService } from '../../services/restaurantService';\r\nimport { membershipService } from '../../services/membershipService';\r\nimport { BusinessOnboardingService } from '../../services/BusinessOnboardingService';\r\nimport RegistrationSteps from '../../components/registration/RegistrationSteps';\r\nimport type { RestaurantFormData, MembershipTier, FormErrors } from '../../types';\r\n\r\nexport const RestaurantOnboarding: React.FC = () => {\r\n  const { restaurantRef } = useParams<{ restaurantRef: string }>();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  \r\n  const sessionId = queryParams.get('session_id');\r\n  const paymentStatus = queryParams.get('status');\r\n  const pricingTier = queryParams.get('tier') || 'EstablishedShop'; // Default to EstablishedShop if not provided\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [registrationComplete, setRegistrationComplete] = useState(false);\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errors, setErrors] = useState<{\r\n    restaurant?: FormErrors;\r\n    tiers?: string;\r\n    general?: string;\r\n  }>({});\r\n  const [tierInfo, setTierInfo] = useState<{\r\n    name: string;\r\n    monthlyPrice: string;\r\n    description: string;\r\n  } | null>(null);\r\n\r\n  const [restaurantData, setRestaurantData] = useState<RestaurantFormData>({\r\n    restaurantName: '',\r\n    adminName: '',\r\n    email: '',\r\n    website: '',\r\n    logo: null,\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n  const [tiers, setTiers] = useState<MembershipTier[]>([]);\r\n  const [restaurantId, setRestaurantId] = useState<string>('');\r\n  const [paymentVerified, setPaymentVerified] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkRegistrationStatus = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        // Validate the pricing tier\r\n        if (!BusinessOnboardingService.validatePricingTier(pricingTier)) {\r\n          setErrors({\r\n            general: 'Invalid pricing tier specified. Please use a valid tier or contact support.'\r\n          });\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n        \r\n        // Get pricing tier info for display\r\n        const tierDetails = BusinessOnboardingService.getBusinessPricingTierInfo(pricingTier);\r\n        setTierInfo(tierDetails);\r\n        \r\n        if (sessionId && paymentStatus === 'success') {\r\n          setPaymentVerified(true);\r\n        }\r\n        \r\n        if (restaurantRef) {\r\n          const invitation = await restaurantService.getInvitationByToken(restaurantRef);\r\n          \r\n          if (invitation) {\r\n            if (invitation.status === 'expired') {\r\n              setErrors({\r\n                general: 'This invitation link has expired. Please request a new invitation.'\r\n              });\r\n              setIsLoading(false);\r\n              return;\r\n            }\r\n            \r\n            setRestaurantData({\r\n              restaurantName: invitation.restaurant_name,\r\n              adminName: invitation.admin_name || '',\r\n              email: invitation.email,\r\n              website: invitation.website || '',\r\n              password: '',\r\n              confirmPassword: '',\r\n              tier: invitation.tier,\r\n              invitationToken: invitation.token,\r\n              pricingTier: pricingTier // Store the pricing tier from URL\r\n            });\r\n            \r\n            if (invitation.status === 'paid' || invitation.payment_session_id) {\r\n              setPaymentVerified(true);\r\n            }\r\n            \r\n            if (invitation.restaurant_id) {\r\n              setRestaurantId(invitation.restaurant_id);\r\n              setCurrentStep(2);\r\n              \r\n              try {\r\n                // Use membershipService instead of direct Supabase query to ensure proper typing\r\n                const existingTiers = await membershipService.getMembershipTiersByRestaurant(invitation.restaurant_id);\r\n                if (existingTiers && existingTiers.length > 0) {\r\n                  setTiers(existingTiers);\r\n                }\r\n              } catch (err) {\r\n                console.error('Error fetching existing tiers:', err);\r\n              }\r\n            }\r\n            \r\n            if (invitation.status === 'pending') {\r\n              await restaurantService.updateInvitationStatus(invitation.token, 'accepted');\r\n            }\r\n          } else {\r\n            setErrors({\r\n              general: 'Invalid invitation token. Please check your invitation email or contact support.'\r\n            });\r\n          }\r\n        } else {\r\n          setErrors({\r\n            general: 'No invitation token provided. Please use the link from your invitation email.'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error checking registration status:', error);\r\n        setErrors({\r\n          general: 'Error loading registration data. Please try again or contact support.'\r\n        });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    checkRegistrationStatus();\r\n  }, [restaurantRef, sessionId, paymentStatus, pricingTier]);\r\n\r\n  const handleRestaurantSubmit = async (data: RestaurantFormData) => {\r\n    setIsSubmitting(true);\r\n    setErrors({});\r\n    \r\n    try {\r\n      const createdRestaurant = await restaurantService.createRestaurant({\r\n        ...data,\r\n        tier: data.tier || 'standard',\r\n      });\r\n      \r\n      setRestaurantId(createdRestaurant.id);\r\n      \r\n      if (data.logo) {\r\n        await restaurantService.uploadLogo(createdRestaurant.id, data.logo);\r\n      }\r\n      \r\n      setRestaurantData(data);\r\n      \r\n      if (data.invitationToken) {\r\n        await restaurantService.updateInvitationStatus(\r\n          data.invitationToken, \r\n          'accepted', \r\n          createdRestaurant.id\r\n        );\r\n      }\r\n      \r\n      setCurrentStep(2);\r\n    } catch (error: any) {\r\n      console.error('Error creating restaurant:', error);\r\n      setErrors({\r\n        restaurant: {\r\n          general: error.message || 'Failed to create restaurant account'\r\n        }\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n  \r\n  const handleRegistrationComplete = async (data: {\r\n    restaurant: RestaurantFormData;\r\n    tiers: MembershipTier[];\r\n    restaurantId?: string;\r\n  }) => {\r\n    setIsSubmitting(true);\r\n    setErrors({});\r\n    \r\n    try {\r\n      // For new restaurants, use the BusinessOnboardingService for complete onboarding flow\r\n      if (!restaurantId && data.restaurant.invitationToken) {\r\n        // Create restaurant data object for BusinessOnboardingService\r\n        const restaurantCreationData = {\r\n          name: data.restaurant.restaurantName,\r\n          website: data.restaurant.website,\r\n          admin_email: data.restaurant.email,\r\n          logo_url: data.restaurant.logo ? URL.createObjectURL(data.restaurant.logo) : undefined\r\n        };\r\n        \r\n        // Convert tiers to the format expected by BusinessOnboardingService\r\n        const membershipTierConfigs = data.tiers.map(tier => ({\r\n          name: tier.name,\r\n          price: tier.price,\r\n          description: tier.description\r\n        }));\r\n        \r\n        // Call the BusinessOnboardingService to complete onboarding\r\n        const result = await BusinessOnboardingService.completeOnboarding(\r\n          data.restaurant.invitationToken,\r\n          restaurantCreationData,\r\n          membershipTierConfigs,\r\n          pricingTier // Pass the pricing tier from URL\r\n        );\r\n        \r\n        if (!result.success) {\r\n          throw new Error(result.error || 'Failed to complete onboarding');\r\n        }\r\n        \r\n        setRestaurantId(result.restaurantId!);\r\n        \r\n        // Sign up the user with Supabase auth\r\n        const { error } = await supabase.auth.signUp({\r\n          email: data.restaurant.email,\r\n          password: data.restaurant.password,\r\n          options: {\r\n            data: {\r\n              restaurant_id: result.restaurantId,\r\n              full_name: data.restaurant.adminName,\r\n              role: 'restaurant_admin',\r\n            }\r\n          }\r\n        });\r\n        \r\n        if (error) {\r\n          console.error('Error creating user account:', error);\r\n        }\r\n        \r\n        setRegistrationComplete(true);\r\n      } \r\n      // For existing restaurants, use the previous flow\r\n      else {\r\n        const finalRestaurantId = data.restaurantId || restaurantId;\r\n        if (!finalRestaurantId) {\r\n          throw new Error('Missing restaurant ID');\r\n        }\r\n        \r\n        const tierPromises = data.tiers.map(async (tier) => {\r\n          if (\r\n            tier.id &&\r\n            tier.stripe_product_id &&\r\n            tier.stripe_price_id &&\r\n            tier.restaurant_id === finalRestaurantId\r\n          ) {\r\n            return tier;\r\n          }\r\n          \r\n          return await membershipService.createMembershipTier(\r\n            {\r\n              name: tier.name,\r\n              price: tier.price,\r\n              description: tier.description,\r\n              stripe_product_id: tier.stripe_product_id,\r\n              stripe_price_id: tier.stripe_price_id,\r\n            },\r\n            finalRestaurantId\r\n          );\r\n        });\r\n        \r\n        await Promise.all(tierPromises);\r\n        \r\n        await restaurantService.updateRestaurant(finalRestaurantId, {\r\n          registration_complete: true,\r\n          updated_at: new Date().toISOString(),\r\n        });\r\n        \r\n        if (restaurantData.invitationToken) {\r\n          await restaurantService.updateInvitationStatus(\r\n            restaurantData.invitationToken,\r\n            'completed',\r\n            finalRestaurantId\r\n          );\r\n        }\r\n        \r\n        const { error } = await supabase.auth.signUp({\r\n          email: data.restaurant.email,\r\n          password: data.restaurant.password,\r\n          options: {\r\n            data: {\r\n              restaurant_id: finalRestaurantId,\r\n              full_name: data.restaurant.adminName,\r\n              role: 'restaurant_admin',\r\n            }\r\n          }\r\n        });\r\n        \r\n        if (error) {\r\n          console.error('Error creating user account:', error);\r\n        }\r\n        \r\n        setRegistrationComplete(true);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error completing registration:', error);\r\n      setErrors({\r\n        general: error.message || 'Failed to complete registration'\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#fdfaf7] px-6 md:px-10 py-10 md:py-20 overflow-x-hidden\">\r\n        <div className=\"text-center max-w-7xl w-full mx-auto p-8\">\r\n          <Loader2 className=\"h-12 w-12 animate-spin text-[#872657] mx-auto mb-6\" />\r\n          <p className=\"text-gray-600 text-lg\" style={{ fontFamily: 'TayBasal' }}>Loading your restaurant registration...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (registrationComplete) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#fdfaf7] px-6 md:px-10 py-10 md:py-20 overflow-x-hidden\">\r\n        <div className=\"w-full max-w-7xl mx-auto\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-8 md:p-10 text-center\">\r\n            <div className=\"mb-8 p-4 bg-green-100 rounded-full inline-flex items-center justify-center\">\r\n              <CheckCircle className=\"w-16 h-16 text-green-500\" />\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold mb-6 text-[#872657]\" style={{ fontFamily: 'HV Florentino' }}>You're All Set!</h1>\r\n            <p className=\"mb-8 text-gray-700 text-lg\" style={{ fontFamily: 'TayBasal' }}>\r\n              Your restaurant has been registered with Club Cuvee and your membership tiers are ready.\r\n              You can now access your dashboard to manage your wine club.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row sm:justify-center space-y-4 sm:space-y-0 sm:space-x-4\">\r\n              <button \r\n                onClick={() => navigate('/dashboard')} \r\n                className=\"w-full sm:w-auto sm:px-8 bg-[#872657] text-white py-4 rounded-lg hover:bg-opacity-90 font-bold transition-all duration-300\"\r\n                style={{ fontFamily: 'TayBasal' }}\r\n              >\r\n                Go to Dashboard\r\n              </button>\r\n              <button \r\n                onClick={() => navigate('/preview-wine-club')} \r\n                className=\"w-full sm:w-auto sm:px-8 bg-white border border-[#872657] text-[#872657] py-4 rounded-lg hover:bg-gray-50 font-bold transition-all duration-300\"\r\n                style={{ fontFamily: 'TayBasal' }}\r\n              >\r\n                Preview Your Wine Club\r\n              </button>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500 mt-4\">\r\n              Didn't mean to register? <a href=\"mailto:support@clubcuvee.com\" className=\"text-[#800020] underline\">Contact support</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (errors.general && !restaurantId) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#fdfaf7] px-6 md:px-10 py-10 md:py-20 overflow-x-hidden\">\r\n        <div className=\"w-full max-w-7xl mx-auto\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-8 md:p-10 text-center\">\r\n            <div className=\"mb-8 p-4 bg-red-100 rounded-full inline-flex items-center justify-center\">\r\n              <Wine className=\"w-16 h-16 text-red-500\" />\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold mb-6 text-[#872657]\" style={{ fontFamily: 'HV Florentino' }}>Invitation Error</h1>\r\n            <p className=\"mb-4 text-gray-700 text-lg\" style={{ fontFamily: 'TayBasal' }}>\r\n              {errors.general}\r\n            </p>\r\n            <p className=\"text-sm text-gray-500 mb-8\" style={{ fontFamily: 'TayBasal' }}>\r\n              Please check your email for a valid invitation or contact support for assistance.\r\n            </p>\r\n            <button \r\n              onClick={() => window.location.href = \"https://clubcuvee.com/contact\"} \r\n              className=\"w-full sm:w-auto sm:px-8 bg-[#872657] text-white py-4 rounded-lg hover:bg-opacity-90 font-bold mx-auto transition-all duration-300\"\r\n              style={{ fontFamily: 'TayBasal' }}\r\n            >\r\n              Contact Support\r\n            </button>\r\n            <p className=\"text-sm text-gray-500 mt-4\">\r\n              Didn't mean to register? <a href=\"mailto:support@clubcuvee.com\" className=\"text-[#800020] underline\">Contact support</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#fdfaf7] px-6 md:px-10 py-10 md:py-20 overflow-x-hidden\">\r\n      <div className=\"max-w-7xl w-full mx-auto\">\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-[#872657] mb-6\" style={{ fontFamily: 'HV Florentino' }}>Welcome to Club Cuvee</h1>\r\n          <p className=\"text-xl text-gray-600\" style={{ fontFamily: 'TayBasal' }}>\r\n            Set up your custom wine club and start offering personalized wine memberships to your guests\r\n          </p>\r\n        </div>\r\n        \r\n        <RegistrationSteps\r\n          initialStep={currentStep}\r\n          initialRestaurantData={{\r\n            ...restaurantData,\r\n            pricingTierInfo: tierInfo || undefined\r\n          }}\r\n          initialTiers={tiers}\r\n          onComplete={handleRegistrationComplete}\r\n          isSubmitting={isSubmitting}\r\n          sessionId={sessionId || undefined}\r\n          errors={errors}\r\n          restaurantId={restaurantId}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantOnboarding;"],"names":["CheckSquare","createLucideIcon","Loader2","Plus","SquarePen","Tag","Trophy","Upload","restaurantService","data","restaurant","error","supabase","restaurantId","logoFile","fileExt","fileName","uploadError","updateError","id","updateData","email","restaurantName","website","adminName","tier","existingInvitation","baseUrl","token","expiresAt","invitationUrl","now","expiryDate","status","membershipService","tierData","response","errorData","tierId","HttpClient","host","port","path","method","headers","requestData","protocol","timeout","timeoutErr","HttpClientResponse","statusCode","streamCompleteCallback","FetchHttpClient","fetchFn","url","init","pendingTimeoutId","timeoutPromise","_","reject","fetchPromise","abort","timeoutId","err","isInsecureConnection","methodHasPayload","body","res","FetchHttpClientResponse","headersObj","entry","CryptoProvider","payload","secret","CryptoProviderOnlySupportsAsyncError","SubtleCryptoProvider","subtleCrypto","encoder","key","signatureBuffer","signatureBytes","signatureHexCodes","i","byteHexMapping","PlatformFunctions","c","a","b","len","result","agent","_StripeEvent","eventName","StripeEmitter","listener","listenerWrapper","event","WebPlatformFunctions","generateV1Error","rawStripeError","StripeCardError","StripeInvalidRequestError","StripeAPIError","StripeAuthenticationError","StripeRateLimitError","StripeIdempotencyError","StripeInvalidGrantError","StripeUnknownError","generateV2Error","TemporarySessionExpiredError","StripeError","raw","type","StripePermissionError","StripeConnectionError","StripeSignatureVerificationError","header","__viteBrowserExternal","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","hasWeakMap","weakMapHas","hasWeakSet","weakSetHas","hasWeakRef","weakRefDeref","booleanValueOf","objectToString","functionToString","$match","$slice","$replace","$toUpperCase","$toLowerCase","$test","$concat","$join","$arrSlice","$floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","O","addNumericSeparator","num","str","sepRegex","int","intStr","dec","utilInspect","require$$0","inspectCustom","inspectSymbol","isSymbol","quotes","quoteREs","objectInspect","inspect_","obj","options","depth","seen","opts","has","customInspect","numericSeparator","inspectString","bigIntStr","maxDepth","isArray","indent","getIndent","indexOf","inspect","value","from","noIndent","newOpts","isRegExp","name","nameOf","keys","arrObjKeys","symString","markBoxed","isElement","s","attrs","wrapQuotes","quote","xs","singleLineValues","indentedJoin","isError","parts","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","global","isDate","ys","isPlainObject","protoTag","stringTag","toStr","constructorTag","tag","defaultStyle","style","quoteChar","canTrustToString","hasOwn","f","m","x","l","remaining","trailer","quoteRE","lowbyte","n","size","entries","joinedEntries","baseIndent","lineJoiner","isArr","syms","symMap","k","j","$TypeError","require$$1","listGetNode","list","isDelete","prev","curr","listGet","objects","node","listSet","listHas","listDelete","sideChannelList","$o","channel","root","deletedNode","esObjectAtoms","esErrors","_eval","range","ref","syntax","uri","abs","floor","max","min","pow","round","_isNaN","$isNaN","sign","number","gOPD","$gOPD","gopd","$defineProperty","esDefineProperty","shams","sym","symObj","symVal","descriptor","origSymbol","hasSymbolSham","hasSymbols","Reflect_getPrototypeOf","$Object","Object_getPrototypeOf","ERROR_MESSAGE","funcType","concatty","arr","slicy","arrLike","offset","joiny","joiner","implementation","that","target","args","bound","binder","boundLength","boundArgs","Empty","functionBind","functionCall","functionApply","reflectApply","bind","$apply","$call","require$$2","$reflectApply","require$$3","actualApply","$actualApply","callBindApplyHelpers","callBind","hasProtoAccessor","e","desc","$getPrototypeOf","get","reflectGetProto","originalGetProto","getDunderProto","getProto","call","$hasOwn","hasown","undefined","$Error","$EvalError","$RangeError","$ReferenceError","require$$4","$SyntaxError","require$$5","require$$6","$URIError","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","$Function","getEvalledConstructor","expressionSyntax","require$$15","require$$16","throwTypeError","ThrowTypeError","require$$17","require$$18","$ObjectGPO","require$$19","$ReflectGPO","require$$20","require$$21","require$$22","needsEval","TypedArray","INTRINSICS","errorProto","doEval","fn","gen","LEGACY_ALIASES","require$$23","require$$24","$spliceApply","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","string","first","last","match","subString","getBaseIntrinsic","allowMissing","intrinsicName","alias","getIntrinsic","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","GetIntrinsic","callBindBasic","$indexOf","callBound","$Map","$mapGet","$mapSet","$mapHas","$mapDelete","$mapSize","sideChannelMap","$m","getSideChannelMap","$WeakMap","$weakMapGet","$weakMapSet","$weakMapHas","$weakMapDelete","sideChannelWeakmap","$wm","getSideChannelList","getSideChannelWeakMap","makeChannel","sideChannel","$channelData","replace","percentTwenties","Format","formats","hexTable","array","compactQueue","queue","item","compacted","arrayToObject","source","merge","mergeTarget","targetItem","acc","assign","decode","defaultDecoder","charset","strWithoutPlus","limit","encode","defaultEncoder","kind","format","$0","out","segment","compact","refs","val","isBuffer","combine","maybeMap","mapped","utils","getSideChannel","arrayPrefixGenerators","prefix","push","pushToArray","valueOrArray","toISO","defaultFormat","defaults","date","isNonNullishPrimitive","v","sentinel","stringify","object","generateArrayPrefix","commaRoundTrip","allowEmptyArrays","strictNullHandling","skipNulls","encodeDotInKeys","filter","sort","allowDots","serializeDate","formatter","encodeValuesOnly","tmpSc","step","findFlag","pos","keyValue","values","objKeys","encodedPrefix","adjustedPrefix","encodedKey","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","stringify_1","joined","interpretNumericEntities","numberStr","parseArrayValue","currentArrayLength","isoSentinel","charsetSentinel","parseValues","cleanStr","skipIndex","bracketEqualsPos","encodedVal","existing","parseObject","chain","valuesParsed","parentKey","leaf","cleanRoot","decodedRoot","index","parseKeys","givenKey","brackets","child","parent","normalizeParseOptions","duplicates","parse","tempObj","newObj","lib","OPTIONS_KEYS","isOptionsHash","o","prop","queryStringifyRequestData","apiMode","qs\n        .stringify","d","makeURLInterpolator","rc","cleanString","outputs","$1","extractUrlParams","params","param","getDataFromArgs","argKeys","optionKeysInArgs","emitWarning","getOptionsFromArgs","arg","createApiKeyAuthenticator","extraKeys","protoExtend","sub","Super","Constructor","removeNullish","normalizeHeaders","normalizeHeader","text","callbackifyPromiseWithTimeout","promise","callback","pascalToCamelCase","warning","isObject","flattenAndStringify","prevKey","newKey","validateInteger","defaultVal","determineProcessUserAgentProperties","apiKey","authenticator","request","dateTimeReplacer","jsonStringifyRequestData","getAPIMode","MAX_RETRY_AFTER_WAIT","RequestSender","stripe","maxBufferedRequestMetric","requestEvent","requestEndTime","requestDurationMs","usage","responseEvent","stream","requestId","jsonResponse","rawResponse","requestRetries","numRetries","maxRetries","retryAfter","initialNetworkRetryDelay","maxNetworkRetryDelay","sleepSeconds","settings","genKey","contentType","contentLength","apiVersion","clientUserAgent","userSuppliedHeaders","userSuppliedSettings","stripeAccount","stripeContext","defaultHeaders","packageVersion","appInfo","metrics","resolve","requestMethod","dataFromArgs","calculatedOptions","requestCallback","requestDataProcessor","_a","retryRequest","requestFn","makeRequest","req","requestStartTime","isTimeoutError","prepareAndMakeRequest","stringifiedData","V1Iterator","firstPagePromise","requestArgs","spec","stripeResource","pageResult","reverseIteration","isReverseIteration","idx","nextPageResult","_pageResult","nextPromise","ret","V1ListIterator","lastId","getLastId","V1SearchIterator","V2ListIterator","nextPageUrl","page","nextPageIterator","makeAutoPaginationMethods","makeAutoPaginationMethodsFromIterator","iterator","autoPagingEach","makeAutoPagingEach","autoPagingToArray","makeAutoPagingToArray","autoPaginationMethods","getAsyncIteratorSymbol","getDoneCallback","onDone","getItemCallback","onItem","next","shouldContinue","listResult","lastIdx","lastItem","asyncIteratorNext","autoPagePromise","wrapAsyncIteratorWithCallback","items","handleIteration","iterResult","stripeMethod","requestPromise","StripeResource","deprecatedUrlData","commandPath","urlData","urlParts","computedCommandPath","pathWithSymbols","overrideData","urlParams","isUsingFullPath","streaming","requestPath","dataInQuery","emptyQuery","createWebhooks","platformFunctions","Webhook","tolerance","cryptoProvider","receivedAt","preparedOpts","prepareOptions","signature","encodedPayload","encodedHeader","details","suspectPayloadType","parseEventDetails","secretContainsWhitespace","getCryptoProvider","expectedSignature","makeHMACContent","validateComputedSignature","expectedScheme","textDecoder","decodedPayload","decodedHeader","parseHeader","signatureFound","docsLocation","whitespaceMessage","timestampAge","scheme","accum","kv","webhooksCryptoProviderInstance","timestamp","payloadString","generateHeaderString","ApiVersion","ResourceNamespace","resources","camelCaseName","resource","resourceNamespace","namespace","Accounts","ActiveEntitlements","Alerts","Authorizations","Calculations","Cardholders","Cards","Configurations","ConfirmationTokens","ConnectionTokens","CreditBalanceSummary","CreditBalanceTransactions","CreditGrants","CreditReversals","Customers","DebitReversals","Disputes","EarlyFraudWarnings","EventDestinations","Events","pulledEvent","Features","FinancialAccounts","InboundTransfers","Locations","MeterEventAdjustments","MeterEventSession","MeterEventStream","MeterEvents","Meters","Orders","OutboundPayments","OutboundTransfers","PersonalizationDesigns","PhysicalBundles","Products","Readers","ReceivedCredits","ReceivedDebits","Refunds","Registrations","ReportRuns","ReportTypes","Requests","ScheduledQueryRuns","Secrets","Sessions","Settings","Suppliers","TestClocks","Tokens","TransactionEntries","Transactions","ValueListItems","ValueLists","VerificationReports","VerificationSessions","AccountLinks","AccountSessions","ApplePayDomains","ApplicationFees","Balance","BalanceTransactions","Charges","CountrySpecs","Coupons","CreditNotes","CustomerSessions","EphemeralKeys","ExchangeRates","FileLinks","multipartDataGenerator","segno","textEncoder","buffer","endBuffer","prevBuffer","newBuffer","q","flattenedData","typedEntry","multipartRequestDataProcessor","bufferedData","Files","InvoiceItems","InvoiceRenderingTemplates","Invoices","Mandates","oAuthHost","OAuth","PaymentIntents","PaymentLinks","PaymentMethodConfigurations","PaymentMethodDomains","PaymentMethods","Payouts","Plans","Prices","PromotionCodes","Quotes","Reviews","SetupAttempts","SetupIntents","ShippingRates","Sources","SubscriptionItems","SubscriptionSchedules","Subscriptions","TaxCodes","TaxIds","TaxRates","Topups","Transfers","WebhookEndpoints","Apps","AppsSecrets","Billing","BillingAlerts","BillingCreditBalanceSummary","BillingCreditBalanceTransactions","BillingCreditGrants","BillingMeterEventAdjustments","BillingMeterEvents","BillingMeters","BillingPortal","BillingPortalConfigurations","BillingPortalSessions","Checkout","CheckoutSessions","Climate","ClimateOrders","ClimateProducts","ClimateSuppliers","Entitlements","EntitlementsActiveEntitlements","EntitlementsFeatures","FinancialConnections","FinancialConnectionsAccounts","FinancialConnectionsSessions","FinancialConnectionsTransactions","Forwarding","ForwardingRequests","Identity","IdentityVerificationReports","IdentityVerificationSessions","Issuing","IssuingAuthorizations","IssuingCardholders","IssuingCards","IssuingDisputes","IssuingPersonalizationDesigns","IssuingPhysicalBundles","IssuingTokens","IssuingTransactions","Radar","RadarEarlyFraudWarnings","RadarValueListItems","RadarValueLists","Reporting","ReportingReportRuns","ReportingReportTypes","Sigma","SigmaScheduledQueryRuns","Tax","TaxCalculations","TaxRegistrations","TaxSettings","TaxTransactions","Terminal","TerminalConfigurations","TerminalConnectionTokens","TerminalLocations","TerminalReaders","TestHelpers","TestHelpersConfirmationTokens","TestHelpersCustomers","TestHelpersRefunds","TestHelpersTestClocks","TestHelpersIssuingAuthorizations","TestHelpersIssuingCards","TestHelpersIssuingPersonalizationDesigns","TestHelpersIssuingTransactions","TestHelpersTerminalReaders","TestHelpersTreasuryInboundTransfers","TestHelpersTreasuryOutboundPayments","TestHelpersTreasuryOutboundTransfers","TestHelpersTreasuryReceivedCredits","TestHelpersTreasuryReceivedDebits","Treasury","TreasuryCreditReversals","TreasuryDebitReversals","TreasuryFinancialAccounts","TreasuryInboundTransfers","TreasuryOutboundPayments","TreasuryOutboundTransfers","TreasuryReceivedCredits","TreasuryReceivedDebits","TreasuryTransactionEntries","TreasuryTransactions","V2","V2BillingMeterEventAdjustments","V2BillingMeterEventSession","V2BillingMeterEventStream","V2BillingMeterEvents","V2CoreEventDestinations","V2CoreEvents","DEFAULT_HOST","DEFAULT_PORT","DEFAULT_BASE_PATH","DEFAULT_API_VERSION","DEFAULT_TIMEOUT","MAX_NETWORK_RETRY_DELAY_SEC","INITIAL_NETWORK_RETRY_DELAY_SEC","APP_INFO_PROPERTIES","ALLOWED_CONFIG_PROPERTIES","defaultRequestSenderFactory","createStripe","requestSender","Stripe","createWebhooksDefault","fns","config","props","typescript","_Error","info","clientId","cb","seed","uname","userAgent","field","client","formatted","createClient","define_process_env_default","BusinessOnboardingService","restaurantData","membershipTiers","pricingTier","stripeProductIds","rollbackNeeded","restaurantError","product","price","tiersToInsert","tierError","priceId","productId","stripeError","pricingTiers","LoadingSpinner","color","className","sizeClass","jsx","RestaurantForm","initialData","onSubmit","isSubmitting","errors","sessionId","tierInfo","formData","setFormData","useState","localErrors","setLocalErrors","useEffect","validateEmail","validatePassword","password","issues","validateField","handleInputChange","validationError","handleFileChange","file","ALLOWED_TYPES","MAX_SIZE","handleSubmit","isValid","newErrors","passwordIssues","jsxs","Fragment","MembershipTierModal","isOpen","onClose","onSave","isEditing","setTierData","setErrors","setIsSubmitting","handleChange","validateForm","priceValue","savedTier","X","Wine","FileText","tierIcons","Star","Grape","GlassWater","MembershipTierList","tiers","onTierAdded","onTierUpdated","onTierDeleted","minTiersRequired","showModal","setShowModal","currentTier","setCurrentTier","setIsEditing","openAddModal","openEditModal","handleSave","confirmDelete","getTierStyle","tierStyle","Edit","Trash2","RegistrationSteps","initialStep","initialRestaurantData","initialTiers","onComplete","currentStep","setCurrentStep","setRestaurantData","setMembershipTiers","handleRestaurantSubmit","handleTierAdded","handleTierUpdated","updatedTier","handleTierDeleted","handleFinalSubmit","renderProgressSteps","CheckCircle","Building2","stepContent","RestaurantOnboarding","restaurantRef","useParams","navigate","useNavigate","location","useLocation","queryParams","paymentStatus","isLoading","setIsLoading","registrationComplete","setRegistrationComplete","setTierInfo","setTiers","setRestaurantId","paymentVerified","setPaymentVerified","tierDetails","invitation","existingTiers","handleRegistrationComplete","restaurantCreationData","membershipTierConfigs","finalRestaurantId","tierPromises"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200]}