import{b as f,a as y,r as a,j as e,C as r,A as N,B as x,e as h,W as u,n as v,H as w,k as C}from"./index-B_hz4XkG.js";const E=()=>{const[l]=f(),c=y(),[s,b]=a.useState(null),[p,m]=a.useState(!0),[o,d]=a.useState(null),n=l.get("session_id"),i=l.get("token");if(a.useEffect(()=>{(async()=>{if(!n||!i){d("Missing session or token information"),m(!1);return}try{const t=await fetch("/api/verify-customer-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:n,token:i})});if(!t.ok)throw new Error("Failed to verify payment");const g=await t.json();b(g)}catch(t){d(t instanceof Error?t.message:"Failed to process your membership")}finally{m(!1)}})()},[n,i]),p)return e.jsx("div",{className:"min-h-screen bg-[#fdfaf7] px-6 py-10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#800020] mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Activating your membership..."})]})});if(o||!s)return e.jsx("div",{className:"min-h-screen bg-[#fdfaf7] px-6 py-10 flex items-center justify-center",children:e.jsxs(r,{className:"max-w-md mx-auto p-8 text-center",children:[e.jsx(N,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Processing Error"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o||"There was an issue processing your membership. Please contact support."}),e.jsx(x,{onClick:()=>c("/"),variant:"secondary",className:"w-full",children:"Return Home"})]})});const j=new Date(s.subscription.current_period_end).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"min-h-screen bg-[#fdfaf7] px-6 py-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(h,{className:"h-24 w-24 text-green-500 mx-auto mb-6"}),e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:["üéâ Welcome to ",s.business.name,"'s Wine Club!"]}),e.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Your membership has been successfully activated"}),e.jsxs("p",{className:"text-lg text-gray-500",children:["Get ready for an amazing wine journey, ",s.customer.name,"!"]})]}),e.jsxs(r,{className:"p-8 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Your Membership Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-[#800020]/5 rounded-lg border border-[#800020]/20",children:[e.jsx(u,{className:"h-12 w-12 text-[#800020] mx-auto mb-4"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[s.customer.tier_name," Member"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["$",(s.subscription.amount/100).toFixed(2),"/month"]})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(h,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Status: Active"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Next billing: ",j]})]})]})]}),e.jsxs(r,{className:"p-8 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"What Happens Next?"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-[#800020] text-white rounded-full flex items-center justify-center text-sm font-bold mr-4 mt-1",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Profile Curation"}),e.jsx("p",{className:"text-gray-600",children:"Our wine experts will review your preferences and curate personalized selections"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-[#800020] text-white rounded-full flex items-center justify-center text-sm font-bold mr-4 mt-1",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"First Shipment"}),e.jsx("p",{className:"text-gray-600",children:"Your first curated wine selection will be shipped within 3-5 business days"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-8 h-8 bg-[#800020] text-white rounded-full flex items-center justify-center text-sm font-bold mr-4 mt-1",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Member Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Access your personal dashboard to track shipments, rate wines, and update preferences"})]})]})]})]}),e.jsxs(r,{className:"p-8 mb-8 bg-gradient-to-br from-[#800020]/5 to-[#800020]/10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Your Member Benefits"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"h-8 w-8 text-[#800020] mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Curated Selections"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hand-picked wines based on your taste preferences"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(v,{className:"h-8 w-8 text-[#800020] mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Flexible Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly deliveries with easy skip and pause options"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(w,{className:"h-8 w-8 text-[#800020] mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Expert Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access to wine experts and tasting notes"})]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs(x,{onClick:()=>c("/customer/dashboard"),className:"px-8 py-3",children:["Access Your Dashboard",e.jsx(C,{className:"w-5 h-5 ml-2"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["A confirmation email has been sent to ",s.customer.email]})]}),e.jsxs("div",{className:"text-center mt-12 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Questions About Your Membership?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Our customer service team is here to help"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:["üìß Email: ",e.jsx("a",{href:"mailto:support@clubcuvee.com",className:"text-[#800020] hover:underline",children:"support@clubcuvee.com"})]}),s.business.website&&e.jsxs("p",{children:["üåê Business: ",e.jsx("a",{href:s.business.website,target:"_blank",rel:"noopener noreferrer",className:"text-[#800020] hover:underline",children:s.business.name})]})]})]})]})})};export{E as default};
//# sourceMappingURL=CustomerWelcome-CNCeKCjg.js.map
